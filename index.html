<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Global AI Token Tracker</title>
<meta name="description" content="Quarterly trend, vendor ranking, and key findings for global AI token activity.">

<meta property="og:type" content="website">
<meta property="og:title" content="Global AI Token Tracker">
<meta property="og:description" content="Track CN vs US vs Global token trends, rankings, and key findings.">
<meta property="og:url" content="https://tokentrackerapi.com/">
<meta property="og:image" content="https://tokentrackerapi.com/og-cover.png">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Global AI Token Tracker">
<meta name="twitter:description" content="Quarterly trend, ranking, and key findings for AI token activity.">
<meta name="twitter:image" content="https://tokentrackerapi.com/og-cover.png">

<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

<style>
  :root {
    --bg: #f7f6f3;
    --surface: #ffffff;
    --surface-soft: #fbfaf7;
    --border: #e6e3dc;
    --text: #171715;
    --muted: #6f6d67;
    --subtle: #9a9791;
    --accent: #20201d;
    --cn: #c0392b;
    --us: #2563eb;
    --global: #7a7a74;
    --chip: #efece6;
    --success: #166534;
    --danger: #8b1d13;
    --radius: 10px;
    --shadow: 0 1px 0 rgba(0, 0, 0, 0.03);
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html,
  body {
    width: 100%;
  }

  body {
    font-family: Georgia, "Times New Roman", serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.55;
  }

  a {
    color: inherit;
  }

  .page {
    max-width: 1160px;
    margin: 0 auto;
    padding: 0 24px 36px;
  }

  .top {
    border-bottom: 2px solid var(--text);
    padding: 28px 0 18px;
    margin-bottom: 26px;
  }

  .top-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    gap: 16px;
    flex-wrap: wrap;
  }

  .title-wrap {
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .title {
    font-size: 1.85rem;
    letter-spacing: -0.01em;
    font-weight: 700;
  }

  .subtitle {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 0.76rem;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--muted);
  }

  .header-side {
    display: flex;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
  }

  .stamp {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 0.72rem;
    color: var(--muted);
  }

  .lang {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 3px;
    border: 1.5px solid var(--border);
    background: var(--chip);
    border-radius: 999px;
  }

  .lang-btn {
    border: 0;
    background: transparent;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 0.74rem;
    font-weight: 700;
    color: var(--muted);
    letter-spacing: 0.02em;
    padding: 5px 10px;
    border-radius: 999px;
    cursor: pointer;
  }

  .lang-btn.active {
    background: var(--text);
    color: #ffffff;
  }

  .tabs {
    display: flex;
    gap: 8px;
    margin-bottom: 22px;
    flex-wrap: wrap;
  }

  .tab-btn {
    border: 1.5px solid var(--border);
    border-radius: 999px;
    background: var(--surface);
    font-family: Arial, Helvetica, sans-serif;
    font-size: 0.8rem;
    font-weight: 700;
    color: var(--muted);
    padding: 8px 14px;
    letter-spacing: 0.01em;
    cursor: pointer;
    transition: all 0.15s ease;
  }

  .tab-btn:hover {
    border-color: #d6d1c8;
  }

  .tab-btn.active {
    background: var(--text);
    color: #ffffff;
    border-color: var(--text);
  }

  .panel {
    display: none;
    margin-bottom: 24px;
  }

  .panel.active {
    display: block;
  }

  .section-card {
    background: var(--surface);
    border: 1.5px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
  }

  .section-head {
    padding: 16px 18px 12px;
    border-bottom: 1px solid var(--border);
  }

  .section-head h2 {
    font-size: 0.92rem;
    letter-spacing: 0.01em;
    font-weight: 700;
    margin-bottom: 3px;
  }

  .section-head p {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 0.75rem;
    color: var(--muted);
  }

  .metric-switch {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    margin-top: 10px;
    padding: 3px;
    border: 1px solid var(--border);
    background: var(--surface-soft);
    border-radius: 999px;
  }

  .metric-btn {
    border: 0;
    border-radius: 999px;
    background: transparent;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 0.72rem;
    color: var(--muted);
    font-weight: 700;
    padding: 5px 11px;
    cursor: pointer;
  }

  .metric-btn.active {
    color: #ffffff;
    background: var(--text);
  }

  .chart-wrap {
    padding: 18px 18px 14px;
    height: 380px;
  }

  .trend-foot {
    font-family: Arial, Helvetica, sans-serif;
    color: var(--muted);
    font-size: 0.72rem;
    padding: 0 18px 16px;
  }

  .table-wrap {
    width: 100%;
    overflow-x: auto;
  }

  table {
    border-collapse: collapse;
    width: 100%;
    min-width: 1000px;
    font-family: Arial, Helvetica, sans-serif;
  }

  th {
    text-align: left;
    padding: 10px 12px;
    border-bottom: 1px solid var(--border);
    font-size: 0.66rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--subtle);
    white-space: nowrap;
  }

  th.num,
  td.num {
    text-align: right;
    font-variant-numeric: tabular-nums;
  }

  td {
    border-bottom: 1px solid var(--border);
    font-size: 0.8rem;
    padding: 12px;
    vertical-align: middle;
  }

  tr:hover td {
    background: #faf9f6;
  }

  .rank {
    color: var(--subtle);
    font-size: 0.74rem;
  }

  .vendor {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-family: Georgia, "Times New Roman", serif;
    font-size: 0.95rem;
    color: var(--text);
    font-weight: 700;
  }

  .country {
    display: inline-block;
    font-size: 0.62rem;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    border-radius: 4px;
    padding: 2px 7px;
    font-weight: 700;
    border: 1px solid transparent;
  }

  .country.cn {
    color: #8b1d13;
    background: #fdf1ee;
    border-color: #f5d8d2;
  }

  .country.us {
    color: #1d4ed8;
    background: #edf4ff;
    border-color: #d8e8ff;
  }

  .country.eu {
    color: #166534;
    background: #eefbf1;
    border-color: #d7f1dd;
  }

  .country.ca {
    color: #5b21b6;
    background: #f2ecff;
    border-color: #e6dcff;
  }

  .value-main {
    font-weight: 700;
    color: var(--text);
  }

  .value-secondary {
    color: var(--muted);
    font-size: 0.74rem;
  }

  .time-normalized {
    font-weight: 700;
    color: var(--text);
  }

  .time-source {
    color: var(--subtle);
    font-size: 0.7rem;
    margin-top: 2px;
  }

  .source-link {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    color: var(--muted);
    font-weight: 700;
    font-size: 0.7rem;
    text-decoration: none;
    border: 1px solid var(--border);
    border-radius: 999px;
    padding: 4px 8px;
    background: var(--surface-soft);
  }

  .source-link:hover {
    color: var(--text);
    border-color: #d9d4cb;
  }

  .source-icon {
    font-size: 0.72rem;
  }

  .confidence {
    color: var(--subtle);
    font-size: 0.72rem;
  }

  .summary-grid {
    display: grid;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: 14px;
    padding: 16px;
  }

  .stat {
    border: 1.5px solid var(--border);
    border-radius: var(--radius);
    background: var(--surface-soft);
    padding: 16px 14px;
    display: flex;
    flex-direction: column;
    gap: 8px;
    min-height: 188px;
  }

  .stat-label {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 0.67rem;
    text-transform: uppercase;
    letter-spacing: 0.09em;
    color: var(--muted);
    font-weight: 700;
  }

  .stat-num {
    font-size: 2rem;
    font-weight: 700;
    letter-spacing: -0.02em;
    line-height: 1.05;
  }

  .stat-desc {
    font-family: Arial, Helvetica, sans-serif;
    color: var(--muted);
    font-size: 0.75rem;
    line-height: 1.45;
    flex: 1;
  }

  .copy-btn {
    border: 1px solid var(--border);
    border-radius: 999px;
    background: #ffffff;
    color: var(--text);
    font-family: Arial, Helvetica, sans-serif;
    font-size: 0.68rem;
    font-weight: 700;
    letter-spacing: 0.02em;
    padding: 6px 10px;
    cursor: pointer;
    align-self: flex-start;
  }

  .copy-btn:hover {
    border-color: #d7d2c8;
  }

  .copy-btn.copied {
    color: var(--success);
    border-color: #b8e3c5;
    background: #f2fbf5;
  }

  .dark-zone {
    margin-top: 12px;
    border: 1px dashed #d8d2c8;
    border-radius: var(--radius);
    background: #fbfaf7;
  }

  .dark-toggle {
    width: 100%;
    border: 0;
    border-radius: var(--radius);
    text-align: left;
    padding: 12px 14px;
    background: transparent;
    color: var(--muted);
    font-family: Arial, Helvetica, sans-serif;
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 0.01em;
    cursor: pointer;
  }

  .dark-content {
    display: none;
    border-top: 1px dashed #ddd7cd;
    padding: 12px 12px 8px;
  }

  .dark-zone.open .dark-content {
    display: block;
  }

  .dark-note {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 0.72rem;
    color: var(--muted);
    padding: 10px 2px 4px;
  }

  .github-link {
    color: var(--text);
    text-decoration: underline;
    text-underline-offset: 2px;
  }

  .findings-caption {
    padding: 0 16px 16px;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 0.72rem;
    color: var(--muted);
  }

  footer {
    margin-top: 16px;
    border-top: 1px solid var(--border);
    padding-top: 14px;
    display: flex;
    justify-content: space-between;
    gap: 10px;
    flex-wrap: wrap;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 0.71rem;
    color: var(--subtle);
  }

  @media (max-width: 1080px) {
    .summary-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @media (max-width: 720px) {
    .page {
      padding: 0 14px 28px;
    }

    .title {
      font-size: 1.48rem;
    }

    .chart-wrap {
      height: 300px;
    }

    .summary-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
</head>
<body>
<div class="page">

  <header class="top">
    <div class="top-row">
      <div class="title-wrap">
        <h1 class="title" data-i18n="title">Global AI Token Tracker</h1>
        <p class="subtitle" data-i18n="subtitle">Quarterly trend and vendor ranking</p>
      </div>

      <div class="header-side">
        <div class="stamp" data-i18n="updated">Updated 2026-02</div>
        <div class="lang" aria-label="Language toggle">
          <button class="lang-btn active" id="langEN" type="button">EN</button>
          <button class="lang-btn" id="langZH" type="button">‰∏≠Êñá</button>
        </div>
      </div>
    </div>
  </header>

  <nav class="tabs" aria-label="Sections">
    <button class="tab-btn active" type="button" data-tab="trend">üìà <span data-i18n="tabTrend">Trend</span></button>
    <button class="tab-btn" type="button" data-tab="ranking">üèÜ <span data-i18n="tabRanking">Ranking</span></button>
    <button class="tab-btn" type="button" data-tab="findings">üí° <span data-i18n="tabFindings">Key Findings</span></button>
  </nav>

  <section class="panel active" id="panel-trend" aria-labelledby="trend-tab">
    <article class="section-card">
      <div class="section-head">
        <h2 data-i18n="trendTitle">Quarterly Token Trend (2024-Q1 to 2026-Q1)</h2>
        <p data-i18n="trendSub">CN (red), US (blue), and Global (gray). Shaded zone indicates projected quarters.</p>
      </div>
      <div class="chart-wrap">
        <canvas id="trendChart"></canvas>
      </div>
      <div class="trend-foot" data-i18n="trendFoot">Global line is calculated as CN + US for consistency of the displayed series.</div>
    </article>
  </section>

  <section class="panel" id="panel-ranking" aria-labelledby="ranking-tab">
    <article class="section-card">
      <div class="section-head">
        <h2 data-i18n="rankingTitle">Vendor Ranking</h2>
        <p data-i18n="rankingSub">All rows normalized to 2026-02 est. Source date is shown in gray.</p>
        <div class="metric-switch" role="group" aria-label="Metric switch">
          <button class="metric-btn active" type="button" id="metricRaw" data-i18n="metricRaw">Token Volume</button>
          <button class="metric-btn" type="button" id="metricAdjusted" data-i18n="metricAdjusted">Token Volume (Adjusted)</button>
        </div>
      </div>

      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th style="width: 52px;" data-i18n="colRank">#</th>
              <th data-i18n="colVendor">Vendor</th>
              <th data-i18n="colCountry">Country</th>
              <th class="num" id="colMainHeader" data-i18n="colToken">Token Volume</th>
              <th class="num" id="colAdjustedHeader" data-i18n="colAdjusted">Token Volume (Adjusted)</th>
              <th data-i18n="colTime">Time</th>
              <th data-i18n="colConf">Confidence</th>
              <th data-i18n="colSource">Source</th>
            </tr>
          </thead>
          <tbody id="rankingBody"></tbody>
        </table>
      </div>

      <div class="dark-zone" id="darkZone">
        <button type="button" class="dark-toggle" id="darkToggle">Show 11 hidden ‚ñº</button>
        <div class="dark-content">
          <div class="table-wrap">
            <table>
              <thead>
                <tr>
                  <th style="width: 52px;" data-i18n="colRank">#</th>
                  <th data-i18n="colVendor">Vendor</th>
                  <th data-i18n="colCountry">Country</th>
                  <th data-i18n="colReason">Dark Zone Reason</th>
                  <th data-i18n="colSource">Source</th>
                </tr>
              </thead>
              <tbody id="darkBody"></tbody>
            </table>
          </div>
          <p class="dark-note">
            <span data-i18n="darkCtaLabel">Know a source?</span>
            <a class="github-link" href="https://github.com/" target="_blank" rel="noopener noreferrer" data-i18n="darkCtaLink">Submit on GitHub</a>
          </p>
        </div>
      </div>
    </article>
  </section>

  <section class="panel" id="panel-findings" aria-labelledby="findings-tab">
    <article class="section-card">
      <div class="section-head">
        <h2 data-i18n="findingsTitle">Key Findings</h2>
        <p data-i18n="findingsSub">Four headline metrics with one-click share text.</p>
      </div>

      <div class="summary-grid" id="findingsGrid"></div>

      <p class="findings-caption" data-i18n="findingsFoot">Share copies plain text to clipboard for chat, docs, or social posts.</p>
    </article>
  </section>

  <footer>
    <div data-i18n="footerLeft">Built with public disclosures, official posts, and verifiable references.</div>
    <div data-i18n="footerRight">Theme: warm beige (#f7f6f3) with Georgia serif.</div>
  </footer>
</div>

<script>
  const APP = {
    language: 'en',
    metric: 'raw',
    activeTab: 'trend',
    chart: null
  };

  const QUARTERS = [
    '2024-Q1',
    '2024-Q2',
    '2024-Q3',
    '2024-Q4',
    '2025-Q1',
    '2025-Q2',
    '2025-Q3',
    '2025-Q4',
    '2026-Q1'
  ];

  const CN_SERIES = [
    0.1,
    0.5,
    4,
    6,
    18,
    25,
    35,
    55,
    70
  ];

  const US_SERIES = [
    2,
    4,
    6,
    8,
    12,
    18,
    22,
    28,
    35
  ];

  const GLOBAL_SERIES = CN_SERIES.map(function(cnValue, index) {
    return Number((cnValue + US_SERIES[index]).toFixed(1));
  });

  const SOURCES = {
    earnings: {
      label: 'Earnings',
      url: 'https://investor.google.com/'
    },
    official: {
      label: 'Official',
      url: 'https://openai.com/news/'
    },
    media: {
      label: 'Media',
      url: 'https://www.reuters.com/'
    },
    dashboard: {
      label: 'Dashboard',
      url: 'https://openrouter.ai/'
    },
    estimate: {
      label: 'Estimate',
      url: 'https://tokentrackerapi.com/'
    }
  };

  const RANKING_ROWS = [
    {
      vendor: 'ByteDance (Doubao)',
      country: 'CN',
      tokenVolume: 50,
      adjustedVolume: 7.0,
      sourceDate: '2025-12',
      confidence: 2,
      sourceType: 'media'
    },
    {
      vendor: 'Alibaba (Qwen)',
      country: 'CN',
      tokenVolume: 5,
      adjustedVolume: 0.7,
      sourceDate: '2025',
      confidence: 2,
      sourceType: 'media'
    },
    {
      vendor: 'Baidu (ERNIE)',
      country: 'CN',
      tokenVolume: 1.6,
      adjustedVolume: 0.08,
      sourceDate: '2024-12',
      confidence: 3,
      sourceType: 'earnings'
    },
    {
      vendor: 'iFlytek (Spark)',
      country: 'CN',
      tokenVolume: 1.5,
      adjustedVolume: 0.08,
      sourceDate: '2024-Q4',
      confidence: 2,
      sourceType: 'earnings'
    },
    {
      vendor: 'Moonshot (Kimi)',
      country: 'CN',
      tokenVolume: 0.17,
      adjustedVolume: 0.02,
      sourceDate: '2026-02',
      confidence: 3,
      sourceType: 'dashboard'
    },
    {
      vendor: 'Zhipu (GLM)',
      country: 'CN',
      tokenVolume: 0.11,
      adjustedVolume: 0.01,
      sourceDate: '2026-02',
      confidence: 3,
      sourceType: 'dashboard'
    },
    {
      vendor: 'Tencent (Hunyuan)',
      country: 'CN',
      tokenVolume: 0.09,
      adjustedVolume: 0.01,
      sourceDate: '2026-01',
      confidence: 1,
      sourceType: 'estimate'
    },
    {
      vendor: 'Google (Gemini)',
      country: 'US',
      tokenVolume: 33,
      adjustedVolume: 2.5,
      sourceDate: '2025-Q3',
      confidence: 3,
      sourceType: 'earnings'
    },
    {
      vendor: 'OpenAI',
      country: 'US',
      tokenVolume: 13,
      adjustedVolume: 32.5,
      sourceDate: '2025-10',
      confidence: 2,
      sourceType: 'media'
    },
    {
      vendor: 'OpenRouter',
      country: 'US',
      tokenVolume: 1.0,
      adjustedVolume: 0.15,
      sourceDate: '2025',
      confidence: 3,
      sourceType: 'official'
    },
    {
      vendor: 'MiniMax',
      country: 'CN',
      tokenVolume: 0.35,
      adjustedVolume: 0.04,
      sourceDate: '2026-02',
      confidence: 3,
      sourceType: 'dashboard'
    },
    {
      vendor: 'Mistral',
      country: 'EU',
      tokenVolume: 0.2,
      adjustedVolume: 0.03,
      sourceDate: '2025-12',
      confidence: 1,
      sourceType: 'official'
    }
  ];

  const DARK_ROWS = [
    {
      vendor: 'xAI (Grok)',
      country: 'US',
      reason: 'Private platform telemetry not publicly disclosed.',
      sourceType: 'estimate'
    },
    {
      vendor: 'Anthropic',
      country: 'US',
      reason: 'Revenue known, direct token flow not published.',
      sourceType: 'estimate'
    },
    {
      vendor: 'Meta (Llama API)',
      country: 'US',
      reason: 'Usage references are directional without normalized totals.',
      sourceType: 'estimate'
    },
    {
      vendor: 'Microsoft (Azure AI)',
      country: 'US',
      reason: 'Bundled cloud reporting masks model-level token counts.',
      sourceType: 'estimate'
    },
    {
      vendor: 'Amazon (Bedrock)',
      country: 'US',
      reason: 'Aggregate cloud disclosures omit per-model token volume.',
      sourceType: 'estimate'
    },
    {
      vendor: 'DeepSeek',
      country: 'CN',
      reason: 'Market-share signals exist but daily token totals are absent.',
      sourceType: 'estimate'
    },
    {
      vendor: '01.AI (Yi)',
      country: 'CN',
      reason: 'No recurring public reporting cadence.',
      sourceType: 'estimate'
    },
    {
      vendor: 'StepFun',
      country: 'CN',
      reason: 'No official disclosure for token throughput.',
      sourceType: 'estimate'
    },
    {
      vendor: 'SenseTime',
      country: 'CN',
      reason: 'Enterprise deployments are private and fragmented.',
      sourceType: 'estimate'
    },
    {
      vendor: 'Cohere',
      country: 'CA',
      reason: 'Enterprise contract data is not presented as token totals.',
      sourceType: 'estimate'
    },
    {
      vendor: 'Together AI',
      country: 'US',
      reason: 'Public metrics emphasize model catalog, not total tokens.',
      sourceType: 'estimate'
    }
  ];

  const FINDINGS = [
    {
      id: 'f1',
      enLabel: 'CN share (Q1 2026)',
      zhLabel: '‰∏≠ÂõΩ‰ªΩÈ¢ùÔºà2026-Q1Ôºâ',
      value: '66.7%',
      enDesc: 'CN line reaches 70 versus US 35 in 2026-Q1, with 105 global combined.',
      zhDesc: '2026-Q1 ‰∏≠ CN=70ÔºåUS=35ÔºåÂÖ®ÁêÉÂêàËÆ° 105„ÄÇ',
      shareEn: 'CN share reached 66.7% in 2026-Q1 (70 out of 105 combined).',
      shareZh: '2026-Q1 ‰∏≠ÂõΩ‰ªΩÈ¢ùËææÂà∞ 66.7%Ôºà70/105Ôºâ„ÄÇ'
    },
    {
      id: 'f2',
      enLabel: 'Fastest quarterly jump',
      zhLabel: 'ÊúÄÂø´Â≠£Â∫¶Â¢ûÈïø',
      value: '+20',
      enDesc: 'CN rose from 35 to 55 between 2025-Q3 and 2025-Q4.',
      zhDesc: '2025-Q3 Âà∞ 2025-Q4Ôºå‰∏≠ÂõΩ‰ªé 35 Â¢ûÈïøÂà∞ 55„ÄÇ',
      shareEn: 'Largest quarter-to-quarter jump was CN +20 from 2025-Q3 to 2025-Q4.',
      shareZh: 'ÊúÄÂ§ßÂ≠£Â∫¶Â¢ûÈïø‰∏∫‰∏≠ÂõΩ +20Ôºà2025-Q3 Âà∞ 2025-Q4Ôºâ„ÄÇ'
    },
    {
      id: 'f3',
      enLabel: 'Top raw volume vendor',
      zhLabel: 'ÂéüÂßã‰ΩìÈáèÁ¨¨‰∏Ä',
      value: 'ByteDance',
      enDesc: 'ByteDance (Doubao) leads raw token volume at 50T/day.',
      zhDesc: 'ByteDance (Doubao) ‰ª• 50T/Êó•‰ΩçÂ±ÖÂéüÂßã‰ΩìÈáèÁ¨¨‰∏Ä„ÄÇ',
      shareEn: 'ByteDance (Doubao) is #1 by raw token volume at 50T/day.',
      shareZh: 'ByteDance (Doubao) ‰ª• 50T/Êó•ÊéíÂêçÂéüÂßã‰ΩìÈáèÁ¨¨‰∏Ä„ÄÇ'
    },
    {
      id: 'f4',
      enLabel: 'Top adjusted volume vendor',
      zhLabel: 'Ë∞ÉÊï¥Âêé‰ΩìÈáèÁ¨¨‰∏Ä',
      value: 'OpenAI',
      enDesc: 'OpenAI leads adjusted token volume at 32.5 units/day.',
      zhDesc: 'OpenAI ‰ª• 32.5 Âçï‰Ωç/Êó•‰ΩçÂ±ÖË∞ÉÊï¥Âêé‰ΩìÈáèÁ¨¨‰∏Ä„ÄÇ',
      shareEn: 'OpenAI is #1 by Token Volume (Adjusted) at 32.5 units/day.',
      shareZh: 'OpenAI ‰ª• 32.5 Âçï‰Ωç/Êó•ÊéíÂêç Token Volume (Adjusted) Á¨¨‰∏Ä„ÄÇ'
    }
  ];

  const I18N = {
    en: {
      title: 'Global AI Token Tracker',
      subtitle: 'Quarterly trend and vendor ranking',
      updated: 'Updated 2026-02',
      tabTrend: 'Trend',
      tabRanking: 'Ranking',
      tabFindings: 'Key Findings',
      trendTitle: 'Quarterly Token Trend (2024-Q1 to 2026-Q1)',
      trendSub: 'CN (red), US (blue), and Global (gray). Shaded zone indicates projected quarters.',
      trendFoot: 'Global line is calculated as CN + US for consistency of the displayed series.',
      rankingTitle: 'Vendor Ranking',
      rankingSub: 'All rows normalized to 2026-02 est. Source date is shown in gray.',
      metricRaw: 'Token Volume',
      metricAdjusted: 'Token Volume (Adjusted)',
      colRank: '#',
      colVendor: 'Vendor',
      colCountry: 'Country',
      colToken: 'Token Volume',
      colAdjusted: 'Token Volume (Adjusted)',
      colTime: 'Time',
      colConf: 'Confidence',
      colSource: 'Source',
      colReason: 'Dark Zone Reason',
      findingsTitle: 'Key Findings',
      findingsSub: 'Four headline metrics with one-click share text.',
      findingsFoot: 'Share copies plain text to clipboard for chat, docs, or social posts.',
      darkCtaLabel: 'Know a source?',
      darkCtaLink: 'Submit on GitHub',
      footerLeft: 'Built with public disclosures, official posts, and verifiable references.',
      footerRight: 'Theme: warm beige (#f7f6f3) with Georgia serif.',
      copy: 'Share',
      copied: 'Copied',
      confidenceHigh: 'High',
      confidenceMedium: 'Medium',
      confidenceLow: 'Low',
      normalizedTime: '2026-02 est.'
    },
    zh: {
      title: 'ÂÖ®ÁêÉ AI Token ËøΩË∏™',
      subtitle: 'Â≠£Â∫¶Ë∂ãÂäø‰∏éÂéÇÂïÜÊéíÂêç',
      updated: 'Êõ¥Êñ∞‰∫é 2026-02',
      tabTrend: 'Ë∂ãÂäø',
      tabRanking: 'ÊéíÂêç',
      tabFindings: 'ÂÖ≥ÈîÆÁªìËÆ∫',
      trendTitle: 'Â≠£Â∫¶ Token Ë∂ãÂäøÔºà2024-Q1 Âà∞ 2026-Q1Ôºâ',
      trendSub: '‰∏≠ÂõΩÔºàÁ∫¢Ôºâ„ÄÅÁæéÂõΩÔºàËìùÔºâ„ÄÅÂÖ®ÁêÉÔºàÁÅ∞Ôºâ„ÄÇÈò¥ÂΩ±Âå∫‰∏∫È¢ÑÊµãÂå∫Èó¥„ÄÇ',
      trendFoot: '‰∏∫‰øùÊåÅÂ∫èÂàóÂèØÊØîÊÄßÔºåÂÖ®ÁêÉÁ∫øÊåâ CN + US ËÆ°ÁÆó„ÄÇ',
      rankingTitle: 'ÂéÇÂïÜÊéíÂêç',
      rankingSub: 'ÊâÄÊúâË°åÁªü‰∏ÄÊòæÁ§∫ 2026-02 est.ÔºåÂéüÂßãÊù•Ê∫êÊó•Êúü‰ª•ÁÅ∞Â≠óÂ±ïÁ§∫„ÄÇ',
      metricRaw: 'Token ‰ΩìÈáè',
      metricAdjusted: 'Token ‰ΩìÈáèÔºàË∞ÉÊï¥ÂêéÔºâ',
      colRank: '#',
      colVendor: 'ÂéÇÂïÜ',
      colCountry: 'ÂõΩÂÆ∂/Âú∞Âå∫',
      colToken: 'Token ‰ΩìÈáè',
      colAdjusted: 'Token ‰ΩìÈáèÔºàË∞ÉÊï¥ÂêéÔºâ',
      colTime: 'Êó∂Èó¥',
      colConf: 'ÁΩÆ‰ø°Â∫¶',
      colSource: 'Êù•Ê∫ê',
      colReason: 'ÊöóÂå∫ÂéüÂõ†',
      findingsTitle: 'ÂÖ≥ÈîÆÁªìËÆ∫',
      findingsSub: 'ÂõõÂº†Â§ßÂç°ÁâáÔºå‰∏ÄÈîÆÂ§çÂà∂ÂàÜ‰∫´ÊñáÊ°à„ÄÇ',
      findingsFoot: 'ÁÇπÂáª Share ÂèØÂ§çÂà∂Á∫ØÊñáÊú¨ÔºåÁî®‰∫éËÅäÂ§©„ÄÅÊñáÊ°£ÊàñÁ§æ‰∫§Â™í‰Ωì„ÄÇ',
      darkCtaLabel: 'ÊúâÁ∫øÁ¥¢Êù•Ê∫êÔºü',
      darkCtaLink: 'Êèê‰∫§Âà∞ GitHub',
      footerLeft: 'Âü∫‰∫éÂÖ¨ÂºÄÊä´Èú≤„ÄÅÂÆòÊñπÂèëÂ∏É‰∏éÂèØÈ™åËØÅÊù•Ê∫êÊûÑÂª∫„ÄÇ',
      footerRight: 'ËÆæËÆ°‰∏ªÈ¢òÔºöÊöñÁ±≥Ëâ≤ (#f7f6f3) + Georgia Ë°¨Á∫ø‰Ωì„ÄÇ',
      copy: 'ÂàÜ‰∫´',
      copied: 'Â∑≤Â§çÂà∂',
      confidenceHigh: 'È´ò',
      confidenceMedium: '‰∏≠',
      confidenceLow: '‰Ωé',
      normalizedTime: '2026-02 est.'
    }
  };

  function getConfidenceLabel(level) {
    if (level >= 3) {
      return APP.language === 'zh' ? I18N.zh.confidenceHigh : I18N.en.confidenceHigh;
    }

    if (level === 2) {
      return APP.language === 'zh' ? I18N.zh.confidenceMedium : I18N.en.confidenceMedium;
    }

    return APP.language === 'zh' ? I18N.zh.confidenceLow : I18N.en.confidenceLow;
  }

  function getCountryClass(countryCode) {
    if (countryCode === 'CN') {
      return 'cn';
    }

    if (countryCode === 'US') {
      return 'us';
    }

    if (countryCode === 'EU') {
      return 'eu';
    }

    return 'ca';
  }

  function formatRaw(value) {
    if (value >= 10) {
      return value.toFixed(0) + 'T/day';
    }

    if (value >= 1) {
      return value.toFixed(1).replace('.0', '') + 'T/day';
    }

    return value.toFixed(2).replace(/0+$/, '').replace(/\.$/, '') + 'T/day';
  }

  function formatAdjusted(value) {
    if (value >= 10) {
      return value.toFixed(1).replace('.0', '') + ' units/day';
    }

    if (value >= 1) {
      return value.toFixed(2).replace(/0+$/, '').replace(/\.$/, '') + ' units/day';
    }

    return value.toFixed(2).replace(/0+$/, '').replace(/\.$/, '') + ' units/day';
  }

  function sortRows(rows, metric) {
    const sorted = rows.slice();

    if (metric === 'raw') {
      sorted.sort(function(a, b) {
        return b.tokenVolume - a.tokenVolume;
      });
    } else {
      sorted.sort(function(a, b) {
        return b.adjustedVolume - a.adjustedVolume;
      });
    }

    return sorted;
  }

  function renderRanking() {
    const body = document.getElementById('rankingBody');
    const sortedRows = sortRows(RANKING_ROWS, APP.metric);

    let html = '';

    sortedRows.forEach(function(row, index) {
      const source = SOURCES[row.sourceType];
      const mainValue = APP.metric === 'raw' ? formatRaw(row.tokenVolume) : formatAdjusted(row.adjustedVolume);

      html += '<tr>';
      html += '<td class="rank">' + (index + 1) + '</td>';

      html += '<td>';
      html += '<span class="vendor">' + row.vendor + '</span>';
      html += '</td>';

      html += '<td>';
      html += '<span class="country ' + getCountryClass(row.country) + '">' + row.country + '</span>';
      html += '</td>';

      html += '<td class="num">';
      html += '<span class="value-main">' + mainValue + '</span>';
      html += '</td>';

      html += '<td class="num">';
      html += '<span class="value-secondary">' + formatAdjusted(row.adjustedVolume) + '</span>';
      html += '</td>';

      html += '<td>';
      html += '<div class="time-normalized">' + I18N[APP.language].normalizedTime + '</div>';
      html += '<div class="time-source">src: ' + row.sourceDate + '</div>';
      html += '</td>';

      html += '<td>';
      html += '<span class="confidence">' + '‚òÖ'.repeat(row.confidence) + '‚òÜ'.repeat(3 - row.confidence) + ' ' + getConfidenceLabel(row.confidence) + '</span>';
      html += '</td>';

      html += '<td>';
      html += '<a class="source-link" href="' + source.url + '" target="_blank" rel="noopener noreferrer">';
      html += source.label;
      html += '<span class="source-icon">‚Üó</span>';
      html += '</a>';
      html += '</td>';

      html += '</tr>';
    });

    body.innerHTML = html;

    const mainHeader = document.getElementById('colMainHeader');

    if (APP.metric === 'raw') {
      mainHeader.textContent = I18N[APP.language].colToken;
    } else {
      mainHeader.textContent = I18N[APP.language].colAdjusted;
    }
  }

  function renderDarkZone() {
    const darkBody = document.getElementById('darkBody');
    let html = '';

    DARK_ROWS.forEach(function(row, index) {
      const source = SOURCES[row.sourceType];

      html += '<tr>';
      html += '<td class="rank">' + (index + 1) + '</td>';
      html += '<td><span class="vendor">' + row.vendor + '</span></td>';
      html += '<td><span class="country ' + getCountryClass(row.country) + '">' + row.country + '</span></td>';
      html += '<td>' + row.reason + '</td>';
      html += '<td>';
      html += '<a class="source-link" href="' + source.url + '" target="_blank" rel="noopener noreferrer">';
      html += source.label;
      html += '<span class="source-icon">‚Üó</span>';
      html += '</a>';
      html += '</td>';
      html += '</tr>';
    });

    darkBody.innerHTML = html;
  }

  function renderFindings() {
    const grid = document.getElementById('findingsGrid');
    let html = '';

    FINDINGS.forEach(function(item) {
      const label = APP.language === 'zh' ? item.zhLabel : item.enLabel;
      const desc = APP.language === 'zh' ? item.zhDesc : item.enDesc;

      html += '<article class="stat">';
      html += '<div class="stat-label">' + label + '</div>';
      html += '<div class="stat-num">' + item.value + '</div>';
      html += '<p class="stat-desc">' + desc + '</p>';
      html += '<button type="button" class="copy-btn" data-copy-id="' + item.id + '">' + I18N[APP.language].copy + '</button>';
      html += '</article>';
    });

    grid.innerHTML = html;

    const buttons = grid.querySelectorAll('.copy-btn');
    buttons.forEach(function(btn) {
      btn.addEventListener('click', function() {
        const id = btn.getAttribute('data-copy-id');
        const finding = FINDINGS.find(function(entry) {
          return entry.id === id;
        });

        if (!finding) {
          return;
        }

        const text = APP.language === 'zh' ? finding.shareZh : finding.shareEn;

        navigator.clipboard.writeText(text).then(function() {
          btn.classList.add('copied');
          btn.textContent = I18N[APP.language].copied;

          window.setTimeout(function() {
            btn.classList.remove('copied');
            btn.textContent = I18N[APP.language].copy;
          }, 1200);
        }).catch(function() {
          btn.textContent = I18N[APP.language].copied;
          window.setTimeout(function() {
            btn.textContent = I18N[APP.language].copy;
          }, 1200);
        });
      });
    });
  }

  function applyText() {
    const map = I18N[APP.language];
    const elements = document.querySelectorAll('[data-i18n]');

    elements.forEach(function(node) {
      const key = node.getAttribute('data-i18n');
      if (map[key]) {
        node.textContent = map[key];
      }
    });

    const darkToggle = document.getElementById('darkToggle');

    if (document.getElementById('darkZone').classList.contains('open')) {
      darkToggle.textContent = APP.language === 'zh' ? 'ÈöêËóè 11 Êù° ‚ñ≤' : 'Hide 11 hidden ‚ñ≤';
    } else {
      darkToggle.textContent = APP.language === 'zh' ? 'ÊòæÁ§∫ 11 Êù°ÈöêËóè ‚ñº' : 'Show 11 hidden ‚ñº';
    }
  }

  const projectionPlugin = {
    id: 'projectionPlugin',
    beforeDatasetsDraw: function(chart) {
      const xScale = chart.scales.x;
      const yScale = chart.scales.y;
      const ctx = chart.ctx;

      if (!xScale || !yScale) {
        return;
      }

      const startIndex = 7;
      const xStart = xScale.getPixelForValue(startIndex - 0.45);
      const xEnd = xScale.getPixelForValue(8.5);

      ctx.save();
      ctx.fillStyle = 'rgba(120, 120, 120, 0.10)';
      ctx.fillRect(xStart, yScale.top, xEnd - xStart, yScale.bottom - yScale.top);

      ctx.fillStyle = '#6f6d67';
      ctx.font = '11px Arial';
      ctx.fillText(APP.language === 'zh' ? 'È¢ÑÊµãÂå∫Èó¥' : 'Projected', xStart + 8, yScale.top + 14);
      ctx.restore();
    }
  };

  function buildTrendChart() {
    const context = document.getElementById('trendChart').getContext('2d');

    APP.chart = new Chart(context, {
      type: 'line',
      data: {
        labels: QUARTERS,
        datasets: [
          {
            label: 'CN',
            data: CN_SERIES,
            borderColor: '#c0392b',
            backgroundColor: 'rgba(192, 57, 43, 0.10)',
            borderWidth: 2.8,
            pointRadius: 3.8,
            pointHoverRadius: 4.6,
            pointBackgroundColor: '#c0392b',
            tension: 0.25,
            fill: false
          },
          {
            label: 'US',
            data: US_SERIES,
            borderColor: '#2563eb',
            backgroundColor: 'rgba(37, 99, 235, 0.10)',
            borderWidth: 2.8,
            pointRadius: 3.8,
            pointHoverRadius: 4.6,
            pointBackgroundColor: '#2563eb',
            tension: 0.25,
            fill: false
          },
          {
            label: 'Global',
            data: GLOBAL_SERIES,
            borderColor: '#7a7a74',
            backgroundColor: 'rgba(122, 122, 116, 0.12)',
            borderWidth: 2.6,
            pointRadius: 3.6,
            pointHoverRadius: 4.4,
            pointBackgroundColor: '#7a7a74',
            tension: 0.22,
            fill: false
          }
        ]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        interaction: {
          mode: 'index',
          intersect: false
        },
        plugins: {
          legend: {
            position: 'top',
            align: 'start',
            labels: {
              color: '#5f5d58',
              usePointStyle: true,
              boxWidth: 8,
              boxHeight: 8,
              padding: 14,
              font: {
                size: 11,
                family: 'Arial'
              }
            }
          },
          tooltip: {
            backgroundColor: '#1f1f1c',
            titleColor: '#ffffff',
            bodyColor: '#efefeb',
            padding: 10,
            bodyFont: {
              family: 'Arial',
              size: 12
            },
            callbacks: {
              label: function(context) {
                return context.dataset.label + ': ' + context.parsed.y + ' units';
              }
            }
          }
        },
        scales: {
          x: {
            grid: {
              color: '#efece6'
            },
            ticks: {
              color: '#8a8882',
              font: {
                family: 'Arial',
                size: 10
              }
            }
          },
          y: {
            beginAtZero: true,
            suggestedMax: 120,
            grid: {
              color: '#efece6'
            },
            ticks: {
              color: '#8a8882',
              font: {
                family: 'Arial',
                size: 10
              },
              callback: function(value) {
                return value + ' units';
              }
            }
          }
        }
      },
      plugins: [projectionPlugin]
    });
  }

  function wireTabs() {
    const tabButtons = document.querySelectorAll('.tab-btn');

    tabButtons.forEach(function(button) {
      button.addEventListener('click', function() {
        const target = button.getAttribute('data-tab');

        APP.activeTab = target;

        tabButtons.forEach(function(item) {
          item.classList.remove('active');
        });

        button.classList.add('active');

        document.querySelectorAll('.panel').forEach(function(panel) {
          panel.classList.remove('active');
        });

        const panel = document.getElementById('panel-' + target);
        if (panel) {
          panel.classList.add('active');
        }
      });
    });
  }

  function wireLanguage() {
    const en = document.getElementById('langEN');
    const zh = document.getElementById('langZH');

    en.addEventListener('click', function() {
      APP.language = 'en';
      en.classList.add('active');
      zh.classList.remove('active');
      rerenderAll();
    });

    zh.addEventListener('click', function() {
      APP.language = 'zh';
      zh.classList.add('active');
      en.classList.remove('active');
      rerenderAll();
    });
  }

  function wireMetric() {
    const raw = document.getElementById('metricRaw');
    const adjusted = document.getElementById('metricAdjusted');

    raw.addEventListener('click', function() {
      APP.metric = 'raw';
      raw.classList.add('active');
      adjusted.classList.remove('active');
      renderRanking();
    });

    adjusted.addEventListener('click', function() {
      APP.metric = 'adjusted';
      adjusted.classList.add('active');
      raw.classList.remove('active');
      renderRanking();
    });
  }

  function wireDarkToggle() {
    const darkZone = document.getElementById('darkZone');
    const toggle = document.getElementById('darkToggle');

    toggle.addEventListener('click', function() {
      darkZone.classList.toggle('open');
      applyText();
    });
  }

  function rerenderAll() {
    applyText();
    renderRanking();
    renderDarkZone();
    renderFindings();

    if (APP.chart) {
      APP.chart.update();
    }
  }

  function init() {
    buildTrendChart();
    wireTabs();
    wireLanguage();
    wireMetric();
    wireDarkToggle();
    rerenderAll();
  }

  init();
</script>
</body>
</html>
