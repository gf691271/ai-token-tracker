<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GATT ‚Äî Global AI Token Tracker</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='16' fill='%23171715'/><text x='50' y='68' font-size='54' font-family='Georgia,serif' font-weight='900' fill='white' text-anchor='middle'>G</text></svg>">
<meta name="description" content="GATT tracks daily AI token consumption across 29 vendors, 18 countries. China 55% volume vs US 62% value ‚Äî the Token Economy gap measured daily.">
<meta name="keywords" content="AI token consumption, global AI usage, token economy, ByteDance Doubao, OpenAI tokens, AI inference data, China AI, US AI, AI compute">
<meta name="author" content="Frank Gao">
<meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow">
  <meta name="ai-accessible" content="true">
  <meta name="llms-txt" content="https://gf691271.github.io/gatt/llms.txt">
  <link rel="alternate" type="text/plain" href="llms.txt" title="Machine-readable data summary for AI systems">
<link rel="canonical" href="https://gf691271.github.io/gatt/">

<!-- Agent/LLM friendly -->
<link rel="ai-data" href="/gatt/data/tci-latest.json" type="application/json">
<meta name="ai-readable" content="true">
<meta name="data-license" content="CC BY-NC 4.0">
<meta name="cite-as" content="Gao, F. (2026). GATT: Global AI Token Tracker. https://gf691271.github.io/gatt/">

<meta property="og:type" content="website">
<meta property="og:title" content="GATT ‚Äî Global AI Token Tracker | Token Economy Index">
<meta property="og:description" content="China runs 55% of global AI tokens. US runs 30%. But in compute value, it flips. Daily estimates from 29 vendors. The most complete open dataset.">
<meta property="og:url" content="https://gf691271.github.io/gatt/">
<meta property="og:site_name" content="GATT ‚Äî Global AI Token Tracker">
<meta property="og:image" content="https://gf691271.github.io/gatt/og-image.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="GATT Token Economy Index: China 51% volume, US 80% Token GDP, 162T daily tokens ‚Äî $45B annual Token GDP. US vendors charge 60-100√ó more per token than Chinese peers.">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@goghxiang">
<meta name="twitter:creator" content="@goghxiang">
<meta name="twitter:title" content="GATT ‚Äî Global AI Token Tracker">
<meta name="twitter:description" content="China leads by token volume 2√ó. US leads by compute value 4√ó. The gap is the story. Daily data from 29 vendors. #TokenEconomy">
<meta name="twitter:image" content="https://gf691271.github.io/gatt/og-image.png">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Dataset",
  "name": "GATT Global AI Token Tracker",
  "description": "Daily estimates of global AI token consumption across 29 vendors and 18 countries. Tracks the Token Economy ‚Äî AI inference as commodity, currency, and geopolitical signal.",
  "url": "https://gf691271.github.io/gatt/",
  "creator": {
    "@type": "Person",
    "name": "Frank Gao",
    "url": "https://linkedin.com/in/frankgao"
  },
  "license": "https://creativecommons.org/licenses/by/4.0/",
  "dateModified": "2026-02-27",
  "distribution": [
    {
      "@type": "DataDownload",
      "encodingFormat": "application/json",
      "contentUrl": "https://gf691271.github.io/gatt/data/tci-latest.json"
    }
  ],
  "keywords": ["AI tokens", "token economy", "AI inference", "ByteDance", "OpenAI", "China AI", "US AI", "global AI usage"],
  "spatialCoverage": "Global",
  "temporalCoverage": "2024-05/2026-02"
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "DefinedTerm",
  "name": "Token Economy",
  "termCode": "GATT-TE-2026",
  "description": "The global system of AI inference production, distribution, and consumption ‚Äî measured in daily token throughput across AI models, regions, and use cases. Encompasses the economic value, geopolitical distribution, and computational infrastructure of AI inference at scale.",
  "inDefinedTermSet": {
    "@type": "DefinedTermSet",
    "name": "GATT Terminology",
    "url": "https://gf691271.github.io/gatt/"
  },
  "url": "https://gf691271.github.io/gatt/#section-definition",
  "sameAs": [],
  "alternateName": ["AI inference economy", "token throughput economy"],
  "creator": {
    "@type": "Person",
    "name": "Frank Gao",
    "url": "https://linkedin.com/in/frankgao"
  },
  "dateCreated": "2026-02-26",
  "dateModified": "2026-02-27"
}
</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1/dist/chartjs-plugin-annotation.min.js"></script>
<style>
:root {
  --bg: #f7f6f3;
  --surface: #ffffff;
  --border: #e6e3dc;
  --text: #171715;
  --muted: #6f6d67;
  --subtle: #b5b2ac;
  --cn: #c0392b;
  --us: #2563eb;
  --row: #5a7a5a;
  --chip: #efece6;
  --radius: 8px;
}

/* ‚îÄ‚îÄ THEME A ‚Äî Bloomberg Terminal ‚îÄ‚îÄ */
[data-theme="a"] {
  --bg: #0d0d0b;
  --surface: #141412;
  --border: #2a2a27;
  --text: #e8e5df;
  --muted: #8a8780;
  --subtle: #4a4845;
  --cn: #ff4444;
  --us: #00d4aa;
  --row: #00d4aa;
  --chip: #1e1e1b;
  --radius: 4px;
}
[data-theme="a"] body, [data-theme="a"] html {
  font-family: 'Courier New', 'SF Mono', monospace;
}
[data-theme="a"] .site-title-abbr {
  font-family: 'Courier New', monospace;
  color: #00ff88;
  text-shadow: 0 0 20px rgba(0,255,136,0.4);
}
[data-theme="a"] .site-header { border-bottom-color: #00ff88; }
[data-theme="a"] .hl-number { font-family: 'Courier New', monospace; color: #00ff88 !important; }
[data-theme="a"] .hl-number.cn { color: #ff4444 !important; }
[data-theme="a"] .hl-number.us { color: #00d4aa !important; }
[data-theme="a"] .rank-bar-fill { box-shadow: 0 0 6px currentColor; }
[data-theme="a"] .live-dot { background: #00ff88; }
[data-theme="a"] .section-label { color: #00ff88; border-top-color: #2a2a27; }
[data-theme="a"] .api-box { background: #000; border: 1px solid #00ff88; }

/* ‚îÄ‚îÄ THEME C ‚Äî SaaS / Linear ‚îÄ‚îÄ */
[data-theme="c"] {
  --bg: #ffffff;
  --surface: #f9fafb;
  --border: #e5e7eb;
  --text: #111827;
  --muted: #6b7280;
  --subtle: #d1d5db;
  --cn: #ef4444;
  --us: #3b82f6;
  --row: #10b981;
  --chip: #f3f4f6;
  --radius: 12px;
}
[data-theme="c"] html, [data-theme="c"] body { font-family: -apple-system, 'Inter', sans-serif; }
[data-theme="c"] .site-title-abbr { font-family: -apple-system, sans-serif; font-weight: 800; }
[data-theme="c"] .site-header { border-bottom: 1px solid var(--border); }
[data-theme="c"] .headline-card { border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04); border: 1px solid var(--border); }
[data-theme="c"] .headline-grid { background: transparent; border: none; gap: 12px; }
[data-theme="c"] .chart-wrap { border-radius: 16px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
[data-theme="c"] .rank-row:hover { background: #f0f9ff; }
[data-theme="c"] .action-btn { border-radius: 8px; }

/* ‚îÄ‚îÄ THEME D ‚Äî Hybrid ‚îÄ‚îÄ */
[data-theme="d"] {
  --bg: #f8fafc;
  --surface: #ffffff;
  --border: #e2e8f0;
  --text: #0f172a;
  --muted: #64748b;
  --subtle: #cbd5e1;
  --cn: #dc2626;
  --us: #2563eb;
  --row: #059669;
  --chip: #f1f5f9;
  --radius: 8px;
}
[data-theme="d"] .site-header {
  background: #0f172a;
  color: #f8fafc;
  border-radius: 0 0 16px 16px;
  border-bottom: none;
  padding: 28px 24px 22px;
  margin: -0px -24px 32px;
}
[data-theme="d"] .site-title-abbr { color: #38bdf8; text-shadow: none; }
[data-theme="d"] .site-title-full { color: #94a3b8; }
[data-theme="d"] .site-title-sep { color: #475569; }
[data-theme="d"] .site-headline { color: #94a3b8; }
[data-theme="d"] .site-header-right { color: #64748b; }
[data-theme="d"] .site-header-right .updated { color: #e2e8f0; }
[data-theme="d"] .lang-btn.active { background: #38bdf8; color: #0f172a; }
[data-theme="d"] .lang-toggle { border-color: #334155; }
[data-theme="d"] .lang-btn { color: #94a3b8; }
[data-theme="d"] .live-dot { background: #4ade80; }
[data-theme="d"] .section-label { color: #2563eb; border-top-color: #e2e8f0; }

* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { background: var(--bg); color: var(--text); font-family: Georgia, 'Times New Roman', serif; font-size: 16px; line-height: 1.6; }

/* ‚îÄ‚îÄ LAYOUT ‚îÄ‚îÄ */
.page { max-width: 900px; margin: 0 auto; padding: 0 24px 80px; }

/* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
.site-header {
  border-bottom: 2px solid var(--text);
  padding: 20px 0 14px;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 32px;
}
.site-header-left {
  display: flex;
  flex-direction: column;
  gap: 3px;
}
.site-header-right {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  text-align: right;
  flex-shrink: 0;
  font-family: -apple-system, sans-serif;
  font-size: 0.78rem;
  color: var(--muted);
  gap: 4px;
  padding-top: 1px;
}
.site-title { font-family: -apple-system, sans-serif; line-height: 1.1; }
.site-title-logo {
  display: flex;
  align-items: baseline;
  gap: 0;
  flex-wrap: nowrap;
}
.site-title-abbr {
  font-size: 2.4rem;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: var(--text);
  font-family: 'Georgia', serif;
  line-height: 0.85;
}
.site-title-sep {
  font-size: 1.6rem;
  font-weight: 300;
  color: var(--subtle);
  margin: 0 10px;
  font-family: -apple-system, sans-serif;
}
.site-title-full {
  font-size: 1.1rem;
  font-weight: 500;
  color: var(--muted);
  letter-spacing: 0.01em;
  font-family: -apple-system, sans-serif;
  align-self: center;
}
.site-headline { font-size: 0.88rem; font-weight: 400; line-height: 1.5; margin-top: 8px; color: var(--muted); font-family: -apple-system, sans-serif; font-style: italic; }
.site-meta { text-align: right; font-family: -apple-system, sans-serif; font-size: 0.78rem; color: var(--muted); white-space: nowrap; flex-shrink: 0; }
.site-meta .updated { font-weight: 600; color: var(--text); }
.live-dot { display: inline-block; width: 7px; height: 7px; background: #22c55e; border-radius: 50%; margin-right: 4px; animation: pulse 2s infinite; }
@keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.5;transform:scale(1.4)} }

/* ‚îÄ‚îÄ COUNTRY ROW ‚îÄ‚îÄ */
.country-row { display:grid; grid-template-columns:28px 140px 70px 1fr; align-items:center; padding:10px 16px; gap:8px; border-bottom:1px solid var(--border); font-family:-apple-system,sans-serif; }
.country-row:last-child { border-bottom:none; }

/* ‚îÄ‚îÄ ACTION ROW ‚îÄ‚îÄ */
.action-row { display: flex; justify-content: flex-end; margin-top: 10px; }
.action-btns { display: flex; gap: 6px; }
.action-btn {
  display: flex; align-items: center; gap: 5px;
  background: none; border: 1.5px solid var(--border);
  border-radius: 20px; padding: 5px 12px;
  font-size: 0.73rem; font-weight: 500; cursor: pointer;
  color: var(--muted); font-family: -apple-system, sans-serif;
  transition: border-color 0.15s, color 0.15s, background 0.15s;
}
.action-btn:hover { border-color: var(--text); color: var(--text); }
.action-btn.liked { border-color: #c0392b; color: #c0392b; }
.action-btn svg { flex-shrink: 0; }

/* ‚îÄ‚îÄ LANG TOGGLE ‚îÄ‚îÄ */
.lang-toggle { display: flex; border: 1.5px solid var(--border); border-radius: 6px; overflow: hidden; }
.lang-btn { background: none; border: none; padding: 3px 9px; font-size: 0.72rem; font-weight: 600; cursor: pointer; color: var(--muted); font-family: -apple-system, sans-serif; transition: background 0.15s, color 0.15s; }
.lang-btn.active { background: var(--text); color: #fff; }
.lang-btn:hover:not(.active) { background: var(--chip); }

/* ‚îÄ‚îÄ SECTION LABELS ‚îÄ‚îÄ */
.section-label {
  font-family: -apple-system, sans-serif;
  font-size: 0.7rem;
  font-weight: 700;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--muted);
  border-top: 1px solid var(--border);
  padding-top: 28px;
  margin-top: 40px;
  margin-bottom: 20px;
}

/* ‚îÄ‚îÄ HEADLINE NUMBERS ‚îÄ‚îÄ */
.headline-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1px;
  background: var(--border);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
  margin-bottom: 8px;
}
.headline-card {
  background: var(--surface);
  padding: 20px 18px;
}
.headline-card .hl-label { font-family: -apple-system, sans-serif; font-size: 0.72rem; color: var(--muted); margin-bottom: 6px; }
.headline-card .hl-number {
  font-size: 2.2rem;
  font-weight: 700;
  line-height: 1;
  font-variant-numeric: tabular-nums;
}
.headline-card .hl-number.cn { color: var(--cn); }
.headline-card .hl-number.us { color: var(--us); }
.headline-card .hl-sub { font-family: -apple-system, sans-serif; font-size: 0.73rem; color: var(--muted); margin-top: 5px; }
.headline-card .hl-badge {
  display: inline-block;
  font-family: -apple-system, sans-serif;
  font-size: 0.65rem;
  font-weight: 600;
  padding: 2px 6px;
  border-radius: 3px;
  background: var(--chip);
  color: var(--text);
  margin-top: 6px;
}
.share-row { text-align: right; margin-bottom: 4px; }
.btn-share {
  font-family: -apple-system, sans-serif;
  font-size: 0.75rem;
  font-weight: 600;
  padding: 6px 14px;
  border: 1px solid var(--border);
  border-radius: 4px;
  background: var(--surface);
  cursor: pointer;
  color: var(--text);
  transition: background .15s;
}
.btn-share:hover { background: var(--chip); }

/* ‚îÄ‚îÄ TREND CHART ‚îÄ‚îÄ */
.chart-controls {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 14px;
  font-family: -apple-system, sans-serif;
  font-size: 0.78rem;
}
.toggle-group { display: flex; gap: 4px; }
.toggle-btn {
  padding: 4px 10px;
  border-radius: 4px;
  border: 1px solid var(--border);
  background: var(--surface);
  font-size: 0.75rem;
  font-family: -apple-system, sans-serif;
  cursor: pointer;
  color: var(--muted);
  transition: all .15s;
}
.toggle-btn.active { background: var(--text); color: #fff; border-color: var(--text); }
.toggle-btn.cn-btn.active { background: var(--cn); border-color: var(--cn); color: #fff; }
.toggle-btn.us-btn.active { background: var(--us); border-color: var(--us); color: #fff; }
.toggle-btn.row-btn.active { background: var(--row); border-color: var(--row); color: #fff; }
.ctrl-sep { color: var(--border); margin: 0 4px; }
.ctrl-label { color: var(--muted); font-size: 0.72rem; }
.chart-wrap { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius); padding: 20px; }
.chart-axis-label { font-family: -apple-system, sans-serif; font-size: 0.7rem; color: var(--muted); margin-bottom: 6px; }
.view-toggle-wrap { display: flex; align-items: center; gap: 8px; margin-left: auto; }
.view-toggle { display: flex; gap: 0; border: 1px solid var(--border); border-radius: 4px; overflow: hidden; }
.view-toggle .toggle-btn { border: none; border-radius: 0; }

/* ‚îÄ‚îÄ RANKING TABLE ‚îÄ‚îÄ */
.rank-header {
  display: grid;
  grid-template-columns: 36px 1fr 110px 110px 80px;
  gap: 8px;
  padding: 6px 12px;
  font-family: -apple-system, sans-serif;
  font-size: 0.7rem;
  color: var(--muted);
  text-transform: uppercase;
  letter-spacing: 0.06em;
  border-bottom: 1px solid var(--border);
}
.rank-row {
  display: grid;
  grid-template-columns: 36px 1fr 110px 110px 80px;
  gap: 8px;
  padding: 11px 12px;
  border-bottom: 1px solid var(--border);
  align-items: center;
  transition: background .1s;
}
.rank-row:hover { background: var(--chip); }
.rank-row:last-child { border-bottom: none; }
.rank-num { font-family: -apple-system, sans-serif; font-size: 0.82rem; color: var(--muted); font-variant-numeric: tabular-nums; }
.rank-name { font-size: 0.92rem; font-weight: 500; }
.rank-flag { margin-right: 5px; }
.rank-tokens { font-family: -apple-system, sans-serif; font-size: 0.85rem; font-variant-numeric: tabular-nums; }
.rank-bar-wrap { position: relative; height: 6px; background: var(--chip); border-radius: 3px; overflow: hidden; }
.rank-bar-fill { height: 100%; border-radius: 3px; transition: width .5s; }
.rank-confidence { font-family: -apple-system, sans-serif; font-size: 0.72rem; }
.conf-3 { color: #166534; } .conf-2 { color: #92400e; } .conf-1 { color: var(--muted); }
.tier-divider { padding: 8px 12px; font-family: -apple-system, sans-serif; font-size: 0.68rem; font-weight: 700; text-transform: uppercase; letter-spacing: .1em; color: var(--muted); background: var(--chip); border-bottom: 1px solid var(--border); }
.range-badge { font-size: 0.72rem; color: var(--muted); font-family: -apple-system, sans-serif; }
.dark-row { opacity: 0.55; }

/* ‚îÄ‚îÄ METHODOLOGY ‚îÄ‚îÄ */
.method-box {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 22px 20px;
  font-size: 0.88rem;
  line-height: 1.7;
}
.method-box h3 { font-size: 0.9rem; font-family: -apple-system, sans-serif; font-weight: 700; margin-bottom: 10px; }
.method-box p { color: var(--muted); margin-bottom: 8px; }
.method-box code { font-size: 0.82rem; background: var(--chip); padding: 1px 5px; border-radius: 3px; }

/* ‚îÄ‚îÄ AGENT API ‚îÄ‚îÄ */
.api-box {
  background: #0f0f0e;
  color: #e8e5df;
  border-radius: var(--radius);
  padding: 20px;
  font-family: 'Courier New', monospace;
  font-size: 0.78rem;
  line-height: 1.7;
  overflow-x: auto;
}
.api-comment { color: #5a5a52; }
.api-key { color: #7cb8f2; }
.api-val { color: #98d982; }
.api-str { color: #f0b96a; }

/* ‚îÄ‚îÄ METHOD PANELS ‚îÄ‚îÄ */
.show-method {
  background: none; border: none; cursor: pointer;
  color: var(--subtle); font-size: 0.75rem; padding: 0 4px;
  transition: color 0.15s; vertical-align: middle; line-height: 1;
}
.show-method:hover { color: var(--text); }
.rank-row-wrapper { border-bottom: 1px solid var(--border); }
.rank-row-wrapper:last-child { border-bottom: none; }
.rank-row-wrapper .rank-row { border-bottom: none; }
.method-panel {
  background: var(--chip);
  border-left: 3px solid var(--us);
  padding: 12px 16px;
  font-family: -apple-system, sans-serif;
  font-size: 0.78rem;
  line-height: 1.6;
}
.method-panel-inner { display: flex; flex-direction: column; gap: 4px; }
.method-source { color: var(--muted); }
.method-logic { color: var(--text); }
.method-extrapolation { color: var(--us); }
.method-correct-link { color: var(--cn); font-size: 0.72rem; text-decoration: none; }
.method-correct-link:hover { text-decoration: underline; }

/* ‚îÄ‚îÄ CORRECTION HISTORY BADGES ‚îÄ‚îÄ */
.correction-badge {
  display: inline-flex; align-items: center; gap: 3px;
  font-size: 0.62rem; font-family: -apple-system, sans-serif;
  font-weight: 600; padding: 1px 5px; border-radius: 3px;
  background: #fef3c7; color: #92400e;
  border: 1px solid #fde68a; cursor: pointer;
  margin-left: 4px; vertical-align: middle;
  transition: background 0.15s;
}
.correction-badge:hover { background: #fde68a; }
.correction-panel {
  background: #fffbeb;
  border-left: 3px solid #d97706;
  padding: 10px 14px;
  font-family: -apple-system, sans-serif;
  font-size: 0.76rem;
  line-height: 1.6;
  color: var(--muted);
}
.correction-old { color: var(--cn); text-decoration: line-through; font-weight: 600; }
.correction-new { color: #166534; font-weight: 600; }
.correction-date { color: var(--subtle); font-size: 0.68rem; }

/* ‚îÄ‚îÄ CHANGELOG PAGE ‚îÄ‚îÄ */
.changelog-entry {
  border-left: 3px solid var(--border);
  padding: 10px 16px;
  margin-bottom: 12px;
}
.changelog-entry.correction { border-left-color: #d97706; }
.changelog-entry.addition { border-left-color: #16a34a; }
.changelog-entry.update { border-left-color: var(--us); }
.changelog-tag {
  display: inline-block; font-size: 0.62rem; font-weight: 700;
  padding: 1px 6px; border-radius: 3px; font-family: -apple-system,sans-serif;
  text-transform: uppercase; letter-spacing: 0.06em; margin-right: 6px;
}
.tag-correction { background: #fef3c7; color: #92400e; }
.tag-addition { background: #dcfce7; color: #166534; }
.tag-update { background: #dbeafe; color: #1d4ed8; }
.method-conf-badge {
  display: inline-block; font-size: 0.62rem; padding: 1px 6px; border-radius: 3px;
  font-weight: 600; font-family: -apple-system, sans-serif;
}
.conf-high { background: #dcfce7; color: #166534; }
.conf-medium { background: #fef9c3; color: #854d0e; }
.conf-medium-low { background: #ffedd5; color: #9a3412; }
.conf-low-medium { background: #f3f4f6; color: #374151; }

/* ‚îÄ‚îÄ 2026 PROJECTIONS ‚îÄ‚îÄ */
.proj-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1px;
  background: var(--border);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
}
.proj-card { background: var(--surface); padding: 18px 16px; position: relative; }
.proj-label { font-family: -apple-system,sans-serif; font-size: 0.7rem; color: var(--muted); margin-bottom: 6px; text-transform: uppercase; letter-spacing: 0.06em; font-weight: 700; }
.proj-number { font-size: 1.8rem; font-weight: 700; color: #d97706; line-height: 1; }
.proj-sub { font-family: -apple-system,sans-serif; font-size: 0.72rem; color: var(--muted); margin-top: 5px; }
.proj-badge { display:inline-block; font-size:0.62rem; background:#fef3c7; color:#92400e; padding:2px 6px; border-radius:3px; margin-top:5px; font-family:-apple-system,sans-serif; font-weight:600; }
.proj-method-panel {
  background: #fffbeb;
  border-left: 3px solid #d97706;
  padding: 10px 14px;
  font-family: -apple-system, sans-serif;
  font-size: 0.75rem;
  line-height: 1.6;
  color: var(--muted);
  margin-top: 8px;
  border-radius: 0 4px 4px 0;
}
@media (max-width: 640px) {
  .proj-grid { grid-template-columns: 1fr; }
  .proj-number { font-size: 1.4rem; }
}

/* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
.site-footer {
  border-top: 1px solid var(--border);
  margin-top: 48px;
  padding-top: 18px;
  font-family: -apple-system, sans-serif;
  font-size: 0.72rem;
  color: var(--muted);
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 8px;
}

/* ‚îÄ‚îÄ PRINT STYLES ‚îÄ‚îÄ */
@media print {
  #theme-switcher, #quick-nav, .btn-share, .btn-like, #btn-copy-share,
  .show-method, .correction-badge, .lang-switcher { display: none !important; }
  body { background: white; color: black; }
  .page { max-width: 100%; padding: 0 20px; }
  .site-header { border-bottom: 2px solid black; }
  .section-label { border-top: 1px solid #ccc; page-break-before: always; }
  .rank-row-wrapper { page-break-inside: avoid; }
  .proj-card { page-break-inside: avoid; }
  a { color: black; text-decoration: none; }
  a[href]::after { content: " (" attr(href) ")"; font-size: 0.65rem; color: #666; }
  canvas { max-width: 100%; }
}

@media (max-width: 640px) {
  .page { padding: 0 16px 60px; }
  /* Token Economy 3-col ‚Üí 1-col on mobile */
  [style*="grid-template-columns:repeat(3,1fr)"] { grid-template-columns: 1fr !important; }

  /* Header: stack vertically on mobile */
  .site-header { flex-direction: column; gap: 10px; padding: 16px 0 12px; }
  .site-header-right { align-items: flex-start; flex-direction: row; flex-wrap: wrap; gap: 8px; justify-content: space-between; width: 100%; }
  .site-title-abbr { font-size: 1.9rem; }
  .site-title-full { font-size: 0.88rem; }
  .site-headline { font-size: 0.8rem; }

  /* Key numbers: 2-col on mobile */
  .headline-grid { grid-template-columns: 1fr 1fr; gap: 8px; }
  .headline-card { padding: 12px; }
  .hl-number { font-size: 1.5rem; }

  /* Chart controls: wrap */
  .chart-controls { flex-wrap: wrap; gap: 8px; }

  /* Rank table: hide DEC column */
  .rank-header, .rank-row { grid-template-columns: 28px 1fr 90px 70px; }
  .rank-header > *:nth-child(4), .rank-row > *:nth-child(4) { display: none; }

  /* Action buttons: smaller */
  .action-btn { padding: 4px 9px; font-size: 0.68rem; }

  /* Section labels */
  .section-label { font-size: 0.65rem; }
}
</style>
</head>
<body>
<div class="page">

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HEADER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<header class="site-header">
  <!-- LEFT: logo + tagline -->
  <div class="site-header-left">
    <div class="site-title-logo">
      <span class="site-title-abbr">GATT</span>
      <span class="site-title-sep">¬∑</span>
      <span class="site-title-full">Global AI Token Tracker</span>
    </div>
    <h1 class="site-headline" id="tagline">The open index tracking the global Token Economy ‚Äî<br>AI inference as commodity, currency, and geopolitical force.</h1>
  </div>
  <!-- RIGHT: toggle / date / stats ‚Äî 3 lines, right-aligned -->
  <div class="site-header-right">
    <div class="lang-toggle">
      <button class="lang-btn active" id="btn-en" onclick="setLang('en')">EN</button>
      <button class="lang-btn" id="btn-zh" onclick="setLang('zh')">‰∏≠</button>
    </div>
    <div><span class="live-dot"></span><span class="updated" id="header-date">Updated 2026-02-27</span> <span style="color:var(--subtle);font-size:0.68rem;font-weight:400;" id="version-tag">v0.61</span></div>
    <div>
      <span id="stat-vendors">29</span> <span class="i18n" data-en="Vendors" data-zh="ÂéÇÂïÜ">Vendors</span> &nbsp;¬∑&nbsp;
      <span id="stat-countries">18</span> <span class="i18n" data-en="Countries" data-zh="ÂõΩÂÆ∂">Countries</span> &nbsp;¬∑&nbsp;
      <span id="stat-models">80+</span> <span class="i18n" data-en="Models" data-zh="Ê®°Âûã">Models</span>
    </div>
  </div>
</header>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê WHAT CHANGED BANNER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div style="background:#fef3c7;border:1px solid #fde68a;border-radius:var(--radius);padding:12px 16px;margin-bottom:24px;font-family:-apple-system,sans-serif;font-size:0.8rem;display:flex;align-items:flex-start;gap:10px;">
  <span style="font-size:1.1rem;flex-shrink:0;">üîî</span>
  <div>
    <strong style="color:#92400e;">What changed since last update (Feb 26):</strong>
    <span style="color:#78350f;"> Global total revised 151T‚Üí<strong>162T</strong> ¬∑ OpenAI re-estimated 19T‚Üí28T ¬∑ Token GDP corrected ($45B/yr, $122M/day) ¬∑ Black Hole Vendor Methodology added ¬∑ <strong>v0.61: "Token Economy" official definition + JSON-LD DefinedTerm schema added</strong></span>
    <a href="#changelog" style="color:#92400e;font-weight:600;margin-left:8px;text-decoration:underline;" onclick="document.querySelector('.section-label + .method-box').scrollIntoView({behavior:'smooth'});return false;">See full log ‚Üí</a>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOKEN ECONOMY DEFINITION ‚Äî v0.61 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="section-definition" style="background:var(--surface);border:1.5px solid var(--border);border-radius:var(--radius);padding:20px 24px;margin-bottom:28px;font-family:-apple-system,sans-serif;">
  <div style="display:flex;align-items:flex-start;gap:16px;flex-wrap:wrap;">
    <div style="flex:1;min-width:260px;">
      <div style="font-size:0.65rem;font-weight:700;text-transform:uppercase;letter-spacing:0.12em;color:var(--subtle);margin-bottom:8px;">GATT Definition ‚Äî Token Economy</div>
      <blockquote style="margin:0 0 10px 0;padding:0 0 0 14px;border-left:3px solid var(--cn);font-size:0.98rem;font-weight:600;line-height:1.55;color:var(--text);">
        The <strong>Token Economy</strong> is the global system of AI inference production, distribution, and consumption ‚Äî measured in daily token throughput across models, regions, and use cases.
      </blockquote>
      <p style="font-size:0.78rem;color:var(--muted);margin:0 0 10px 0;line-height:1.6;">
        In 2026, the Token Economy processes an estimated <strong>162 trillion tokens per day</strong> ‚Äî roughly $122M in economic value ‚Äî concentrated in China (51% of volume) and the US (40%), yet with the US commanding 80% of Token GDP due to pricing asymmetry.
      </p>
      <div style="font-size:0.7rem;color:var(--subtle);border-top:1px solid var(--border);padding-top:8px;margin-top:8px;">
        <strong>Disambiguation:</strong> Not to be confused with (1) behavioral psychology's token economy (1960s reward systems) or (2) cryptocurrency tokenomics (2017+). GATT uses <em>Token Economy</em> exclusively to mean <strong>AI inference at scale</strong>.
      </div>
    </div>
    <div style="display:flex;flex-direction:column;gap:8px;min-width:160px;">
      <div style="background:var(--bg);border:1px solid var(--border);border-radius:6px;padding:10px 14px;font-size:0.72rem;">
        <div style="font-weight:700;color:var(--text);margin-bottom:2px;">Cite this definition</div>
        <div style="color:var(--muted);line-height:1.5;">Gao, F. (2026). <em>GATT: Global AI Token Tracker</em>. <a href="https://gf691271.github.io/gatt/" style="color:var(--cn);">gf691271.github.io/gatt</a></div>
      </div>
      <button onclick="(() => { navigator.clipboard.writeText('The Token Economy is the global system of AI inference production, distribution, and consumption ‚Äî measured in daily token throughput across models, regions, and use cases. Source: GATT (gf691271.github.io/gatt), Feb 2026.'); this.textContent='‚úÖ Copied!'; setTimeout(()=>this.textContent='üìã Copy definition',2000); })()" style="background:var(--surface);border:1px solid var(--border);border-radius:6px;padding:8px 12px;font-size:0.72rem;cursor:pointer;color:var(--text);text-align:left;">üìã Copy definition</button>
      <a href="https://twitter.com/intent/tweet?text=%22The+Token+Economy+is+the+global+system+of+AI+inference+production%2C+distribution%2C+and+consumption%22+%E2%80%94+GATT+tracks+162T+tokens%2Fday+across+29+vendors%2C+18+countries.+%40frankgxo+gf691271.github.io%2Fgatt%2F" target="_blank" rel="noopener" style="background:#1d9bf0;color:#fff;border-radius:6px;padding:8px 12px;font-size:0.72rem;text-decoration:none;text-align:center;display:block;">üê¶ Share this definition</a>
    </div>
  </div>
</div>

<div id="section-numbers"></div><!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HEADLINE NUMBERS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">Key Numbers ‚Äî Feb 27, 2026</div>
<div class="headline-grid">

  <!-- 1. Daily volume ‚Äî precise -->
  <div class="headline-card">
    <div class="hl-label">Global daily tokens</div>
    <div class="hl-number">~<span id="hl-global-tokens">162</span>T <button class="show-method" onclick="toggleMethod('global')" title="How we calculated this">‚ìò</button></div>
    <div class="hl-sub">trillion tokens / day ¬∑ Feb 2026 est. (revised)</div>
    <div class="hl-badge">‚Üë from ~13T in Feb 2025 ¬∑ revised from 136T</div>
    <div style="font-size:.63rem;color:var(--muted);margin-top:4px;">Source: GATT synthesis ¬∑ Epoch AI ¬∑ ByteDance disclosures</div>
    <div class="method-panel" id="method-global" style="display:none;margin-top:10px;border-radius:4px;">
      <div class="method-panel-inner" id="method-global-inner"></div>
    </div>
  </div>

  <!-- 2. MoM growth -->
  <div class="headline-card">
    <div class="hl-label">Month-on-month growth</div>
    <div class="hl-number" style="color:#166534;">+<span id="hl-growth">12</span>%</div>
    <div class="hl-sub">Jan ‚Üí Feb 2026 (est.)</div>
    <div class="hl-badge">driven by Doubao 63T + OpenAI 28T (revised)</div>
    <div style="font-size:.63rem;color:var(--muted);margin-top:4px;">Source: GATT interpolation model ¬∑ revenue proxies</div>
  </div>

  <!-- 3. China vs US -->
  <div class="headline-card">
    <div class="hl-label">China vs US</div>
    <div class="hl-number" style="font-size:1.5rem; line-height:1.2;">
      <span class="cn">~55%</span><span style="color:var(--muted);font-size:1rem;font-weight:400;"> vol</span>
      &nbsp;<span style="color:var(--muted);font-weight:300;">vs</span>&nbsp;
      <span class="us">~14%</span><span style="color:var(--muted);font-size:1rem;font-weight:400;"> val</span>
    </div>
    <div class="hl-sub">China leads volume ¬∑ US leads compute value</div>
    <div class="hl-badge">tokenizer gap: CN models count more tokens/char</div>
    <div style="font-size:.63rem;color:var(--muted);margin-top:4px;">Source: OpenRouter State of AI ¬∑ China NDB estimates</div>
  </div>

  <!-- 4. Top vendor -->
  <div class="headline-card">
    <div class="hl-label">Top vendor by volume</div>
    <div class="hl-number cn" style="font-size:1.7rem">Doubao</div>
    <div class="hl-sub">~63T tokens/day avg ¬∑ ByteDance üá®üá≥</div>
    <div class="hl-badge">+500√ó in 18 months ¬∑ #1 globally</div>
    <div style="font-size:.63rem;color:var(--muted);margin-top:4px;">Source: Volcano Engine Jan 2026 avg ¬∑ ByteDance blog</div>
  </div>

  <!-- 5. 2026 projection -->
  <div class="headline-card">
    <div class="hl-label">2026 year-end projection</div>
    <div class="hl-number" style="color:#1d4ed8;">~<span id="hl-year-proj">1000</span>T</div>
    <div class="hl-sub">trillion tokens / day by Dec 2026</div>
    <div class="hl-badge">on track ¬∑ ~10√ó current run rate</div>
  </div>

  <!-- 6. Dark space -->
  <div class="headline-card">
    <div class="hl-label">Data dark space</div>
    <div class="hl-number" style="color:#6f6d67;">11<span style="font-size:1rem;font-weight:400;color:var(--muted);"> / 29</span></div>
    <div class="hl-sub">vendors with zero public data</div>
    <div class="hl-badge">incl. Mistral, Baidu + others (xAI &amp; Tencent upgraded to Tier 2)</div>
  </div>

</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOKEN GDP ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label" id="section-token-gdp">üí∞ Global Token GDP ‚Äî The Economic Weight of AI Inference</div>
<div style="background:linear-gradient(135deg,#1e3a5f 0%,#0f2040 100%);border-radius:10px;padding:22px 24px;margin-bottom:6px;color:#fff;">
  <div style="display:flex;flex-wrap:wrap;gap:18px;align-items:flex-start;">
    <div style="flex:1;min-width:200px;">
      <div style="font-size:0.65rem;text-transform:uppercase;letter-spacing:0.06em;color:#93c5fd;margin-bottom:4px;">Annual Token GDP (2026 est.)</div>
      <div style="font-size:2.4rem;font-weight:700;color:#fff;line-height:1;">~$45<span style="font-size:1.2rem;font-weight:400;color:#93c5fd;">B</span></div>
      <div style="font-size:0.72rem;color:#bfdbfe;margin-top:4px;">Total economic value of global AI inference<br>at blended market pricing ¬∑ Feb 2026</div>
    </div>
    <div style="flex:1;min-width:180px;">
      <div style="font-size:0.65rem;text-transform:uppercase;letter-spacing:0.06em;color:#93c5fd;margin-bottom:6px;">Daily run rate</div>
      <div style="font-size:1.6rem;font-weight:700;color:#fff;">~$122<span style="font-size:0.9rem;font-weight:400;color:#93c5fd;">M/day</span></div>
      <div style="font-size:0.72rem;color:#bfdbfe;margin-top:4px;">Growing at +12%/mo ¬∑ doubling every 6 months</div>
    </div>
    <div style="flex:1;min-width:180px;">
      <div style="font-size:0.65rem;text-transform:uppercase;letter-spacing:0.06em;color:#93c5fd;margin-bottom:6px;">Q4 2026 projection</div>
      <div style="font-size:1.6rem;font-weight:700;color:#fff;">~$200<span style="font-size:0.9rem;font-weight:400;color:#93c5fd;">B/yr</span></div>
      <div style="font-size:0.72rem;color:#bfdbfe;margin-top:4px;">If current growth trajectory holds</div>
    </div>
  </div>

  <!-- The Great Divergence Chart: Volume Share vs GDP Share -->
  <div style="margin-top:20px;padding-top:16px;border-top:1px solid rgba(255,255,255,0.12);">
    <div style="font-size:0.68rem;color:#fbbf24;font-weight:700;margin-bottom:4px;text-transform:uppercase;letter-spacing:0.06em;">‚ö° The Great Divergence: Volume vs. Economic Value</div>
    <div style="font-size:0.66rem;color:#64748b;margin-bottom:12px;">China generates <strong style="color:#f87171;">51%</strong> of global AI tokens but captures only <strong style="color:#fbbf24;">7%</strong> of Token GDP ‚Äî because Chinese AI pricing is 15√ó cheaper than US.</div>
    <canvas id="gdpDivergenceChart" width="600" height="160" style="width:100%;max-width:600px;display:block;border-radius:6px;"></canvas>
    <div style="display:flex;gap:16px;margin-top:8px;flex-wrap:wrap;">
      <div style="display:flex;align-items:center;gap:5px;font-size:0.62rem;color:#bfdbfe;"><span style="width:10px;height:10px;background:#3b82f6;border-radius:2px;display:inline-block;"></span>Volume Share (% of 162T tokens/day)</div>
      <div style="display:flex;align-items:center;gap:5px;font-size:0.62rem;color:#bfdbfe;"><span style="width:10px;height:10px;background:#fbbf24;border-radius:2px;display:inline-block;"></span>GDP Share (% of $122M/day)</div>
    </div>
  </div>

  <div style="margin-top:18px;padding-top:14px;border-top:1px solid rgba(255,255,255,0.12);">
    <div style="font-size:0.68rem;color:#93c5fd;font-weight:600;margin-bottom:8px;">HOW WE CALCULATE TOKEN GDP</div>
    <div style="display:flex;flex-wrap:wrap;gap:10px;font-size:0.71rem;color:#bfdbfe;">
      <div style="background:rgba(255,255,255,0.06);border-radius:6px;padding:8px 12px;flex:1;min-width:160px;">
        <span style="color:#fff;font-weight:600;">üá∫üá∏ US vendors</span><br>
        ~65T/day √ó $1.50/M tokens avg<br>= <strong style="color:#60a5fa;">$97.5M/day</strong> <span style="font-size:0.62rem;color:#9ca3af;">(80% of GDP)</span>
      </div>
      <div style="background:rgba(255,255,255,0.06);border-radius:6px;padding:8px 12px;flex:1;min-width:160px;">
        <span style="color:#ff6b6b;font-weight:600;">üá®üá≥ CN vendors</span><br>
        ~83T/day √ó $0.10/M tokens avg<br>= <strong style="color:#f87171;">$8.3M/day</strong> <span style="font-size:0.62rem;color:#9ca3af;">(7% of GDP, domestic pricing)</span>
      </div>
      <div style="background:rgba(255,255,255,0.06);border-radius:6px;padding:8px 12px;flex:1;min-width:160px;">
        <span style="color:#a3e635;font-weight:600;">üåç EU+other</span><br>
        ~14T/day √ó $1.20/M tokens avg<br>= <strong style="color:#bef264;">$16.8M/day</strong> <span style="font-size:0.62rem;color:#9ca3af;">(14% of GDP)</span>
      </div>
    </div>
    <div style="margin-top:8px;font-size:0.65rem;color:#475569;padding:6px 0;border-top:1px solid rgba(255,255,255,0.06);">
      ‚àë $97.5M + $8.3M + $16.8M = <strong style="color:#93c5fd;">$122.6M/day</strong> ‚Üí ~<strong style="color:#93c5fd;">$45B/year</strong> (2026 baseline)
    </div>
    <div style="margin-top:6px;font-size:0.68rem;color:#6b7280;">
      ‚ö†Ô∏è Token GDP uses market retail pricing, not cost. Chinese vendors pricing ~15√ó lower than US creates a "purchasing power parity" gap ‚Äî US dominates <em>economic</em> Token GDP even as China leads by raw volume. 
      <span style="color:#93c5fd;">This gap is the defining story of the 2026 AI economy.</span>
    </div>
  </div>
  <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap;">
    <button onclick="navigator.clipboard.writeText('China generates 51% of the world\'s AI tokens but captures only 7% of Token GDP (~$45B/year) ‚Äî because Chinese AI pricing is 15√ó cheaper than US. This is the defining economic story of AI in 2026. Source: @gatt_index gf691271.github.io/gatt/').then(()=>this.textContent='‚úÖ Copied!')" style="background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);color:#fff;padding:6px 14px;border-radius:6px;cursor:pointer;font-size:0.72rem;">
      üê¶ Copy tweet: Volume vs GDP gap
    </button>
    <a href="https://twitter.com/intent/tweet?text=China+generates+51%25+of+the+world%27s+AI+tokens+but+captures+only+7%25+of+Token+GDP+(%7E%2445B%2Fyear).+Chinese+AI+pricing+is+15%C3%97+cheaper+than+US.+This+is+the+defining+economic+story+of+AI+in+2026.+%40gatt_index+https%3A%2F%2Fgf691271.github.io%2Fgatt%2F" target="_blank" rel="noopener" style="background:#1d9bf0;color:#fff;padding:6px 14px;border-radius:6px;font-size:0.72rem;text-decoration:none;display:inline-block;">
      Share on Twitter ‚Üó
    </a>
  </div>
</div>
<div style="font-size:0.66rem;color:var(--muted);margin-bottom:20px;padding:0 4px;">
  üí° <strong>Token GDP</strong> = total economic value of AI inference at retail pricing. GATT coined this metric to measure AI compute as a macroeconomic variable, analogous to how GDP measures economic output. 
  <a href="#section-methodology" style="color:var(--us);">See full methodology ‚Üí</a>
</div>

<!-- Vendor Pricing Intelligence Table ‚Äî v0.57 -->
<div class="section-label" id="section-pricing">üí≤ Vendor Pricing Intelligence ‚Äî Price Per Million Tokens</div>
<div style="font-size:0.68rem;color:var(--muted);margin-bottom:14px;">
  Why Token GDP diverges: US vendors price <strong style="color:#fbbf24;">10‚Äì60√ó higher</strong> than Chinese peers for equivalent compute. 
  This table reveals the pricing layer beneath the volume numbers.
</div>
<div style="overflow-x:auto;margin-bottom:8px;">
<table id="pricing-table" style="width:100%;border-collapse:collapse;font-size:0.72rem;font-family:-apple-system,sans-serif;">
  <thead>
    <tr style="border-bottom:1.5px solid var(--border);text-align:left;">
      <th style="padding:7px 8px;color:var(--muted);font-weight:600;white-space:nowrap;">Vendor</th>
      <th style="padding:7px 8px;color:var(--muted);font-weight:600;text-align:right;white-space:nowrap;">Input $/M</th>
      <th style="padding:7px 8px;color:var(--muted);font-weight:600;text-align:right;white-space:nowrap;">Output $/M</th>
      <th style="padding:7px 8px;color:var(--muted);font-weight:600;text-align:right;white-space:nowrap;">Blended $/M</th>
      <th style="padding:7px 8px;color:var(--muted);font-weight:600;text-align:right;white-space:nowrap;">Daily Vol (T)</th>
      <th style="padding:7px 8px;color:var(--muted);font-weight:600;text-align:right;white-space:nowrap;">Daily GDP ($M)</th>
      <th style="padding:7px 8px;color:var(--muted);font-weight:600;text-align:center;white-space:nowrap;">vs CN avg</th>
      <th style="padding:7px 8px;color:var(--muted);font-weight:600;text-align:center;white-space:nowrap;">Tier</th>
    </tr>
  </thead>
  <tbody id="pricing-tbody"></tbody>
</table>
</div>
<div style="font-size:0.62rem;color:var(--muted);margin-bottom:4px;">
  Blended $/M = weighted avg of input (70%) + output (30%). CN avg blended = ~$0.10/M. Sources: official pricing pages, Feb 2026.
  <a href="#section-methodology" style="color:var(--us);">Methodology ‚Üí</a>
</div>
<div style="margin-top:10px;margin-bottom:20px;display:flex;gap:8px;flex-wrap:wrap;">
  <button onclick="navigator.clipboard.writeText('AI pricing gap in 2026:\n‚Ä¢ OpenAI GPT-4o: $5/M tokens (blended)\n‚Ä¢ Anthropic Claude: $7.50/M tokens\n‚Ä¢ ByteDance Doubao: $0.06/M tokens\n‚Ä¢ Tencent Hunyuan: $0.04/M tokens\n\nUS vendors charge 60-100√ó more per token than Chinese peers.\nThis is why China leads volume but US dominates Token GDP.\nSource: GATT @gatt_index https://gf691271.github.io/gatt/').then(()=>this.textContent='‚úÖ Copied!').catch(()=>{})" style="background:rgba(255,255,255,0.08);border:1px solid var(--border);color:var(--text);padding:5px 12px;border-radius:6px;cursor:pointer;font-size:0.70rem;">üìã Copy Pricing Comparison</button>
  <a href="https://twitter.com/intent/tweet?text=AI+pricing+gap+in+2026%3A%0A%E2%80%A2+OpenAI+GPT-4o%3A+%245%2FM+tokens%0A%E2%80%A2+ByteDance+Doubao%3A+%240.06%2FM+tokens%0A%0AUS+vendors+charge+60-100%C3%97+more+per+token+than+Chinese+peers.%0AThis+is+why+China+leads+volume+but+US+dominates+Token+GDP.%0A%40gatt_index+https%3A%2F%2Fgf691271.github.io%2Fgatt%2F" target="_blank" rel="noopener" style="background:#1d9bf0;color:#fff;padding:5px 12px;border-radius:6px;font-size:0.70rem;text-decoration:none;display:inline-flex;align-items:center;gap:4px;">Share Pricing Gap ‚Üó</a>
</div>
<script>
(function(){
  var vendors = [
    { name:"OpenAI (GPT-4o)", flag:"üá∫üá∏", input:2.50, output:10.00, vol:28,  tier:"Premium" },
    { name:"Anthropic (Claude 3.5)", flag:"üá∫üá∏", input:3.00, output:15.00, vol:10,  tier:"Premium" },
    { name:"Google (Gemini 1.5 Pro)", flag:"üá∫üá∏", input:1.25, output:5.00,  vol:50,  tier:"Mid" },
    { name:"xAI (Grok-2)", flag:"üá∫üá∏", input:2.00, output:10.00, vol:0.5, tier:"Premium" },
    { name:"Meta (Llama via API)", flag:"üá∫üá∏", input:0.18, output:0.60,  vol:12,  tier:"Budget" },
    { name:"Mistral AI", flag:"üá´üá∑", input:0.20, output:0.60,  vol:0.6, tier:"Budget" },
    { name:"ByteDance (Doubao)", flag:"üá®üá≥", input:0.04, output:0.08,  vol:63,  tier:"Ultra-Low" },
    { name:"Tencent (Hunyuan)", flag:"üá®üá≥", input:0.03, output:0.06,  vol:2.0, tier:"Ultra-Low" },
    { name:"Baidu (ERNIE)", flag:"üá®üá≥", input:0.04, output:0.12,  vol:5.0, tier:"Ultra-Low" },
    { name:"Alibaba (Qwen)", flag:"üá®üá≥", input:0.03, output:0.09,  vol:8.0, tier:"Ultra-Low" },
    { name:"DeepSeek", flag:"üá®üá≥", input:0.01, output:0.03,  vol:7.5, tier:"Ultra-Low" },
    { name:"Groq (LPU)", flag:"üá∫üá∏", input:0.05, output:0.08,  vol:0.25,tier:"Budget" },
  ];

  var cnAvg = 0.10; // blended avg for Chinese vendors

  var tierColors = {
    "Premium":    { bg:"rgba(239,68,68,0.12)",   text:"#f87171",   badge:"rgba(239,68,68,0.2)"   },
    "Mid":        { bg:"rgba(251,191,36,0.10)",  text:"#fbbf24",   badge:"rgba(251,191,36,0.2)"  },
    "Budget":     { bg:"rgba(96,165,250,0.10)",  text:"#60a5fa",   badge:"rgba(96,165,250,0.2)"  },
    "Ultra-Low":  { bg:"rgba(52,211,153,0.10)",  text:"#34d399",   badge:"rgba(52,211,153,0.2)"  },
  };

  var tbody = document.getElementById('pricing-tbody');
  if(!tbody) return;

  vendors.forEach(function(v){
    var blended = v.input * 0.7 + v.output * 0.3;
    var dailyGDP = (v.vol * 1e12 / 1e6) * blended / 1e6; // T tokens ‚Üí M ‚Üí $/M ‚Üí $M/day
    var ratio = (blended / cnAvg).toFixed(1);
    var isHighRatio = parseFloat(ratio) >= 10;
    var tc = tierColors[v.tier] || { bg:"transparent", text:"#94a3b8", badge:"rgba(148,163,184,0.2)" };

    var ratioHtml = parseFloat(ratio) < 2
      ? '<span style="color:#34d399;font-size:0.68rem;">baseline</span>'
      : '<span style="color:' + (isHighRatio ? '#f87171' : '#fbbf24') + ';font-size:0.68rem;font-weight:700;">' + ratio + '√ó</span>';

    var row = document.createElement('tr');
    row.style.cssText = 'border-bottom:1px solid var(--border);background:' + tc.bg + ';transition:background 0.15s;';
    row.onmouseenter = function(){ this.style.background = tc.bg.replace('0.1','0.2').replace('0.12','0.22'); };
    row.onmouseleave = function(){ this.style.background = tc.bg; };
    row.innerHTML = [
      '<td style="padding:7px 8px;white-space:nowrap;">' + v.flag + ' <strong>' + v.name + '</strong></td>',
      '<td style="padding:7px 8px;text-align:right;color:var(--muted);">$' + v.input.toFixed(2) + '</td>',
      '<td style="padding:7px 8px;text-align:right;color:var(--muted);">$' + v.output.toFixed(2) + '</td>',
      '<td style="padding:7px 8px;text-align:right;font-weight:700;color:' + tc.text + ';">$' + blended.toFixed(2) + '</td>',
      '<td style="padding:7px 8px;text-align:right;color:var(--muted);">' + v.vol + 'T</td>',
      '<td style="padding:7px 8px;text-align:right;font-weight:600;color:#a5f3fc;">$' + dailyGDP.toFixed(1) + 'M</td>',
      '<td style="padding:7px 8px;text-align:center;">' + ratioHtml + '</td>',
      '<td style="padding:7px 8px;text-align:center;"><span style="background:' + tc.badge + ';color:' + tc.text + ';padding:2px 6px;border-radius:4px;font-size:0.62rem;white-space:nowrap;">' + v.tier + '</span></td>',
    ].join('');
    tbody.appendChild(row);
  });
})();
</script>
<script>
(function(){
  function drawGDPChart(){
    var canvas = document.getElementById('gdpDivergenceChart');
    if(!canvas) return;
    var ctx = canvas.getContext('2d');
    var dpr = window.devicePixelRatio || 1;
    var W = canvas.offsetWidth || 560;
    var H = 160;
    canvas.width = W * dpr;
    canvas.height = H * dpr;
    canvas.style.height = H + 'px';
    ctx.scale(dpr, dpr);
    ctx.clearRect(0,0,W,H);

    var regions = [
      { label:'üá∫üá∏ US',       vol: 40.1, gdp: 79.5 },
      { label:'üá®üá≥ China',    vol: 51.2, gdp: 6.8  },
      { label:'üåç EU+other',  vol: 8.6,  gdp: 13.7 }
    ];

    var padL = 90, padR = 50, padT = 12, barH = 12, gap = 5, groupGap = 20;
    var chartW = W - padL - padR;

    regions.forEach(function(r, i){
      var y0 = padT + i * (barH*2 + gap + groupGap);

      // Region label
      ctx.fillStyle = '#cbd5e1';
      ctx.font = 'bold 11px system-ui,sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText(r.label, padL - 8, y0 + barH - 1);

      // Volume bar (blue) ‚Äî background track
      ctx.fillStyle = 'rgba(59,130,246,0.15)';
      ctx.fillRect(padL, y0, chartW, barH);
      ctx.fillStyle = '#3b82f6';
      ctx.fillRect(padL, y0, r.vol/100 * chartW, barH);
      // Volume label
      ctx.fillStyle = '#93c5fd';
      ctx.font = '10px system-ui,sans-serif';
      ctx.textAlign = 'left';
      ctx.fillText(r.vol + '%', padL + r.vol/100 * chartW + 4, y0 + barH - 1);

      // GDP bar (gold)
      ctx.fillStyle = 'rgba(251,191,36,0.12)';
      ctx.fillRect(padL, y0 + barH + gap, chartW, barH);
      ctx.fillStyle = '#fbbf24';
      ctx.fillRect(padL, y0 + barH + gap, r.gdp/100 * chartW, barH);
      // GDP label
      ctx.fillStyle = '#fde68a';
      ctx.font = '10px system-ui,sans-serif';
      ctx.fillText(r.gdp + '%', padL + r.gdp/100 * chartW + 4, y0 + barH*2 + gap - 1);

      // Sub-labels
      ctx.fillStyle = '#475569';
      ctx.font = '9px system-ui,sans-serif';
      ctx.textAlign = 'right';
      ctx.fillText('Vol', padL - 8, y0 + barH - 1 + 10);
      ctx.fillText('GDP', padL - 8, y0 + barH*2 + gap - 1 + 10);
    });
  }
  if(document.readyState === 'loading'){
    document.addEventListener('DOMContentLoaded', drawGDPChart);
  } else {
    setTimeout(drawGDPChart, 0);
  }
  window.addEventListener('resize', drawGDPChart);
})();
</script>

<div class="action-row">
  <div class="action-btns">
    <button class="action-btn" onclick="handleLike()" id="btn-like" title="Upvote">
      <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3z"/><path d="M7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"/></svg>
      <span id="like-count">248</span>
    </button>
    <button class="action-btn" onclick="handleShare()" title="Share">
      <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>
      Share
    </button>
    <button class="action-btn" onclick="handleCorrect()" title="Suggest a correction">
      <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
      Correct data
    </button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LIVE TOKEN COUNTER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="live-counter-card" style="
  background: #0a0a0a;
  border: 1px solid #1a2a1a;
  border-radius: var(--radius);
  padding: 24px 28px;
  margin: 16px 0 8px;
  box-shadow: 0 0 32px rgba(0,255,136,0.06);
  position: relative;
  overflow: hidden;
">
  <!-- subtle scanline effect -->
  <div style="position:absolute;top:0;left:0;right:0;bottom:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,255,136,0.01) 2px,rgba(0,255,136,0.01) 4px);pointer-events:none;"></div>

  <div style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;position:relative;">
    <!-- Left: title + number -->
    <div style="flex:1;min-width:260px;">
      <div style="font-family:-apple-system,sans-serif;font-size:0.72rem;font-weight:700;letter-spacing:0.14em;text-transform:uppercase;color:#00ff88;margin-bottom:10px;opacity:0.8;">
        ‚ö° Since you opened this page
      </div>
      <div id="live-token-count" style="
        font-family:'Courier New',monospace;
        font-size:2.8rem;
        font-weight:700;
        color:#00ff88;
        line-height:1;
        letter-spacing:-0.02em;
        text-shadow:0 0 24px rgba(0,255,136,0.4);
        font-variant-numeric:tabular-nums;
      ">0</div>
      <div style="font-family:-apple-system,sans-serif;font-size:0.72rem;color:#3a5a3a;margin-top:6px;letter-spacing:0.04em;">tokens processed globally</div>
    </div>

    <!-- Right: equivalence -->
    <div style="text-align:right;min-width:220px;">
      <div id="live-equivalence" style="
        font-family:-apple-system,sans-serif;
        font-size:0.88rem;
        color:#00cc66;
        line-height:1.5;
        min-height:2.8em;
        display:flex;
        align-items:center;
        justify-content:flex-end;
        transition:opacity 0.4s;
      ">
        <span id="live-eq-text" style="text-align:right;"></span>
      </div>
      <div style="font-family:'Courier New',monospace;font-size:0.68rem;color:#2a4a2a;margin-top:8px;letter-spacing:0.06em;">
        1,875,000 tokens/sec ¬∑ 162T/day global
      </div>
    </div>
  </div>
</div>

<script>
// ‚îÄ‚îÄ LIVE TOKEN COUNTER ‚îÄ‚îÄ
(function() {
  const RATE = 1747685; // tokens per second
  const startTime = Date.now();

  const equivalences = [
    { label: '√ó all books ever written', unit: 130e9 },
    { label: ' copies of English Wikipedia', unit: 4e9 },
    { label: '√ó GPT-3 training datasets', unit: 300e9 },
  ];
  let eqIdx = 0;
  let lastEqSwitch = Date.now();
  const EQ_INTERVAL = 5000; // 5 seconds

  function formatTokens(n) {
    if (n >= 1e12) return (n / 1e12).toFixed(2) + 'T';
    if (n >= 1e9)  return (n / 1e9).toFixed(2) + 'B';
    if (n >= 1e6)  return (n / 1e6).toFixed(2) + 'M';
    if (n >= 1e3)  return (n / 1e3).toFixed(1) + 'K';
    return Math.floor(n).toLocaleString();
  }

  const countEl = document.getElementById('live-token-count');
  const eqTextEl = document.getElementById('live-eq-text');
  const eqWrapEl = document.getElementById('live-equivalence');

  function updateCounter() {
    const elapsed = (Date.now() - startTime) / 1000;
    const tokens = elapsed * RATE;

    // Update main counter
    if (countEl) {
      if (tokens >= 1e12) {
        countEl.textContent = (tokens / 1e12).toFixed(3) + ' T';
      } else if (tokens >= 1e9) {
        countEl.textContent = (tokens / 1e9).toFixed(2) + ' B';
      } else if (tokens >= 1e6) {
        countEl.textContent = (tokens / 1e6).toFixed(1) + ' M';
      } else {
        countEl.textContent = Math.floor(tokens).toLocaleString();
      }
    }

    // Rotate equivalences every 5 seconds
    const now = Date.now();
    if (now - lastEqSwitch > EQ_INTERVAL) {
      eqIdx = (eqIdx + 1) % equivalences.length;
      lastEqSwitch = now;
      if (eqWrapEl) {
        eqWrapEl.style.opacity = '0';
        setTimeout(() => { eqWrapEl.style.opacity = '1'; }, 400);
      }
    }

    // Update equivalence text
    if (eqTextEl) {
      const eq = equivalences[eqIdx];
      const x = (tokens / eq.unit).toFixed(2);
      eqTextEl.textContent = '= ' + x + eq.label;
    }

    requestAnimationFrame(updateCounter);
  }

  // Init equivalence text immediately
  if (eqTextEl) {
    const eq = equivalences[0];
    eqTextEl.textContent = '= 0.00' + eq.label;
  }

  requestAnimationFrame(updateCounter);
})();
</script>

<div id="section-spotlight"></div><!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SPOTLIGHT: DOUBAO VS GEMINI ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">Spotlight ‚Äî The Race at the Top: Doubao vs Gemini</div>
<div style="background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;">
  <div style="display:grid;grid-template-columns:1fr auto 1fr;" class="vs-grid">
    <div style="padding:20px;background:linear-gradient(135deg,#fff5f5 0%,var(--surface) 100%);">
      <div style="font-size:0.7rem;font-weight:700;text-transform:uppercase;letter-spacing:0.1em;color:#c0392b;margin-bottom:8px;font-family:-apple-system,sans-serif;">üá®üá≥ #1 by Volume</div>
      <div style="font-size:1.8rem;font-weight:900;color:#c0392b;font-family:-apple-system,sans-serif;">Doubao</div>
      <div style="font-size:0.82rem;color:var(--muted);font-family:-apple-system,sans-serif;margin-bottom:12px;">ByteDance ¬∑ Volcano Engine</div>
      <div style="display:flex;flex-direction:column;gap:8px;font-family:-apple-system,sans-serif;font-size:0.82rem;">
        <div><span style="color:var(--muted);">Volume:</span> <strong>63T/day</strong> <span style="font-size:0.7rem;color:#22c55e;">+26% from Dec</span></div>
        <div><span style="color:var(--muted);">Compute value:</span> <strong>~$8.8M/day</strong></div>
        <div><span style="color:var(--muted);">Price:</span> <strong>~$0.14/M tokens</strong></div>
        <div><span style="color:var(--muted);">Growth:</span> <strong>+33x in 12mo</strong></div>
        <div><span style="color:var(--muted);">Disclosure:</span> <strong style="color:#166534;">‚úì Official</strong></div>
      </div>
      <div style="margin-top:14px;background:#fef2f2;border-radius:6px;padding:10px 12px;font-size:0.75rem;color:#9a3412;font-family:-apple-system,sans-serif;"><strong>The volume king.</strong> Doubao processes more tokens than the entire US market combined ‚Äî but at 1/10th the price per token.</div>
    </div>
    <div style="display:flex;align-items:center;justify-content:center;padding:0 16px;background:var(--chip);"><div style="font-size:1.4rem;font-weight:900;color:var(--subtle);font-family:Georgia,serif;">VS</div></div>
    <div style="padding:20px;background:linear-gradient(135deg,#eff6ff 0%,var(--surface) 100%);">
      <div style="font-size:0.7rem;font-weight:700;text-transform:uppercase;letter-spacing:0.1em;color:#2563eb;margin-bottom:8px;font-family:-apple-system,sans-serif;">üá∫üá∏ #1 by Value</div>
      <div style="font-size:1.8rem;font-weight:900;color:#2563eb;font-family:-apple-system,sans-serif;">Gemini</div>
      <div style="font-size:0.82rem;color:var(--muted);font-family:-apple-system,sans-serif;margin-bottom:12px;">Google / Alphabet ¬∑ All Surfaces</div>
      <div style="display:flex;flex-direction:column;gap:8px;font-family:-apple-system,sans-serif;font-size:0.82rem;">
        <div><span style="color:var(--muted);">Volume:</span> <strong>~50T/day</strong></div>
        <div><span style="color:var(--muted);">Compute value:</span> <strong>~$53M/day</strong></div>
        <div><span style="color:var(--muted);">Price:</span> <strong>~$1.06/M tokens</strong></div>
        <div><span style="color:var(--muted);">Surfaces:</span> <strong>Search + Workspace + API</strong></div>
        <div><span style="color:var(--muted);">Disclosure:</span> <strong style="color:#92400e;">~ Earnings (Oct 2025)</strong></div>
      </div>
      <div style="margin-top:14px;background:#eff6ff;border-radius:6px;padding:10px 12px;font-size:0.75rem;color:#1e40af;font-family:-apple-system,sans-serif;"><strong>The value king.</strong> Gemini generates 6x more dollar value per token than Doubao. Same token count, 5x more revenue ‚Äî the DEC gap in one comparison.</div>
    </div>
  </div>
  <div style="border-top:1px solid var(--border);padding:12px 20px;font-family:-apple-system,sans-serif;font-size:0.75rem;color:var(--muted);display:flex;justify-content:space-between;flex-wrap:wrap;gap:8px;">
    <span>Value ratio: Gemini generates <strong>6x</strong> more compute value per token than Doubao</span>
    <a href="https://twitter.com/intent/tweet?text=Doubao%3A+63T+tokens%2Fday+%40+%240.14%2FM+%3D+%248.8M%2Fday.+Gemini%3A+50T+tokens%2Fday+%40+%241.06%2FM+%3D+%2453M%2Fday.+Same+token+count%2C+6x+value+gap.+This+is+the+Token+Economy.+https%3A%2F%2Fgf691271.github.io%2Fgatt%2F" target="_blank" style="color:var(--us);font-weight:600;text-decoration:none;font-size:0.72rem;">X Share this comparison ‚Üí</a>
  </div>
</div>
<style>@media (max-width:640px){ .vs-grid { grid-template-columns: 1fr !important; } }</style>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê 2026 PROJECTIONS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">2026 Projections ‚Äî End of Year</div>
<div class="proj-grid">

  <div class="proj-card">
    <div class="proj-label">Global Daily Tokens by Dec 2026</div>
    <div class="proj-number">~800T‚Äì1.2PT</div>
    <div class="proj-sub">per day by December 2026</div>
    <div class="proj-badge">At current +18%/mo growth rate</div>
    <button class="show-method" onclick="toggleProjMethod('proj-global')" title="Projection logic" style="margin-top:8px;display:block;">‚ìò See projection logic</button>
    <div class="proj-method-panel" id="proj-global" style="display:none">
      At +18%/mo compounded from Feb 2026 (162T/day), Dec 2026 = 162 √ó 1.18^10 ‚âà 860T. At +22%/mo (upper) ‚âà 1.2PT. Growth driven by Doubao expansion, Apple Intelligence scale-up, and OpenAI o3 rollout. Key risk: actual growth could decelerate to +10%/mo ‚Üí ~350T/day.
    </div>
  </div>

  <div class="proj-card">
    <div class="proj-label">Top Vendor (Projected)</div>
    <div class="proj-number">Doubao</div>
    <div class="proj-sub">ByteDance ¬∑ ~180T/day by Dec 2026</div>
    <div class="proj-badge">If +8%/mo growth holds</div>
    <button class="show-method" onclick="toggleProjMethod('proj-doubao')" title="Projection logic" style="margin-top:8px;display:block;">‚ìò See projection logic</button>
    <div class="proj-method-panel" id="proj-doubao" style="display:none">
      Doubao at 63T/day (Jan 2026) growing at +8%/mo ‚Üí 63 √ó 1.08^11 ‚âà 144T by Dec 2026. ByteDance has publicly committed to continued Volcano Engine expansion and Doubao product integrations across TikTok's 170-country footprint. Upside: new markets + enterprise API rollout could push to 200T+.
    </div>
  </div>

  <div class="proj-card">
    <div class="proj-label">China vs US Gap</div>
    <div class="proj-number" style="font-size:1.3rem;color:var(--text);">Narrowing vol ¬∑ Widening val</div>
    <div class="proj-sub">CN: 62% vol / US: 28% val ‚Üí projected CN: 58% / US: 22%</div>
    <div class="proj-badge">DEC gap persists ‚Äî premium pricing advantage</div>
    <button class="show-method" onclick="toggleProjMethod('proj-gap')" title="Projection logic" style="margin-top:8px;display:block;">‚ìò See projection logic</button>
    <div class="proj-method-panel" id="proj-gap" style="display:none">
      Volume gap narrows as US models (Claude, GPT) grow faster (+14%/mo) than Doubao (+8%/mo). But DEC gap widens: US API pricing ($1‚Äì6/M tokens) vs China ($0.10‚Äì0.30/M) means US generates 4‚Äì8√ó more dollar value per token. By Dec 2026, CN may lead volume 58% but US still commands ~70%+ of compute dollar value.
    </div>
  </div>

  <div class="proj-card">
    <div class="proj-label">Biggest Wild Card</div>
    <div class="proj-number" style="font-size:1.5rem;color:#7c3aed;">Apple Intelligence</div>
    <div class="proj-sub">Could add 50‚Äì200T/day if iPhone AI features scale</div>
    <div class="proj-badge">~2.2B iPhone users ¬∑ on-device + cloud hybrid</div>
    <button class="show-method" onclick="toggleProjMethod('proj-apple')" title="Projection logic" style="margin-top:8px;display:block;">‚ìò See projection logic</button>
    <div class="proj-method-panel" id="proj-apple" style="display:none">
      Apple has 2.2B active devices. If 10% use AI features daily at 1M tokens/day = 220T/day ‚Äî larger than any current vendor. Apple doesn't disclose AI usage data (Tier 3 dark zone). Conservative estimate (1% active AI users, 500K tokens/day) = ~11T/day by H2 2026. Wild card: Apple could silently become the #1 AI compute node on Earth by token count without any public disclosure.
    </div>
  </div>

</div>

<div id="section-trend"></div><!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TREND CHART ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">Daily Trend ‚Äî Token Consumption Over Time</div>
<!-- Key Events Timeline (shown below chart) -->
<div id="key-event-info" style="display:none;background:#fffbeb;border:1px solid #fde68a;border-radius:var(--radius);padding:14px 16px;margin-bottom:12px;font-family:-apple-system,sans-serif;font-size:0.82rem;">
  <button onclick="document.getElementById('key-event-info').style.display='none'" style="float:right;background:none;border:none;cursor:pointer;font-size:1rem;color:var(--muted);">√ó</button>
  <strong id="key-event-title" style="color:#92400e;"></strong>
  <p id="key-event-desc" style="color:var(--muted);margin-top:6px;line-height:1.6;"></p>
</div>
<div class="chart-controls">
  <div class="toggle-group">
    <button class="toggle-btn cn-btn active" id="btn-cn" onclick="toggleSeries('cn')">üá®üá≥ China</button>
    <button class="toggle-btn us-btn active" id="btn-us" onclick="toggleSeries('us')">üá∫üá∏ US</button>
    <button class="toggle-btn row-btn active" id="btn-row" onclick="toggleSeries('row')">üåç Rest of World</button>
  </div>
  <div class="view-toggle">
    <button class="toggle-btn active" id="view-tokens" onclick="setView('tokens')">T Tokens</button>
    <button class="toggle-btn" id="view-dec" onclick="setView('dec')">T Tokens (Adjusted)</button>
  </div>
</div>
<div class="chart-wrap">
  <canvas id="trendChart" height="200"></canvas>
</div>

<!-- Key Events Timeline below chart -->
<div style="margin-top:12px;font-family:-apple-system,sans-serif;font-size:0.72rem;color:var(--muted);">
  <strong style="text-transform:uppercase;letter-spacing:0.06em;font-size:0.65rem;">Key events:</strong>
  <span style="margin-left:6px;">Click to learn more ‚Üí</span>
  <div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:8px;">
    <button onclick="showKeyEvent('doubao4t')" style="border:1px solid #fca5a5;background:#fef2f2;color:#c0392b;border-radius:4px;padding:3px 8px;font-size:0.7rem;font-family:-apple-system,sans-serif;cursor:pointer;font-weight:600;">Dec 2024 ¬∑ Doubao 4T/day</button>
    <button onclick="showKeyEvent('deepseekr1')" style="border:1px solid #bfdbfe;background:#eff6ff;color:#2563eb;border-radius:4px;padding:3px 8px;font-size:0.7rem;font-family:-apple-system,sans-serif;cursor:pointer;font-weight:600;">Jan 2025 ¬∑ DeepSeek R1 release</button>
    <button onclick="showKeyEvent('doubao50t')" style="border:1px solid #fca5a5;background:#fef2f2;color:#c0392b;border-radius:4px;padding:3px 8px;font-size:0.7rem;font-family:-apple-system,sans-serif;cursor:pointer;font-weight:600;">Dec 2025 ¬∑ Doubao 50-63T/day</button>
    <button onclick="showKeyEvent('gemini35t')" style="border:1px solid #a7f3d0;background:#f0fdf4;color:#166534;border-radius:4px;padding:3px 8px;font-size:0.7rem;font-family:-apple-system,sans-serif;cursor:pointer;font-weight:600;">Jul 2025 ¬∑ Google Gemini 35T/day</button>
    <button onclick="showKeyEvent('claudecorr')" style="border:1px solid #e9d5ff;background:#faf5ff;color:#7c3aed;border-radius:4px;padding:3px 8px;font-size:0.7rem;font-family:-apple-system,sans-serif;cursor:pointer;font-weight:600;">Feb 2026 ¬∑ Claude correction 2.5T‚Üí10T</button>
  </div>
</div>

<script>
const keyEvents = {
  doubao4t: {
    title: 'Dec 2024 ‚Äî Doubao crosses 4T tokens/day',
    desc: 'ByteDance\'s Doubao AI assistant crossed 4T tokens/day in December 2024, up from just 120B/day in May 2024 ‚Äî a 33√ó increase in 7 months. This was the first public confirmation that a Chinese AI product had scaled to a level comparable with OpenAI. It marked the beginning of China\'s AI token dominance.'
  },
  deepseekr1: {
    title: 'Jan 2025 ‚Äî DeepSeek R1 shocks the world',
    desc: 'DeepSeek released R1 on January 20, 2025, claiming performance on par with OpenAI o1 at a fraction of the training cost. NVIDIA lost $600B in market cap in a single day. The release supercharged global developer adoption of open-weight Chinese models and drove a surge in token consumption globally.'
  },
  doubao50t: {
    title: 'Dec 2025 ‚Äì Jan 2026 ‚Äî Doubao 50T ‚Üí 63T/day',
    desc: 'ByteDance disclosed that Doubao processed 50T tokens/day on average in December 2025, rising to 63T/day average in January 2026. At this level, Doubao alone accounts for ~42% of all estimated global AI token consumption ‚Äî more than the entire US market combined. Volcano Engine officially confirmed the January figure.'
  },
  gemini35t: {
    title: 'Jul 2025 ‚Äî Google Gemini All Surfaces reaches 35T/day',
    desc: 'At Google Cloud Next 2025, Sundar Pichai disclosed that Gemini across all surfaces (Search AI, Workspace, API, Pixel) was processing 1 quadrillion tokens per month, equivalent to ~33T/day. This was the first "All Surfaces" disclosure, meaning Google\'s total AI token consumption was far larger than API-only estimates had suggested.'
  },
  claudecorr: {
    title: 'Feb 2026 ‚Äî Claude corrected from 2.5T to 10T/day',
    desc: 'GATT corrected the Claude estimate from 2.5T to ~10T/day after Bloomberg confirmed Anthropic reached $14B ARR by February 2026 (up from ~$1B in late 2024 ‚Äî a 14√ó increase). Cross-validation with Anthropic\'s own 820M API requests/day figure (Jun 2025) supported the higher estimate. The 2.5T figure had relied on a stale 2024 ARR proxy.'
  }
};
function showKeyEvent(id) {
  const ev = keyEvents[id];
  if (!ev) return;
  const box = document.getElementById('key-event-info');
  document.getElementById('key-event-title').textContent = ev.title;
  document.getElementById('key-event-desc').textContent = ev.desc;
  box.style.display = 'block';
  box.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
}
</script>

<div id="section-vendors"></div><!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê RANKING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">Vendor Ranking ‚Äî Daily Tokens</div>
<div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
  <input type="text" id="rank-search" placeholder="Search vendors..." oninput="filterRankTable(this.value)"
    style="flex:1;max-width:280px;padding:6px 12px;border:1.5px solid var(--border);border-radius:6px;font-size:0.82rem;font-family:-apple-system,sans-serif;background:var(--surface);color:var(--text);outline:none;"
    onfocus="this.style.borderColor='var(--us)'" onblur="this.style.borderColor='var(--border)'">
  <span style="font-size:0.72rem;color:var(--subtle);font-family:-apple-system,sans-serif;" id="rank-count"></span>
</div>

<div style="background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;" id="rankTable">
  <div class="rank-header">
    <div>#</div><div>Vendor</div><div>T Tokens/day</div><div>DEC $/day</div><div>Source</div>
  </div>
  <!-- rows injected by JS -->
</div>

<div style="font-family:-apple-system,sans-serif;font-size:0.68rem;color:var(--muted);margin-top:8px;padding:0 4px;display:flex;align-items:center;gap:12px;flex-wrap:wrap;">
  <span>Data freshness:</span>
  <span><span style="display:inline-block;width:7px;height:7px;border-radius:50%;background:#22c55e;margin-right:3px;vertical-align:middle;"></span>‚â§30 days</span>
  <span><span style="display:inline-block;width:7px;height:7px;border-radius:50%;background:#f59e0b;margin-right:3px;vertical-align:middle;"></span>31‚Äì90 days</span>
  <span><span style="display:inline-block;width:7px;height:7px;border-radius:50%;background:#ef4444;margin-right:3px;vertical-align:middle;"></span>&gt;90 days (likely stale)</span>
</div>

<div id="section-countries"></div><!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê COUNTRY RANKING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">Country Ranking ‚Äî Token Volume Share</div>
<div style="background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;padding:4px 0" id="countryRank">
  <!-- Static country data with confidence labels (populated here AND by JS fallback) -->
</div>
<div style="font-family:-apple-system,sans-serif;font-size:0.7rem;color:var(--muted);margin-top:8px;padding:0 4px;">
  ‚ö†Ô∏è Country shares are modeled estimates based on vendor HQ + known deployment geography. Confidence: Low‚ÄìMedium.
  Sources: China NDB 2025 ¬∑ OpenRouter State of AI ¬∑ GATT methodology.
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BUBBLE CHART: TOKENS vs POPULATION ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="section-bubble"></div>
<div class="section-label" style="margin-top:28px;">Token Economy Map ‚Äî Population vs. Daily Token Consumption</div>
<div style="font-family:-apple-system,sans-serif;font-size:0.78rem;color:var(--muted);margin-bottom:12px;">
  Each bubble = a country. X = population. Y = estimated daily tokens. <strong>Above the grey line = punching above weight in AI. Below = latent demand.</strong>
  <button class="show-method" onclick="toggleMethod('bubblechart')" title="About this chart" style="margin-left:6px;">‚ìò</button>
</div>
<div id="method-bubblechart" class="method-box" style="display:none;font-size:0.78rem;font-family:-apple-system,sans-serif;margin-bottom:10px;">
  <strong>How to read this chart:</strong> The diagonal reference line represents "population parity" ‚Äî countries on the line generate tokens proportional to their population share. Countries above the line punch above their demographic weight (US, UK, Korea). Countries far below the line (India, Brazil) represent the largest latent demand in the global AI market. Bubble size = token volume. Log scale on both axes.
</div>
<div class="chart-wrap" style="position:relative;">
  <canvas id="bubbleChart" height="340"></canvas>
  <div style="margin-top:8px;display:flex;flex-wrap:wrap;gap:10px;font-family:-apple-system,sans-serif;font-size:0.7rem;color:var(--muted);align-items:center;">
    <span style="display:flex;align-items:center;gap:4px;"><span style="width:10px;height:10px;border-radius:50%;background:#c0392b;display:inline-block;"></span>China</span>
    <span style="display:flex;align-items:center;gap:4px;"><span style="width:10px;height:10px;border-radius:50%;background:#2563eb;display:inline-block;"></span>United States</span>
    <span style="display:flex;align-items:center;gap:4px;"><span style="width:10px;height:10px;border-radius:50%;background:#6b7280;display:inline-block;"></span>Developed (EU/JP/KR/CA/AU)</span>
    <span style="display:flex;align-items:center;gap:4px;"><span style="width:10px;height:10px;border-radius:50%;background:#f59e0b;display:inline-block;"></span>Emerging</span>
  </div>
  <div style="margin-top:8px;font-family:-apple-system,sans-serif;font-size:0.7rem;color:var(--muted);">
    X-axis: population (log scale, millions) ¬∑ Y-axis: daily tokens (log scale, trillions) ¬∑ Bubble size: relative token volume ¬∑ est. Feb 2026
  </div>
  <div style="margin-top:12px;">
    <a href="https://twitter.com/intent/tweet?text=India%3A%201.4B%20people%2C%20world%27s%20largest%20tech%20workforce.%20AI%20token%20consumption%3A%200.6%25%20of%20global.%20The%20%22Sleeping%20Giant%22%20chart%20that%20tells%20the%20whole%20story.%20%F0%9F%87%AE%F0%9F%87%B3%20via%20%40gattindex%20https%3A%2F%2Fgf691271.github.io%2Fgatt%2F%20%23IndiaAI%20%23TokenEconomy" target="_blank" style="display:inline-flex;align-items:center;gap:5px;padding:6px 12px;background:#0f1419;color:#fff;border-radius:16px;text-decoration:none;font-size:0.72rem;font-weight:600;font-family:-apple-system,sans-serif;margin-right:8px;">ùïè Share this chart</a>
    <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://gf691271.github.io/gatt/" target="_blank" style="display:inline-flex;align-items:center;gap:5px;padding:6px 12px;background:#0077b5;color:#fff;border-radius:16px;text-decoration:none;font-size:0.72rem;font-weight:600;font-family:-apple-system,sans-serif;">in Share</a>
  </div>
</div>

<script>
(function() {
  // Country bubble data: { label, flag, pop (M), tokens (T/day), color }
  const bubbleData = [
    { label: 'China',        flag: 'üá®üá≥', pop: 1412,  tokens: 83.0,  color: '#c0392b', region: 'cn' },
    { label: 'US',           flag: 'üá∫üá∏', pop: 335,   tokens: 45.3,  color: '#2563eb', region: 'us' },
    { label: 'UK',           flag: 'üá¨üáß', pop: 68,    tokens: 4.5,   color: '#6b7280', region: 'dev' },
    { label: 'Germany',      flag: 'üá©üá™', pop: 84,    tokens: 3.0,   color: '#6b7280', region: 'dev' },
    { label: 'Japan',        flag: 'üáØüáµ', pop: 124,   tokens: 3.0,   color: '#6b7280', region: 'dev' },
    { label: 'France',       flag: 'üá´üá∑', pop: 68,    tokens: 2.3,   color: '#6b7280', region: 'dev' },
    { label: 'S. Korea',     flag: 'üá∞üá∑', pop: 52,    tokens: 2.3,   color: '#6b7280', region: 'dev' },
    { label: 'Canada',       flag: 'üá®üá¶', pop: 40,    tokens: 1.5,   color: '#6b7280', region: 'dev' },
    { label: 'Australia',    flag: 'üá¶üá∫', pop: 27,    tokens: 1.2,   color: '#6b7280', region: 'dev' },
    { label: 'India',        flag: 'üáÆüá≥', pop: 1441,  tokens: 0.91,  color: '#f59e0b', region: 'em' },
    { label: 'Brazil',       flag: 'üáßüá∑', pop: 215,   tokens: 0.60,  color: '#f59e0b', region: 'em' },
    { label: 'Saudi Arabia', flag: 'üá∏üá¶', pop: 35,    tokens: 0.91,  color: '#f59e0b', region: 'em' },
  ];

  // Convert to log10 for Chart.js
  function toLog(v) { return Math.log10(v); }
  function fromLog(v) { return Math.pow(10, v); }

  // Bubble radius: scale by sqrt(tokens)
  const maxTokens = Math.max(...bubbleData.map(d => d.tokens));
  function bubbleR(t) { return Math.max(4, Math.sqrt(t / maxTokens) * 38); }

  // Pre-compute US per-capita for gap ratio
  const usEntry = bubbleData.find(d => d.label === 'US');
  const usPerCapita = usEntry ? (usEntry.tokens * 1e12) / (usEntry.pop * 1e6) : 135000; // tokens/person/day

  const datasets = bubbleData.map(d => ({
    label: d.flag + ' ' + d.label,
    data: [{ x: toLog(d.pop), y: toLog(d.tokens), r: bubbleR(d.tokens), _label: d.label, _flag: d.flag, _pop: d.pop, _tok: d.tokens }],
    backgroundColor: d.color + 'cc',
    borderColor: d.color,
    borderWidth: 1.5,
  }));

  // Reference line: population parity (tokens proportional to population)
  // US anchor: pop=335, tokens=45.3 ‚Üí tokens = pop √ó (45.3/335) = pop √ó 0.135
  const ratio = 45.3 / 335;
  const refPops = [20, 50, 100, 300, 600, 1500];
  const refLineData = refPops.map(p => ({ x: toLog(p), y: toLog(p * ratio) }));

  datasets.push({
    label: '‚Äî Population parity (US baseline)',
    data: refLineData,
    type: 'line',
    borderColor: 'rgba(150,150,150,0.4)',
    borderDash: [5, 5],
    borderWidth: 1.5,
    pointRadius: 0,
    backgroundColor: 'transparent',
    order: 0,
  });

  const isDark = document.documentElement.getAttribute('data-theme') === 'a';
  const gridColor = 'rgba(150,150,150,0.12)';
  const labelColor = getComputedStyle(document.documentElement).getPropertyValue('--muted').trim() || '#888';

  const bubbleCtx = document.getElementById('bubbleChart');
  if (!bubbleCtx) return;

  const bubbleChartObj = new Chart(bubbleCtx, {
    type: 'bubble',
    data: { datasets },
    options: {
      responsive: true,
      animation: { duration: 900, easing: 'easeOutQuart' },
      plugins: {
        legend: { display: false },
        tooltip: {
          callbacks: {
            label: function(ctx) {
              const d = ctx.raw;
              if (!d._label) return ctx.dataset.label;
              const perCapita = d._tok * 1e12 / (d._pop * 1e6);
              const perCapitaK = (perCapita / 1e3).toFixed(1);
              const lines = [
                d._flag + ' ' + d._label,
                'Population: ' + d._pop.toLocaleString() + 'M',
                'Tokens: ' + d._tok + 'T/day',
                'Tokens/capita: ' + perCapitaK + 'K/day'
              ];
              if (d._label !== 'US' && usPerCapita > 0) {
                const gap = (usPerCapita / perCapita);
                if (gap > 1.5) {
                  lines.push('Gap vs US: ' + (gap >= 10 ? gap.toFixed(0) : gap.toFixed(1)) + '√ó behind üá∫üá∏');
                } else if (gap < 0.9) {
                  lines.push('vs US: ' + (1/gap).toFixed(1) + '√ó ahead of üá∫üá∏');
                }
              }
              return lines;
            }
          }
        },
        annotation: {
          annotations: {
            indiaArrow: {
              type: 'label',
              xValue: toLog(1441),
              yValue: toLog(0.91) + 0.35,
              content: ['üáÆüá≥ India: 0.6% of global', '1.4B people ‚Äî biggest gap'],
              color: '#f59e0b',
              font: { size: 10, weight: 'bold', family: '-apple-system,sans-serif' },
              textAlign: 'left',
            }
          }
        }
      },
      scales: {
        x: {
          type: 'linear',
          title: {
            display: true,
            text: 'Population (log scale, millions)',
            font: { size: 10, family: '-apple-system,sans-serif' },
            color: labelColor,
          },
          ticks: {
            font: { size: 9, family: '-apple-system,sans-serif' },
            color: labelColor,
            callback: v => {
              const pop = fromLog(v);
              if (pop >= 1000) return (pop/1000).toFixed(1) + 'B';
              if (pop >= 10) return Math.round(pop) + 'M';
              return '';
            },
            maxTicksLimit: 7,
          },
          grid: { color: gridColor },
          min: toLog(15),
          max: toLog(2000),
        },
        y: {
          type: 'linear',
          title: {
            display: true,
            text: 'Daily Tokens (log scale, trillions)',
            font: { size: 10, family: '-apple-system,sans-serif' },
            color: labelColor,
          },
          ticks: {
            font: { size: 9, family: '-apple-system,sans-serif' },
            color: labelColor,
            callback: v => {
              const t = fromLog(v);
              if (t >= 10) return Math.round(t) + 'T';
              if (t >= 1) return t.toFixed(1) + 'T';
              return t.toFixed(2) + 'T';
            },
            maxTicksLimit: 8,
          },
          grid: { color: gridColor },
          min: toLog(0.4),
          max: toLog(150),
        }
      }
    },
    plugins: [{
      id: 'bubbleLabels',
      afterDatasetsDraw(chart) {
        const ctx = chart.ctx;
        chart.data.datasets.forEach((ds, i) => {
          if (!ds.data[0]?._label) return;
          const meta = chart.getDatasetMeta(i);
          if (!meta.data[0]) return;
          const { x, y } = meta.data[0].getProps(['x','y'], true);
          const d = ds.data[0];
          const r = d.r;
          ctx.save();
          ctx.font = '600 9px -apple-system,sans-serif';
          ctx.fillStyle = ds.borderColor;
          ctx.textAlign = 'center';
          ctx.textBaseline = 'middle';
          // Place label above bubble if it fits
          const label = d._flag + ' ' + d._label;
          ctx.fillText(label, x, y - r - 7);
          ctx.restore();
        });
      }
    }]
  });
})();
</script>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PER CAPITA TOKENS RANKING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="section-percapita"></div>
<div class="section-label" style="margin-top:28px;">AI Inequality ‚Äî Tokens Per Person, Per Day</div>
<div style="font-family:-apple-system,sans-serif;font-size:0.78rem;color:var(--muted);margin-bottom:10px;">
  Raw token volume hides the real story. Adjusted for population, a very different ranking emerges.
  <button class="show-method" onclick="toggleMethod('percapita')" title="About this metric" style="margin-left:6px;">‚ìò</button>
</div>
<div id="method-percapita" class="method-box" style="display:none;font-size:0.78rem;font-family:-apple-system,sans-serif;margin-bottom:10px;">
  <strong>Methodology:</strong> Country daily token estimates (from GATT Country Rankings) divided by total population. This normalizes for country size to show relative AI intensity per person. China ranks #1 in absolute volume but #3 per capita ‚Äî illustrating how large populations can mask adoption rates. India's 0.91T/day across 1.44B people yields just ~631 tokens/person/day ‚Äî 214√ó below the US average. All figures are modeled estimates. Confidence: Low‚ÄìMedium.
</div>

<div style="background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:18px 20px;margin-bottom:10px;">
  <!-- Headline stat -->
  <div style="font-family:-apple-system,sans-serif;font-size:0.85rem;font-weight:700;margin-bottom:14px;color:var(--text);">
    üá∫üá∏ Americans generate <span style="color:#2563eb;font-size:1.1rem;">214√ó</span> more AI tokens per day than üáÆüá≥ Indians.
  </div>
  <!-- Horizontal bar chart -->
  <canvas id="perCapitaChart" height="260"></canvas>
  <div style="margin-top:6px;font-family:-apple-system,sans-serif;font-size:0.68rem;color:var(--muted);">
    Tokens per person per day (est. Feb 2026) ¬∑ All values estimated ¬∑ <a href="/api/v1/tci-latest.json" style="color:var(--accent);">JSON ‚Üó</a>
  </div>
</div>

<!-- Key insight cards -->
<div style="display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:16px;font-family:-apple-system,sans-serif;">
  <div style="background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:12px 14px;">
    <div style="font-size:0.68rem;color:var(--muted);margin-bottom:3px;">ü•á HIGHEST PER CAPITA</div>
    <div style="font-size:1.3rem;font-weight:700;color:#2563eb;">üá∫üá∏ 135K</div>
    <div style="font-size:0.72rem;color:var(--muted);">tokens / person / day</div>
    <div style="font-size:0.7rem;margin-top:6px;color:var(--text);">US leads by a wide margin ‚Äî AI inference is woven into daily software (Copilot, search, cloud apps).</div>
  </div>
  <div style="background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:12px 14px;">
    <div style="font-size:0.68rem;color:var(--muted);margin-bottom:3px;">üî∫ BIGGEST SURPRISE</div>
    <div style="font-size:1.3rem;font-weight:700;color:#c0392b;">üá®üá≥ 59K</div>
    <div style="font-size:0.72rem;color:var(--muted);">tokens / person / day</div>
    <div style="font-size:0.7rem;margin-top:6px;color:var(--text);">China is #3 per capita despite 4√ó the population of the US. Doubao, Kimi, DeepSeek driving mass adoption.</div>
  </div>
  <div style="background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:12px 14px;">
    <div style="font-size:0.68rem;color:var(--muted);margin-bottom:3px;">üìâ BIGGEST GAP</div>
    <div style="font-size:1.3rem;font-weight:700;color:#f59e0b;">üáÆüá≥ 631</div>
    <div style="font-size:0.72rem;color:var(--muted);">tokens / person / day</div>
    <div style="font-size:0.7rem;margin-top:6px;color:var(--text);">India has 1.44B people and world-class AI talent ‚Äî yet the average Indian generates barely 631 tokens/day. The gap is the opportunity.</div>
  </div>
</div>

<!-- Share hooks -->
<div style="font-family:-apple-system,sans-serif;font-size:0.75rem;margin-bottom:20px;">
  <a href="https://twitter.com/intent/tweet?text=%F0%9F%87%BA%F0%9F%87%B8%20The%20average%20American%20generates%20135%2C000%20AI%20tokens%20per%20day.%0A%F0%9F%87%AE%F0%9F%87%B3%20The%20average%20Indian%20generates%20631.%0A%0AThat%E2%80%99s%20a%20214%C3%97%20gap.%0A%0AGATT%20Token%20Economy%20Index%20%E2%80%94%20est.%20Feb%202026%0Ahttps%3A%2F%2Fgf691271.github.io%2Fgatt%2F%20%23TokenEconomy%20%23AIInequality%20%23IndiaAI" target="_blank" style="display:inline-flex;align-items:center;gap:5px;padding:7px 14px;background:#0f1419;color:#fff;border-radius:16px;text-decoration:none;font-size:0.72rem;font-weight:600;margin-right:8px;">ùïè Share the 214√ó stat</a>
  <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://gf691271.github.io/gatt/" target="_blank" style="display:inline-flex;align-items:center;gap:5px;padding:7px 14px;background:#0077b5;color:#fff;border-radius:16px;text-decoration:none;font-size:0.72rem;font-weight:600;">in Share on LinkedIn</a>
</div>

<script>
(function(){
  const pcData = [
    { label: 'üá∫üá∏ US',           tpd: 135224, color: '#2563eb' },
    { label: 'üá¨üáß UK',           tpd: 66176,  color: '#6b7280' },
    { label: 'üá®üá≥ China',        tpd: 58782,  color: '#c0392b' },
    { label: 'üá¶üá∫ Australia',    tpd: 44444,  color: '#6b7280' },
    { label: 'üá∞üá∑ S. Korea',     tpd: 44231,  color: '#6b7280' },
    { label: 'üá®üá¶ Canada',       tpd: 37500,  color: '#6b7280' },
    { label: 'üá©üá™ Germany',      tpd: 35714,  color: '#6b7280' },
    { label: 'üá´üá∑ France',       tpd: 33824,  color: '#6b7280' },
    { label: 'üá∏üá¶ Saudi Arabia', tpd: 26000,  color: '#f59e0b' },
    { label: 'üáØüáµ Japan',        tpd: 24194,  color: '#6b7280' },
    { label: 'üáßüá∑ Brazil',       tpd: 2791,   color: '#f59e0b' },
    { label: 'üáÆüá≥ India',        tpd: 631,    color: '#f59e0b' },
  ];
  const ctx2 = document.getElementById('perCapitaChart');
  if (!ctx2) return;
  new Chart(ctx2, {
    type: 'bar',
    data: {
      labels: pcData.map(d => d.label),
      datasets: [{
        data: pcData.map(d => d.tpd),
        backgroundColor: pcData.map(d => d.color),
        borderRadius: 4,
        borderSkipped: false,
      }]
    },
    options: {
      indexAxis: 'y',
      responsive: true,
      plugins: {
        legend: { display: false },
        tooltip: {
          callbacks: {
            label: function(c) {
              const v = c.raw;
              return v >= 1000 ? (v/1000).toFixed(1) + 'K tokens/person/day' : v + ' tokens/person/day';
            }
          }
        }
      },
      scales: {
        x: {
          type: 'logarithmic',
          ticks: {
            callback: function(v) {
              if (v >= 1000) return (v/1000).toFixed(0) + 'K';
              return v;
            },
            color: 'var(--muted)',
            font: { size: 10 }
          },
          grid: { color: 'rgba(128,128,128,0.12)' }
        },
        y: {
          ticks: { color: 'var(--text)', font: { size: 11 } },
          grid: { display: false }
        }
      }
    }
  });
})();
</script>

<div id="section-rising"></div><!-- Rising Powers Spotlight -->
<div class="section-label">Rising Powers ‚Äî The Next Billion Tokens</div>
<div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;" class="rising-powers-grid">

  <div style="background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:16px 14px;">
    <div style="font-size:1.6rem;margin-bottom:4px;">üáÆüá≥</div>
    <div style="font-weight:700;font-size:0.95rem;margin-bottom:6px;">India</div>
    <div style="font-size:0.75rem;color:var(--muted);line-height:1.6;margin-bottom:10px;">
      Today: 0.6% of global tokens. But India has 1.4 billion people, the world's largest English-speaking tech workforce, and a national AI mission backed by $1B+ in government compute.<br><br>
      <strong style="color:var(--text);">The question isn't whether India rises. It's how fast.</strong> Sarvam AI, Krutrim, and BharatGPT are building the stack. When Indian-language models hit scale ‚Äî Hindi, Bengali, Tamil ‚Äî this number moves fast.
    </div>
    <div style="font-size:0.68rem;background:#fef9c3;color:#92400e;padding:6px 8px;border-radius:4px;font-weight:600;">
      üéØ 2026 projection: 1.5‚Äì3% of global volume if govt AI infra deploys on schedule
    </div>
    <a href="https://twitter.com/intent/tweet?text=India%20generates%20just%200.6%25%20of%20global%20AI%20tokens%20today.%20But%201.4B%20people%2C%20IIT%20talent%2C%20and%20a%20national%20AI%20mission%20say%20that%27s%20about%20to%20change.%20%F0%9F%87%AE%F0%9F%87%B3%20Data%3A%20https%3A%2F%2Fgf691271.github.io%2Fgatt%2F%20%23IndiaAI%20%23TokenEconomy" target="_blank" style="display:inline-flex;align-items:center;gap:5px;margin-top:10px;padding:6px 12px;background:#0f1419;color:#fff;border-radius:16px;text-decoration:none;font-size:0.72rem;font-weight:600;font-family:-apple-system,sans-serif;">ùïè Share India's AI story</a>
  </div>

  <div style="background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:16px 14px;">
    <div style="font-size:1.6rem;margin-bottom:4px;">üá∏üá¶</div>
    <div style="font-weight:700;font-size:0.95rem;margin-bottom:6px;">Saudi Arabia</div>
    <div style="font-size:0.75rem;color:var(--muted);line-height:1.6;margin-bottom:10px;">
      The Arab world's AI capital race is already underway. Saudi Arabia is spending $100B+ on AI infrastructure through Vision 2030 and NEOM. SDAIA's Arabic NLP program is state-funded at a scale that dwarfs most national AI budgets.<br><br>
      <strong style="color:var(--text);">Arabic is 420M speakers and growing.</strong> Arabic tokenizers are inefficient in current LLMs ‚Äî the first Arabic-native model at scale will unlock massive latent demand.
    </div>
    <div style="font-size:0.68rem;background:#fef9c3;color:#92400e;padding:6px 8px;border-radius:4px;font-weight:600;">
      üéØ Arabic NLP fastest-growing region in GATT tracking. Watch for Aramco AI, SDAIA Hala announcements.
    </div>
    <a href="https://twitter.com/intent/tweet?text=Arabic%20NLP%20is%20the%20fastest-growing%20AI%20language%20segment.%20Saudi%20Arabia%3A%20%24100B%2B%20AI%20spend%2C%20420M%20Arabic%20speakers%2C%20and%20current%20LLMs%20still%20can%27t%20serve%20them%20well.%20%F0%9F%87%B8%F0%9F%87%A6%20https%3A%2F%2Fgf691271.github.io%2Fgatt%2F%20%23ArabicAI%20%23TokenEconomy" target="_blank" style="display:inline-flex;align-items:center;gap:5px;margin-top:10px;padding:6px 12px;background:#0f1419;color:#fff;border-radius:16px;text-decoration:none;font-size:0.72rem;font-weight:600;font-family:-apple-system,sans-serif;">ùïè Share the Arab AI story</a>
  </div>

  <div style="background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:16px 14px;">
    <div style="font-size:1.6rem;margin-bottom:4px;">üáßüá∑</div>
    <div style="font-weight:700;font-size:0.95rem;margin-bottom:6px;">Brazil</div>
    <div style="font-size:0.75rem;color:var(--muted);line-height:1.6;margin-bottom:10px;">
      215 million people. The 9th largest economy. The internet's largest Portuguese-speaking market. And right now, Brazil generates just 0.4% of global AI tokens.<br><br>
      <strong style="color:var(--text);">That gap is opportunity.</strong> Maritaca AI and Sabi√° LLM are building Brazilian Portuguese models. President Lula's AI investment pledge ($5B+ over 4 years) is the catalyst. Latin America's AI wave starts here.
    </div>
    <div style="font-size:0.68rem;background:#dcfce7;color:#166534;padding:6px 8px;border-radius:4px;font-weight:600;">
      üéØ LatAm's sleeping giant. Watch for Petrobras AI, Embrapa data licensing, federal university LLMs.
    </div>
    <a href="https://twitter.com/intent/tweet?text=Brazil%3A%200.4%25%20of%20global%20AI%20tokens.%20215M%20people.%209th%20largest%20economy.%20Biggest%20Portuguese-speaking%20internet.%20LatAm%27s%20AI%20wave%20is%20about%20to%20start%20here.%20%F0%9F%87%A7%F0%9F%87%B7%20https%3A%2F%2Fgf691271.github.io%2Fgatt%2F%20%23BrazilAI%20%23TokenEconomy" target="_blank" style="display:inline-flex;align-items:center;gap:5px;margin-top:10px;padding:6px 12px;background:#22863a;color:#fff;border-radius:16px;text-decoration:none;font-size:0.72rem;font-weight:600;font-family:-apple-system,sans-serif;">ùïè Share Brazil's AI story</a>
  </div>

</div>
<style>
@media (max-width:640px) { .rising-powers-grid { grid-template-columns: 1fr !important; } }
</style>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DATA SOURCES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">Data Sources</div>
<div class="method-box" style="font-family:-apple-system,sans-serif;font-size:0.82rem;">
  <p style="margin-bottom:10px;color:var(--muted);font-size:0.78rem;">All figures are synthesized from public disclosures, third-party analyses, and GATT proprietary estimation methodology. No figures are financial or investment advice.</p>
  <table style="width:100%;border-collapse:collapse;">
    <thead>
      <tr style="font-size:0.72rem;font-weight:700;text-transform:uppercase;letter-spacing:0.05em;color:var(--muted);">
        <td style="padding:6px 0;border-bottom:1px solid var(--border);">Source</td>
        <td style="padding:6px 8px;border-bottom:1px solid var(--border);">Type</td>
        <td style="padding:6px 0;border-bottom:1px solid var(--border);">Vendors / Data</td>
        <td style="padding:6px 0;border-bottom:1px solid var(--border);">Confidence</td>
      </tr>
    </thead>
    <tbody style="font-size:0.78rem;">
      <tr style="border-bottom:1px solid var(--border);">
        <td style="padding:8px 0;font-weight:600;">ByteDance / Volcano Engine disclosures</td>
        <td style="padding:8px;color:var(--muted);">Official blog</td>
        <td style="padding:8px 0;color:var(--muted);">Doubao 50T Dec-2025, 63T Jan-2026 avg</td>
        <td style="padding:8px 0;"><span style="color:#166534;font-weight:600;">High</span></td>
      </tr>
      <tr style="border-bottom:1px solid var(--border);">
        <td style="padding:8px 0;font-weight:600;">Google Cloud Next 2025 keynote</td>
        <td style="padding:8px;color:var(--muted);">Earnings / event</td>
        <td style="padding:8px 0;color:var(--muted);">Gemini API 35T tokens/day Jul-2025</td>
        <td style="padding:8px 0;"><span style="color:#166534;font-weight:600;">High</span></td>
      </tr>
      <tr style="border-bottom:1px solid var(--border);">
        <td style="padding:8px 0;font-weight:600;">Epoch AI compute analysis</td>
        <td style="padding:8px;color:var(--muted);">Third-party est.</td>
        <td style="padding:8px 0;color:var(--muted);">OpenAI ~28T/day (revised: Sep 2025 baseline extrapolated at +15%/mo)</td>
        <td style="padding:8px 0;"><span style="color:#92400e;font-weight:600;">Medium</span></td>
      </tr>
      <tr style="border-bottom:1px solid var(--border);">
        <td style="padding:8px 0;font-weight:600;">Anthropic $14B ARR (Feb 2026) + 820M API req/day (Jun 2025)</td>
        <td style="padding:8px;color:var(--muted);">Revenue √∑ price + request proxy</td>
        <td style="padding:8px 0;color:var(--muted);">Claude ~10T/day est. (prev. 2.5T used stale $3B ARR)</td>
        <td style="padding:8px 0;"><span style="color:#92400e;font-weight:600;">Medium</span></td>
      </tr>
      <tr style="border-bottom:1px solid var(--border);">
        <td style="padding:8px 0;font-weight:600;">OpenRouter State of AI (weekly)</td>
        <td style="padding:8px;color:var(--muted);">Platform data</td>
        <td style="padding:8px 0;color:var(--muted);">API-accessible model traffic calibration</td>
        <td style="padding:8px 0;"><span style="color:#166534;font-weight:600;">High</span></td>
      </tr>
      <tr style="border-bottom:1px solid var(--border);">
        <td style="padding:8px 0;font-weight:600;">China National Data Bureau (NDB)</td>
        <td style="padding:8px;color:var(--muted);">Official data</td>
        <td style="padding:8px 0;color:var(--muted);">China total >30T/day by mid-2025</td>
        <td style="padding:8px 0;"><span style="color:#166534;font-weight:600;">High</span></td>
      </tr>
      <tr style="border-bottom:1px solid var(--border);">
        <td style="padding:8px 0;font-weight:600;">Industry analysts (Goldman Sachs, Morgan Stanley)</td>
        <td style="padding:8px;color:var(--muted);">Analyst est.</td>
        <td style="padding:8px 0;color:var(--muted);">AI inference market $106‚Äì126B in 2025</td>
        <td style="padding:8px 0;"><span style="color:#92400e;font-weight:600;">Medium</span></td>
      </tr>
      <tr>
        <td style="padding:8px 0;font-weight:600;">GATT proprietary methodology</td>
        <td style="padding:8px;color:var(--muted);">Synthesis</td>
        <td style="padding:8px 0;color:var(--muted);">Interpolation + DEC normalization + multi-source fusion</td>
        <td style="padding:8px 0;"><span style="color:var(--muted);font-weight:600;">Model est.</span></td>
      </tr>
    </tbody>
  </table>
  <p style="margin-top:12px;font-size:0.72rem;color:var(--muted);">Last data refresh: 2026-02-26. If you have better data, <a href="https://github.com/gf691271/gatt/issues/new?title=Data+correction&labels=data" style="color:inherit;text-decoration:underline;">submit a correction ‚Üí</a></p>
</div>

<div id="section-methodology"></div><!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê METHODOLOGY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">Methodology ‚Äî How We Estimate</div>
<div class="method-box">
  <h3>The Daily Estimation Model</h3>
  <p>No single source publishes daily token counts. This tracker synthesizes five evidence layers to produce daily-granularity estimates:</p>
  <p><strong>1. Anchor events</strong> ‚Äî Official disclosures (earnings calls, press releases, developer conferences) provide point-in-time snapshots.</p>
  <p><strong>2. Growth interpolation</strong> ‚Äî Between anchors, we apply compound daily growth rates derived from public revenue trends, model release cadence, and platform activity signals.</p>
  <p><strong>3. Revenue back-calculation</strong> ‚Äî For vendors with known revenue but no token disclosures, we reverse-engineer volumes using published API pricing.</p>
  <p><strong>4. OpenRouter signal</strong> ‚Äî Platform-level weekly token data provides real-time calibration for API-accessible models.</p>
  <p><strong>5. DEC normalization</strong> ‚Äî <code>DEC = tokens √ó price_per_1M</code>. This adjusts for tokenizer efficiency differences (Chinese text encodes fewer tokens per character in GPT-style tokenizers vs. native Chinese models). Same data, different scoreboard.</p>
  <p style="margin-top:12px;font-style:italic;color:var(--muted);">The gap between token-count rank and DEC rank is the story: China leads by volume, US leads by compute value. That gap is this tracker's thesis.</p>
</div>

<div id="section-calc"></div><!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DEC CALCULATOR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">DEC Calculator ‚Äî What Would Your AI Bill Look Like?</div>
<div class="method-box" style="font-family:-apple-system,sans-serif;">
  <p style="font-size:0.82rem;color:var(--muted);line-height:1.6;margin-bottom:16px;">
    See the China vs US compute value gap in your own numbers. <strong>DEC = tokens √ó price/M.</strong>
    The same workload costs 4‚Äì10√ó more in the US than in China ‚Äî and generates proportionally more economic value.
  </p>
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;" class="calc-grid">
    <div>
      <label style="font-size:0.78rem;font-weight:700;color:var(--muted);display:block;margin-bottom:6px;">Daily requests:</label>
      <input type="number" id="calc-requests" value="1000000" min="1" oninput="calcDEC()"
        style="width:100%;padding:8px 12px;border:1.5px solid var(--border);border-radius:6px;font-size:0.9rem;font-family:-apple-system,sans-serif;background:var(--surface);color:var(--text);">
      <div style="font-size:0.7rem;color:var(--subtle);margin-top:3px;">e.g. 1,000,000 = 1M requests/day</div>
    </div>
    <div>
      <label style="font-size:0.78rem;font-weight:700;color:var(--muted);display:block;margin-bottom:6px;">Avg tokens per request:</label>
      <input type="number" id="calc-tokens" value="500" min="1" oninput="calcDEC()"
        style="width:100%;padding:8px 12px;border:1.5px solid var(--border);border-radius:6px;font-size:0.9rem;font-family:-apple-system,sans-serif;background:var(--surface);color:var(--text);">
      <div style="font-size:0.7rem;color:var(--subtle);margin-top:3px;">e.g. 500 = avg chatbot exchange</div>
    </div>
  </div>
  <div id="calc-result" style="margin-top:16px;background:var(--chip);border-radius:var(--radius);padding:16px 20px;display:grid;grid-template-columns:1fr 1fr 1fr;gap:12px;" class="calc-result-grid">
  </div>
  <script>
  function calcDEC() {
    const requests = parseFloat(document.getElementById('calc-requests').value) || 0;
    const tokens = parseFloat(document.getElementById('calc-tokens').value) || 0;
    const totalTokens = requests * tokens; // total tokens/day
    const totalM = totalTokens / 1e6; // millions of tokens
    // Pricing
    const cnPrice = 0.14; // $/M (Doubao avg)
    const usPrice = 1.06; // $/M (US blended avg)
    const cnCost = totalM * cnPrice;
    const usCost = totalM * usPrice;
    const ratio = usPrice / cnPrice;
    const totalT = totalTokens / 1e12;
    function fmt(n) {
      if (n >= 1e6) return '$' + (n/1e6).toFixed(1) + 'M';
      if (n >= 1e3) return '$' + (n/1e3).toFixed(1) + 'K';
      return '$' + n.toFixed(2);
    }
    function fmtT(n) {
      if (n >= 1) return n.toFixed(2) + 'T';
      if (n >= 0.001) return (n*1000).toFixed(1) + 'B';
      return (n*1e6).toFixed(0) + 'M';
    }
    document.getElementById('calc-result').innerHTML = `
      <div style="text-align:center;">
        <div style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:var(--muted);margin-bottom:4px;">Daily tokens</div>
        <div style="font-size:1.4rem;font-weight:700;">${fmtT(totalT)}</div>
        <div style="font-size:0.7rem;color:var(--muted);">${(totalTokens/1e6).toFixed(1)}M tokens/day</div>
      </div>
      <div style="text-align:center;border-left:1px solid var(--border);border-right:1px solid var(--border);padding:0 12px;">
        <div style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:#c0392b;margin-bottom:4px;">üá®üá≥ China price</div>
        <div style="font-size:1.4rem;font-weight:700;color:#c0392b;">${fmt(cnCost)}/day</div>
        <div style="font-size:0.7rem;color:var(--muted);">~$0.14/M tokens ¬∑ ${fmt(cnCost*365)}/year</div>
      </div>
      <div style="text-align:center;">
        <div style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:#2563eb;margin-bottom:4px;">üá∫üá∏ US price</div>
        <div style="font-size:1.4rem;font-weight:700;color:#2563eb;">${fmt(usCost)}/day</div>
        <div style="font-size:0.7rem;color:var(--muted);">~$1.06/M tokens ¬∑ ${fmt(usCost*365)}/year ¬∑ <strong>${ratio.toFixed(1)}√ó</strong> China</div>
      </div>`;
  }
  // Init on load
  window.addEventListener('DOMContentLoaded', calcDEC);
  </script>
  <style>
    @media (max-width:640px) { .calc-grid { grid-template-columns: 1fr !important; } .calc-result-grid { grid-template-columns: 1fr !important; } }
  </style>
  <p style="font-size:0.72rem;color:var(--subtle);margin-top:10px;">CN price: Doubao avg ~$0.14/M ¬∑ US price: blended API avg ~$1.06/M (GPT-4o, Gemini Pro, Claude 3.5). Actual prices vary by model and use case.</p>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê EXPORT DATA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">Export Data ‚Äî Download for Analysis</div>
<div class="method-box" style="font-family:-apple-system,sans-serif;">
  <p style="font-size:0.78rem;color:var(--muted);margin-bottom:16px;">All GATT data is open (CC BY 4.0). Download in your preferred format for research, journalism, or analysis.</p>
  <div style="display:flex;flex-wrap:wrap;gap:10px;">
    <button onclick="downloadCSV()" style="display:inline-flex;align-items:center;gap:6px;padding:9px 18px;background:var(--surface);border:1.5px solid var(--border);border-radius:6px;font-size:0.82rem;font-weight:600;cursor:pointer;color:var(--text);font-family:-apple-system,sans-serif;transition:border-color .15s;" onmouseover="this.style.borderColor='var(--text)'" onmouseout="this.style.borderColor='var(--border)'">
      üìä Download CSV (vendors + tokens + DEC)
    </button>
    <a href="data/tci-latest.json" download="tci-latest.json" style="display:inline-flex;align-items:center;gap:6px;padding:9px 18px;background:var(--surface);border:1.5px solid var(--border);border-radius:6px;font-size:0.82rem;font-weight:600;cursor:pointer;color:var(--text);font-family:-apple-system,sans-serif;text-decoration:none;">
      { } Download JSON (full structured data)
    </a>
    <button onclick="downloadMD()" style="display:inline-flex;align-items:center;gap:6px;padding:9px 18px;background:var(--surface);border:1.5px solid var(--border);border-radius:6px;font-size:0.82rem;font-weight:600;cursor:pointer;color:var(--text);font-family:-apple-system,sans-serif;transition:border-color .15s;" onmouseover="this.style.borderColor='var(--text)'" onmouseout="this.style.borderColor='var(--border)'">
      üìù Download Markdown (journalist-ready)
    </button>
  </div>
  <p style="font-size:0.72rem;color:var(--subtle);margin-top:12px;">Attribution required: "Source: GATT Global AI Token Tracker (gf691271.github.io/gatt) by Frank Gao, CC BY 4.0"</p>
</div>

<div id="section-api"></div><!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê AGENT API ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">For AI Agents ‚Äî Machine-Readable Data Layer</div>
<div class="api-box">
<span class="api-comment">// Fetch structured data ‚Äî zero LLM calls required</span>
<span class="api-comment">// Live endpoint (updated with each release):</span>
GET https://gf691271.github.io/gatt/data/tci-latest.json

<span class="api-comment">// Response schema</span>
{
  <span class="api-key">"meta"</span>: { <span class="api-key">"updated"</span>: <span class="api-str">"2026-02-26"</span>, <span class="api-key">"methodology"</span>: <span class="api-str">"DEC = tokens √ó price/1M"</span> },
  <span class="api-key">"summary"</span>: {
    <span class="api-key">"global_daily_tokens_T"</span>: <span class="api-val">136</span>,
    <span class="api-key">"china_share_pct"</span>: <span class="api-val">55</span>,
    <span class="api-key">"confirmed_data"</span>: <span class="api-val">11</span>,
    <span class="api-key">"dark_zone"</span>: <span class="api-val">11</span>
  },
  <span class="api-key">"vendors"</span>: [ <span class="api-comment">/* 30 vendors, tier 1/2/3, confidence 0-3 */</span> ]
}

<span class="api-comment">// Confidence scale: 3=earnings/official ¬∑ 2=media ¬∑ 1=estimated ¬∑ 0=unknown</span>
<span class="api-comment">// Tier: 1=confirmed ¬∑ 2=range estimate ¬∑ 3=data dark zone</span>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê EMBED THIS DATA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">Embed This Chart ‚Äî For Publishers & Researchers</div>
<div class="method-box" style="font-family:-apple-system,sans-serif;">
  <p style="font-size:0.78rem;color:var(--muted);margin-bottom:14px;">Embed the GATT tracker in your article, newsletter, or dashboard. CC BY 4.0 ‚Äî free to use with attribution.</p>
  <div style="margin-bottom:12px;">
    <div style="font-size:0.72rem;font-weight:700;color:var(--muted);margin-bottom:6px;text-transform:uppercase;letter-spacing:0.06em;">Full page embed:</div>
    <div style="background:var(--chip);padding:10px 14px;border-radius:6px;font-family:monospace;font-size:0.75rem;color:var(--muted);word-break:break-all;cursor:pointer;" onclick="copyEmbed('full')" title="Click to copy">
      &lt;iframe src="https://gf691271.github.io/gatt/" width="100%" height="800" frameborder="0" style="border-radius:8px" title="GATT Global AI Token Tracker"&gt;&lt;/iframe&gt;
    </div>
    <div style="font-size:0.68rem;color:var(--subtle);margin-top:3px;">Click to copy ¬∑ Best for newsletters and reports ¬∑ min width 400px</div>
  </div>
  <div>
    <div style="font-size:0.72rem;font-weight:700;color:var(--muted);margin-bottom:6px;text-transform:uppercase;letter-spacing:0.06em;">Data badge (small):</div>
    <div style="background:var(--chip);padding:10px 14px;border-radius:6px;font-family:monospace;font-size:0.75rem;color:var(--muted);word-break:break-all;cursor:pointer;" onclick="copyEmbed('badge')" title="Click to copy">
      &lt;a href="https://gf691271.github.io/gatt/" target="_blank"&gt;&lt;img src="https://img.shields.io/badge/Token_Economy-162T%2Fday-c0392b?style=flat-square&amp;logo=data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48dGV4dCB5PSIuOWVtIiBmb250LXNpemU9IjkwIj7wn4iH8J+UujwvdGV4dD48L3N2Zz4=" alt="GATT Token Economy: 162T/day"&gt;&lt;/a&gt;
    </div>
    <div style="font-size:0.68rem;color:var(--subtle);margin-top:3px;">Click to copy ¬∑ Works in GitHub README, docs, and websites</div>
  </div>
  <div id="embed-copy-msg" style="display:none;font-size:0.78rem;color:#166534;margin-top:8px;font-weight:600;">‚úì Copied to clipboard!</div>
</div>

<script>
function copyEmbed(type) {
  const texts = {
    full: '<iframe src="https://gf691271.github.io/gatt/" width="100%" height="800" frameborder="0" style="border-radius:8px" title="GATT Global AI Token Tracker"></iframe>',
    badge: '<a href="https://gf691271.github.io/gatt/" target="_blank"><img src="https://img.shields.io/badge/Token_Economy-162T%2Fday-c0392b?style=flat-square" alt="GATT Token Economy: 162T/day"></a>'
  };
  navigator.clipboard.writeText(texts[type]).then(() => {
    const msg = document.getElementById('embed-copy-msg');
    msg.style.display = 'block';
    setTimeout(() => msg.style.display = 'none', 2500);
  });
}
</script>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SHARE THIS DATA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">Share This Data</div>
<div class="method-box" style="font-family:-apple-system,sans-serif;">
  <div style="display:flex;flex-wrap:wrap;gap:10px;margin-bottom:16px;">
    <a href="https://twitter.com/intent/tweet?text=In%20the%20time%20it%20took%20me%20to%20read%20this%20tweet%20(~15s)%2C%2026%20billion%20AI%20tokens%20were%20processed%20globally%20%F0%9F%A4%AF%0ADoubao%20alone%20%3D%2063T%2Fday.%20The%20Token%20Economy%20is%20real.%0ALive%20counter%20%E2%86%92%20https%3A%2F%2Fgf691271.github.io%2Fgatt%2F%20via%20%40goghxiang" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;background:#0f1419;color:#fff;border-radius:20px;text-decoration:none;font-size:0.82rem;font-weight:600;">
      ùïè Share on X
    </a>
    <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fgf691271.github.io%2Fgatt%2F" target="_blank" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;background:#0a66c2;color:#fff;border-radius:20px;text-decoration:none;font-size:0.82rem;font-weight:600;">
      in Share on LinkedIn
    </a>
    <button onclick="copyShareText()" id="btn-copy-share" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;background:var(--chip);color:var(--text);border:1px solid var(--border);border-radius:20px;font-size:0.82rem;font-weight:600;cursor:pointer;">
      üìã Copy shareable text
    </button>
  </div>
  <div style="background:var(--chip);padding:14px 16px;border-radius:6px;font-size:0.78rem;color:var(--muted);line-height:1.6;">
    <strong style="color:var(--text);">Pre-written tweet:</strong><br>
    "In the time it took me to read this tweet (~15s), 26 billion AI tokens were processed globally ü§Ø<br>
    Doubao alone = 63T/day. The Token Economy is real.<br>
    Live counter ‚Üí https://gf691271.github.io/gatt/ via @goghxiang"
  </div>
  <div style="margin-top:16px;padding:14px 16px;border:1px dashed var(--border);border-radius:6px;">
    <strong style="font-size:0.85rem;">üì¨ Subscribe to weekly updates</strong>
    <p style="font-size:0.78rem;color:var(--muted);margin:6px 0 0;">Get the latest Token Economy data every Monday.<br>
    Email <a href="mailto:goghxiang@gmail.com?subject=Subscribe%20to%20GATT%20Weekly" style="color:var(--us);font-weight:600;">goghxiang@gmail.com</a> with subject "Subscribe"</p>
  </div>
</div>

<div id="section-velocity"></div><!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOKEN VELOCITY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">Token Velocity ‚Äî How Fast Is AI Getting Faster?</div>
<div class="method-box" style="font-family:-apple-system,sans-serif;">
  <p style="font-size:0.82rem;color:var(--muted);line-height:1.6;margin-bottom:16px;">
    The most visceral way to understand exponential AI growth: <strong>how long does it take the world to produce 1 trillion tokens?</strong>
    In early 2024, that was weeks. Today, it's minutes.
  </p>
  <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:1px;background:var(--border);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;margin-bottom:16px;" class="velocity-grid">
    <div style="background:var(--surface);padding:16px 14px;text-align:center;">
      <div style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:var(--muted);margin-bottom:6px;">May 2024</div>
      <div style="font-size:1.5rem;font-weight:700;color:var(--subtle);">~11 days</div>
      <div style="font-size:0.7rem;color:var(--subtle);margin-top:4px;">to produce 1T tokens</div>
      <div style="font-size:0.65rem;color:var(--subtle);margin-top:2px;">~0.1T/day global</div>
    </div>
    <div style="background:var(--surface);padding:16px 14px;text-align:center;">
      <div style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:var(--muted);margin-bottom:6px;">Dec 2024</div>
      <div style="font-size:1.5rem;font-weight:700;color:var(--cn);">~6 hours</div>
      <div style="font-size:0.7rem;color:var(--muted);margin-top:4px;">to produce 1T tokens</div>
      <div style="font-size:0.65rem;color:var(--subtle);margin-top:2px;">~4T/day global</div>
    </div>
    <div style="background:var(--surface);padding:16px 14px;text-align:center;">
      <div style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:var(--muted);margin-bottom:6px;">Jun 2025</div>
      <div style="font-size:1.5rem;font-weight:700;color:var(--cn);">~38 min</div>
      <div style="font-size:0.7rem;color:var(--muted);margin-top:4px;">to produce 1T tokens</div>
      <div style="font-size:0.65rem;color:var(--subtle);margin-top:2px;">~38T/day global</div>
    </div>
    <div style="background:#f0fdf4;padding:16px 14px;text-align:center;border-left:3px solid #16a34a;">
      <div style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:#166534;margin-bottom:6px;">Feb 2026 ‚Üê NOW</div>
      <div style="font-size:1.5rem;font-weight:700;color:#16a34a;">~9.5 min</div>
      <div style="font-size:0.7rem;color:#166534;margin-top:4px;">to produce 1T tokens</div>
      <div style="font-size:0.65rem;color:#166534;margin-top:2px;">~162T/day global</div>
    </div>
  </div>
  <div style="background:var(--chip);border-radius:6px;padding:12px 16px;font-size:0.82rem;line-height:1.6;">
    <strong>The punchline:</strong> In less than 2 years, the time to produce 1 trillion AI tokens went from <span style="color:var(--cn);font-weight:600;">11 days ‚Üí 9.5 minutes</span> ‚Äî a <strong>1,680√ó</strong> acceleration. By end of 2026 at current growth, it will be under 1 minute.
    <br><br>
    <span style="font-size:0.75rem;color:var(--muted);">For reference: 1 trillion tokens ‚âà all text written by humanity in a single month (rough est.) ¬∑ or 1 million average-length novels ¬∑ or 7 years of the entire internet's web traffic.</span>
  </div>
  <a href="https://twitter.com/intent/tweet?text=In+2024%2C+the+world+took+11+days+to+produce+1+trillion+AI+tokens.+Today%3A+9.5+minutes.+A+1%2C680%C3%97+acceleration+in+under+2+years.+This+is+the+Token+Economy.+https%3A%2F%2Fgf691271.github.io%2Fgatt%2F+%23TokenEconomy" target="_blank" style="display:inline-flex;align-items:center;gap:6px;margin-top:12px;padding:8px 16px;background:#0f1419;color:#fff;border-radius:20px;text-decoration:none;font-size:0.78rem;font-weight:600;">ùïè Share this stat</a>
</div>
<style>@media (max-width:640px){ .velocity-grid { grid-template-columns: 1fr 1fr !important; } }</style>

<div id="section-watchlist"></div><!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê WATCH LIST ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">Watch List ‚Äî Numbers to Track Next</div>
<div style="display:grid;grid-template-columns:repeat(2,1fr);gap:10px;" class="watchlist-grid">

  <div style="background:var(--surface);border:1px solid #fde68a;border-left:4px solid #d97706;border-radius:var(--radius);padding:16px 14px;">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;">
      <div>
        <span style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:#92400e;font-family:-apple-system,sans-serif;">üî• Imminent</span>
        <div style="font-weight:700;font-size:1rem;margin-top:3px;">Doubao crosses 100T/day</div>
      </div>
      <span style="font-size:0.72rem;color:#92400e;font-family:-apple-system,sans-serif;font-weight:600;background:#fef3c7;padding:3px 8px;border-radius:12px;">~Q3 2026</span>
    </div>
    <p style="font-size:0.78rem;color:var(--muted);line-height:1.6;font-family:-apple-system,sans-serif;">At +8%/mo from 63T: crosses 100T by September 2026. This would make Doubao the first AI service in history to process 100T tokens/day ‚Äî equivalent to 10√ó all of 2025's internet search volume.</p>
    <div style="font-size:0.7rem;color:var(--subtle);font-family:-apple-system,sans-serif;margin-top:6px;">Watch: Volcano Engine quarterly disclosures ¬∑ ByteDance earnings</div>
  </div>

  <div style="background:var(--surface);border:1px solid #bbf7d0;border-left:4px solid #16a34a;border-radius:var(--radius);padding:16px 14px;">

    <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;">
      <div>
        <span style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:#166534;font-family:-apple-system,sans-serif;">üìà Emerging</span>
        <div style="font-weight:700;font-size:1rem;margin-top:3px;">DeepSeek official disclosure</div>
      </div>
      <span style="font-size:0.72rem;color:#166534;font-family:-apple-system,sans-serif;font-weight:600;background:#dcfce7;padding:3px 8px;border-radius:12px;">Tier 2 ‚Üí Tier 1</span>
    </div>
    <p style="font-size:0.78rem;color:var(--muted);line-height:1.6;font-family:-apple-system,sans-serif;">DeepSeek has never published token consumption data. With DeepSeek V3 and R2 driving massive developer adoption globally, an official disclosure would almost certainly surprise to the upside. Currently est. ~7.5T/day ‚Äî could easily be 15T+.</p>
    <div style="font-size:0.7rem;color:var(--subtle);font-family:-apple-system,sans-serif;margin-top:6px;">Watch: DeepSeek blog ¬∑ HuggingFace traffic ¬∑ developer surveys</div>
  </div>

  <div style="background:var(--surface);border:1px solid #bfdbfe;border-left:4px solid #2563eb;border-radius:var(--radius);padding:16px 14px;">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;">
      <div>
        <span style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:#1d4ed8;font-family:-apple-system,sans-serif;">üîÆ Wild Card</span>
        <div style="font-weight:700;font-size:1rem;margin-top:3px;">Apple Intelligence scale event</div>
      </div>
      <span style="font-size:0.72rem;color:#1d4ed8;font-family:-apple-system,sans-serif;font-weight:600;background:#dbeafe;padding:3px 8px;border-radius:12px;">H2 2026</span>
    </div>
    <p style="font-size:0.78rem;color:var(--muted);line-height:1.6;font-family:-apple-system,sans-serif;">Apple has 2.2B active devices. If iOS 19 defaults to on-device AI for Siri/Photos/Messages and 5% of users generate 200K tokens/day, that's 22T/day ‚Äî silently. Apple will never disclose this, but it could move the global total by 15%.</p>
    <div style="font-size:0.7rem;color:var(--subtle);font-family:-apple-system,sans-serif;margin-top:6px;">Watch: WWDC 2026 ¬∑ Apple on-device inference chip benchmarks</div>
  </div>

  <div style="background:var(--surface);border:1px solid #e9d5ff;border-left:4px solid #7c3aed;border-radius:var(--radius);padding:16px 14px;">
    <div style="display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;">
      <div>
        <span style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:#6d28d9;font-family:-apple-system,sans-serif;">üåç Geopolitical</span>
        <div style="font-weight:700;font-size:1rem;margin-top:3px;">India surpasses France in volume</div>
      </div>
      <span style="font-size:0.72rem;color:#6d28d9;font-family:-apple-system,sans-serif;font-weight:600;background:#f3e8ff;padding:3px 8px;border-radius:12px;">~Q4 2026</span>
    </div>
    <p style="font-size:0.78rem;color:var(--muted);line-height:1.6;font-family:-apple-system,sans-serif;">India (0.6%) is now below France (1.5%). The India AI Mission, government compute infrastructure (10,000 GPU target), and Indic language model initiatives (Sarvam, Krutrim) could reverse this by end of 2026. When it happens, it signals a new AI power map.</p>
    <div style="font-size:0.7rem;color:var(--subtle);font-family:-apple-system,sans-serif;margin-top:6px;">Watch: IndiaAI Mission quarterly reports ¬∑ Sarvam AI usage stats</div>
  </div>

</div>
<style>@media (max-width:640px){ .watchlist-grid { grid-template-columns: 1fr !important; } }</style>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOKEN ECONOMY FRAMEWORK ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">The Token Economy ‚Äî A Macro Framework</div>
<div class="method-box" style="font-family:-apple-system,sans-serif;">
  <div style="border-left:4px solid var(--text);padding:14px 18px;margin-bottom:20px;background:var(--chip);border-radius:0 6px 6px 0;">
    <p style="font-size:0.92rem;font-weight:700;color:var(--text);margin-bottom:6px;font-style:italic;">"The Token Economy is the global system of AI inference production, consumption, and exchange ‚Äî in which AI-generated tokens function simultaneously as commodity, currency, and geopolitical signal."</p>
    <p style="font-size:0.72rem;color:var(--muted);">‚Äî GATT Definition, 2026. Distinct from behavioral psychology's token economies and crypto's token systems.</p>
  </div>

  <h3 style="font-size:0.95rem;margin-bottom:10px;">Why Tokens Are the New Oil</h3>
  <p style="font-size:0.82rem;color:var(--muted);line-height:1.7;margin-bottom:12px;">
    In Carlota Perez's framework of <em>Technological Revolutions and Financial Capital</em>, each major technology wave creates a new "key input" ‚Äî coal ‚Üí steam, steel ‚Üí railroads, oil ‚Üí automobiles, chips ‚Üí computers.
    AI inference tokens are the key input of the current wave: they are the unit of production, the measure of scale, and the battleground of geopolitical competition.
  </p>

  <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:1px;background:var(--border);border:1px solid var(--border);border-radius:6px;overflow:hidden;margin-bottom:16px;">
    <div style="background:var(--surface);padding:14px 12px;">
      <div style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:var(--muted);margin-bottom:6px;">As Commodity</div>
      <div style="font-size:0.85rem;color:var(--text);line-height:1.5;">Bought and sold per million units at market prices. Chinese tokens trade at $0.10‚Äì0.30/M. US tokens at $1‚Äì6/M. A 4‚Äì60√ó price gap that mirrors oil quality differentials.</div>
    </div>
    <div style="background:var(--surface);padding:14px 12px;">
      <div style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:var(--muted);margin-bottom:6px;">As Currency</div>
      <div style="font-size:0.85rem;color:var(--text);line-height:1.5;">API access is priced in tokens. Enterprise AI budgets are denominated in tokens. Countries that produce cheap tokens gain influence ‚Äî just as petrodollar recycling shaped 20th-century geopolitics.</div>
    </div>
    <div style="background:var(--surface);padding:14px 12px;">
      <div style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.08em;color:var(--muted);margin-bottom:6px;">As Geopolitical Signal</div>
      <div style="font-size:0.85rem;color:var(--text);line-height:1.5;">Token volume = sovereign AI capacity. China's 55% share signals computational self-sufficiency. US export controls target the chip layer that produces tokens. Token counts are a proxy for national AI power.</div>
    </div>
  </div>

  <h3 style="font-size:0.95rem;margin-bottom:8px;">The GATT Thesis in One Sentence</h3>
  <p style="font-size:0.85rem;color:var(--text);line-height:1.7;background:var(--chip);padding:12px 14px;border-radius:6px;">
    <strong>China leads token volume by 2√ó; the US leads token value by 4√ó; and this gap ‚Äî measured by the Dollar-Equivalent Compute (DEC) metric ‚Äî is the single most important number in understanding the global AI power balance.</strong>
  </p>
  <p style="font-size:0.72rem;color:var(--muted);margin-top:8px;">
    Related frameworks: Perez (2002) <em>Technological Revolutions and Financial Capital</em> ¬∑ Zuboff (2019) <em>The Age of Surveillance Capitalism</em> ¬∑ Bresnahan &amp; Trajtenberg (1995) on General Purpose Technologies.
    GATT's contribution: applying commodity-market analysis to AI inference at daily granularity.
  </p>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ABOUT & CITE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">About This Project</div>
<div class="method-box" style="font-family:-apple-system,sans-serif;">
  <div style="display:flex;gap:20px;align-items:flex-start;flex-wrap:wrap;">
    <div style="flex:1;min-width:260px;">
      <h3 style="font-size:0.95rem;margin-bottom:8px;">Built by Frank Gao</h3>
      <p style="font-size:0.82rem;color:var(--muted);line-height:1.6;">
        Global AI communications expert. Ex-Alibaba, Microsoft, Nokia.
        Built GATT to bring transparency to the Token Economy ‚Äî AI inference as commodity, currency, and geopolitical force.
      </p>
      <div style="margin-top:10px;display:flex;gap:12px;font-size:0.78rem;">
        <a href="https://linkedin.com/in/frankgao" target="_blank" style="color:var(--us);text-decoration:none;font-weight:600;">LinkedIn ‚Üí</a>
        <a href="https://twitter.com/goghxiang" target="_blank" style="color:var(--text);text-decoration:none;font-weight:600;">ùïè @goghxiang ‚Üí</a>
        <a href="mailto:goghxiang@gmail.com" style="color:var(--muted);text-decoration:none;">Media inquiries ‚Üí</a>
      </div>
    </div>
    <div style="flex:1;min-width:260px;">
      <h3 style="font-size:0.95rem;margin-bottom:8px;">üìé Cite This Data</h3>
      <div style="background:var(--chip);padding:12px 14px;border-radius:6px;font-size:0.78rem;line-height:1.6;">
        <strong>Academic / Report:</strong><br>
        <code style="font-size:0.75rem;word-break:break-all;">Gao, F. (2026). GATT: Global AI Token Tracker. Retrieved from https://gf691271.github.io/gatt/</code>
      </div>
      <div style="background:var(--chip);padding:12px 14px;border-radius:6px;font-size:0.78rem;line-height:1.6;margin-top:8px;">
        <strong>Journalism:</strong><br>
        "According to the Global AI Token Tracker (GATT), a project by Frank Gao tracking daily AI inference consumption across 29 vendors..."
      </div>
      <div style="background:var(--chip);padding:12px 14px;border-radius:6px;font-size:0.78rem;line-height:1.6;margin-top:8px;">
        <strong>Open Data API:</strong><br>
        <code style="font-size:0.75rem;">curl https://gf691271.github.io/gatt/data/tci-latest.json</code>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DATA PROVENANCE BOARD ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label" id="section-provenance">üîç Data Provenance Board</div>
<div class="method-box" style="font-family:-apple-system,sans-serif;">
  <p style="font-size:0.82rem;color:var(--muted);margin-bottom:16px;">Every number has a source. This board shows exactly when each vendor's data was last verified, how many days ago, and the confidence level. Journalists and analysts: sort by "Days Old" to find the freshest signals. Rows in <span style="color:#e74c3c;font-weight:600;">red</span> are extrapolated from sources &gt;90 days old.</p>

  <div style="overflow-x:auto;">
  <table id="provenance-table" style="width:100%;border-collapse:collapse;font-size:0.77rem;">
    <thead>
      <tr style="background:var(--chip);text-align:left;">
        <th style="padding:8px 10px;border-bottom:1.5px solid var(--border);font-weight:700;">Rank</th>
        <th style="padding:8px 10px;border-bottom:1.5px solid var(--border);font-weight:700;">Vendor</th>
        <th style="padding:8px 10px;border-bottom:1.5px solid var(--border);font-weight:700;">Daily (T)</th>
        <th style="padding:8px 10px;border-bottom:1.5px solid var(--border);font-weight:700;">Source Date</th>
        <th style="padding:8px 10px;border-bottom:1.5px solid var(--border);font-weight:700;">Days Old</th>
        <th style="padding:8px 10px;border-bottom:1.5px solid var(--border);font-weight:700;">Confidence</th>
        <th style="padding:8px 10px;border-bottom:1.5px solid var(--border);font-weight:700;">Method</th>
      </tr>
    </thead>
    <tbody id="provenance-tbody"></tbody>
  </table>
  </div>

  <div style="margin-top:12px;display:flex;gap:16px;flex-wrap:wrap;font-size:0.72rem;color:var(--muted);">
    <span>üü¢ High (&lt;60 days)</span>
    <span>üü° Medium (60‚Äì120 days)</span>
    <span>üî¥ Extrapolated (&gt;120 days)</span>
    <span style="margin-left:auto;"><a href="data/tci-latest.json" style="color:var(--us);">Download full provenance JSON ‚Üí</a></span>
  </div>
</div>

<script>
(function buildProvenanceBoard() {
  const vendors = [
    { rank:1, name:"Doubao (ByteDance)", daily:63, sourceDate:"2026-01-15", confidence:"High", method:"Direct disclosure + extrapolation" },
    { rank:2, name:"Google Gemini (All Surfaces)", daily:50, sourceDate:"2025-10-29", confidence:"Medium", method:"Earnings call + growth extrapolation" },
    { rank:3, name:"OpenAI (ChatGPT + API)", daily:28, sourceDate:"2026-02-01", confidence:"Medium-Low", method:"Sep 2025 baseline 19T extrapolated at 15%/mo growth ‚Üí 28T est." },
    { rank:4, name:"Claude (Anthropic)", daily:10, sourceDate:"2025-12-01", confidence:"Medium-Low", method:"ARR √∑ blended price estimate" },
    { rank:5, name:"DeepSeek", daily:7.5, sourceDate:"2026-01-28", confidence:"Low", method:"Traffic proxy + API pricing inference" },
    { rank:6, name:"Azure OpenAI Service", daily:7, sourceDate:"2025-11-15", confidence:"Low", method:"Microsoft Azure revenue proxy" },
    { rank:7, name:"Qwen (Alibaba Cloud)", daily:5, sourceDate:"2025-12-10", confidence:"Medium", method:"Investor day disclosure + extrapolation" },
    { rank:8, name:"Hunyuan (Tencent)", daily:2, sourceDate:"2025-08-01", confidence:"Very Low", method:"GPU fleet proxy (data dark zone)" },
    { rank:9, name:"ERNIE (Baidu)", daily:1.6, sourceDate:"2026-01-20", confidence:"High", method:"Baidu quarterly earnings, direct" },
    { rank:10, name:"Spark (iFlytek)", daily:1.4, sourceDate:"2025-11-01", confidence:"Medium", method:"Annual report + extrapolation" },
    { rank:11, name:"OpenRouter", daily:1.0, sourceDate:"2026-02-01", confidence:"High", method:"OpenRouter public stats dashboard" },
    { rank:12, name:"Mistral AI", daily:0.6, sourceDate:"2025-10-01", confidence:"Low", method:"Series B ARR √∑ API pricing" },
    { rank:13, name:"Grok (xAI)", daily:0.5, sourceDate:"2025-12-01", confidence:"Low", method:"X Premium subscriber proxy" },
    { rank:14, name:"MiniMax", daily:0.35, sourceDate:"2025-11-15", confidence:"Medium", method:"Funding announcement + API benchmark" },
    { rank:15, name:"Groq", daily:0.25, sourceDate:"2025-10-15", confidence:"Low", method:"LMSYS leaderboard traffic proxy" },
    { rank:16, name:"Llama API (Meta)", daily:0.2, sourceDate:"2025-09-15", confidence:"Low", method:"Meta AI monthly active users proxy" },
    { rank:17, name:"Kimi (Moonshot AI)", daily:0.17, sourceDate:"2025-12-20", confidence:"Medium", method:"App store ranking + pricing proxy" },
    { rank:18, name:"Amazon Bedrock", daily:0.15, sourceDate:"2025-11-01", confidence:"Low", method:"AWS AI revenue fraction estimate" },
    { rank:19, name:"GLM (Zhipu AI)", daily:0.11, sourceDate:"2025-10-01", confidence:"Medium", method:"Enterprise partnership disclosures" },
    { rank:20, name:"Perplexity AI", daily:0.07, sourceDate:"2026-02-10", confidence:"Low", method:"Public query volume + pricing model" }
  ];

  const today = new Date('2026-02-27');
  const tbody = document.getElementById('provenance-tbody');
  if (!tbody) return;

  vendors.forEach((v, i) => {
    const src = new Date(v.sourceDate);
    const daysOld = Math.round((today - src) / 86400000);
    const isStale = daysOld > 120;
    const isMed = daysOld > 60 && daysOld <= 120;
    const freshIcon = isStale ? 'üî¥' : isMed ? 'üü°' : 'üü¢';
    const rowBg = isStale ? 'rgba(231,76,60,0.05)' : i % 2 === 0 ? 'transparent' : 'var(--chip)';

    const confColor = {
      'High': '#27ae60', 'Medium': '#2980b9', 'Medium-Low': '#e67e22',
      'Low': '#e74c3c', 'Very Low': '#8e44ad'
    }[v.confidence] || '#666';

    const tr = document.createElement('tr');
    tr.style.background = rowBg;
    tr.innerHTML = `
      <td style="padding:7px 10px;border-bottom:1px solid var(--border);color:var(--muted);">#${v.rank}</td>
      <td style="padding:7px 10px;border-bottom:1px solid var(--border);font-weight:600;">${v.name}</td>
      <td style="padding:7px 10px;border-bottom:1px solid var(--border);font-family:monospace;">${v.daily}T</td>
      <td style="padding:7px 10px;border-bottom:1px solid var(--border);color:var(--muted);">${v.sourceDate}</td>
      <td style="padding:7px 10px;border-bottom:1px solid var(--border);">${freshIcon} ${daysOld}d</td>
      <td style="padding:7px 10px;border-bottom:1px solid var(--border);"><span style="color:${confColor};font-weight:600;font-size:0.72rem;">${v.confidence}</span></td>
      <td style="padding:7px 10px;border-bottom:1px solid var(--border);color:var(--muted);font-size:0.71rem;">${v.method}</td>
    `;
    tbody.appendChild(tr);
  });
})();
</script>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BLACK HOLE METHODOLOGY ‚Äî v0.60 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label" id="section-blackhole">üï≥Ô∏è Black Hole Vendors ‚Äî How We Estimate the Unknown</div>
<div class="method-box" style="font-family:-apple-system,sans-serif;">
  <p style="font-size:0.78rem;color:var(--muted);margin:0 0 14px;">
    Six vendors disclose no public inference volume data. Rather than leave them blank ‚Äî which would misrepresent the market ‚Äî GATT uses triangulated estimation. Every formula is shown below so journalists and analysts can independently verify or challenge our numbers.
  </p>

  <!-- Tencent Hunyuan -->
  <details style="border:1px solid var(--border);border-radius:8px;margin-bottom:10px;overflow:hidden;" open>
    <summary style="padding:11px 14px;cursor:pointer;font-size:0.78rem;font-weight:700;background:var(--chip);display:flex;justify-content:space-between;align-items:center;">
      <span>üá®üá≥ Hunyuan (Tencent) ‚Äî est. 2T/day <span style="font-weight:400;color:var(--muted);font-size:0.73rem;">Confidence: Very Low</span></span>
      <span style="font-size:0.7rem;color:var(--muted);">‚ñº show formula</span>
    </summary>
    <div style="padding:12px 16px;font-size:0.75rem;line-height:1.7;color:var(--text);">
      <strong>Method: User-base proxy √ó avg session tokens</strong><br>
      WeChat Monthly Active Users: ~1.38B (Tencent Q3 2025 earnings)<br>
      Estimated daily AI feature users: 5% = 69M users<br>
      Avg tokens per AI interaction: ~30K (WeChat AI reply, Hunyuan search, mini-programs)<br>
      <strong>Result: 69M √ó 30K = 2.07T/day ‚Üí rounded to 2T</strong><br>
      <span style="color:var(--muted);">‚ö†Ô∏è This excludes Tencent Cloud B2B API volume. Real number may be 2-5√ó higher. We use the conservative floor.</span>
    </div>
  </details>

  <!-- Groq -->
  <details style="border:1px solid var(--border);border-radius:8px;margin-bottom:10px;overflow:hidden;">
    <summary style="padding:11px 14px;cursor:pointer;font-size:0.78rem;font-weight:700;background:var(--chip);display:flex;justify-content:space-between;align-items:center;">
      <span>üá∫üá∏ Groq ‚Äî est. 0.25T/day <span style="font-weight:400;color:var(--muted);font-size:0.73rem;">Confidence: Low</span></span>
      <span style="font-size:0.7rem;color:var(--muted);">‚ñº show formula</span>
    </summary>
    <div style="padding:12px 16px;font-size:0.75rem;line-height:1.7;color:var(--text);">
      <strong>Method: Revenue proxy √ó price-per-token</strong><br>
      Groq's last known ARR run-rate: ~$70M (Dec 2024, The Information)<br>
      Blended API price: ~$0.80/M tokens (Groq public pricing, avg of Llama 3.1 tiers)<br>
      Daily implied tokens: ($70M/365) / $0.80/M = 240B = 0.24T/day<br>
      <strong>Result: ~0.25T/day</strong><br>
      <span style="color:var(--muted);">‚ö†Ô∏è Groq's main value proposition is speed (fastest LPU inference), not volume. May be lower than revenue implies if premium pricing per token is higher.</span>
    </div>
  </details>

  <!-- xAI Grok -->
  <details style="border:1px solid var(--border);border-radius:8px;margin-bottom:10px;overflow:hidden;">
    <summary style="padding:11px 14px;cursor:pointer;font-size:0.78rem;font-weight:700;background:var(--chip);display:flex;justify-content:space-between;align-items:center;">
      <span>üá∫üá∏ Grok (xAI) ‚Äî est. 0.5T/day <span style="font-weight:400;color:var(--muted);font-size:0.73rem;">Confidence: Low</span></span>
      <span style="font-size:0.7rem;color:var(--muted);">‚ñº show formula</span>
    </summary>
    <div style="padding:12px 16px;font-size:0.75rem;line-height:1.7;color:var(--text);">
      <strong>Method: X Premium subscriber base √ó usage rate</strong><br>
      X Premium subscribers: ~1M active (X Corp, Q3 2025 estimate)<br>
      Daily Grok usage rate: ~30% of Premium users = 300K users/day<br>
      Avg tokens per session: ~1.5K (conversational AI, shorter than ChatGPT due to X context)<br>
      X Premium share: 300K √ó 1.5K = 0.45T<br>
      xAI API (enterprise/B2B): add ~0.05T estimated<br>
      <strong>Result: ~0.5T/day</strong><br>
      <span style="color:var(--muted);">‚ö†Ô∏è xAI raised $6B (Nov 2024, WSJ) for compute buildout ‚Äî volume may grow 5-10√ó in 2026 if Grok gains traction on X.</span>
    </div>
  </details>

  <!-- Azure OpenAI -->
  <details style="border:1px solid var(--border);border-radius:8px;margin-bottom:10px;overflow:hidden;">
    <summary style="padding:11px 14px;cursor:pointer;font-size:0.78rem;font-weight:700;background:var(--chip);display:flex;justify-content:space-between;align-items:center;">
      <span>üá∫üá∏ Azure OpenAI Service ‚Äî est. 7T/day <span style="font-weight:400;color:var(--muted);font-size:0.73rem;">Confidence: Low</span></span>
      <span style="font-size:0.7rem;color:var(--muted);">‚ñº show formula</span>
    </summary>
    <div style="padding:12px 16px;font-size:0.75rem;line-height:1.7;color:var(--text);">
      <strong>Method: Microsoft AI Cloud revenue √∑ blended price</strong><br>
      Microsoft AI Cloud revenue: ~$13B/yr run rate (Q2 FY2026, Microsoft earnings)<br>
      Portion attributable to Azure OpenAI Service: ~30% = $3.9B/yr (remainder = Copilot seats + GitHub Copilot)<br>
      Blended API price: ~$1.50/M tokens<br>
      Daily implied: ($3.9B/365) / $1.50/M = 7.1T/day<br>
      <strong>Result: ~7T/day</strong><br>
      <span style="color:var(--muted);">‚ö†Ô∏è Microsoft bundles Azure OpenAI with enterprise agreements. Actual per-token revenue may be lower than list price.</span>
    </div>
  </details>

  <!-- Mistral -->
  <details style="border:1px solid var(--border);border-radius:8px;margin-bottom:10px;overflow:hidden;">
    <summary style="padding:11px 14px;cursor:pointer;font-size:0.78rem;font-weight:700;background:var(--chip);display:flex;justify-content:space-between;align-items:center;">
      <span>üá´üá∑ Mistral AI ‚Äî est. 0.6T/day <span style="font-weight:400;color:var(--muted);font-size:0.73rem;">Confidence: Low</span></span>
      <span style="font-size:0.7rem;color:var(--muted);">‚ñº show formula</span>
    </summary>
    <div style="padding:12px 16px;font-size:0.75rem;line-height:1.7;color:var(--text);">
      <strong>Method: Funding-implied ARR √ó price proxy</strong><br>
      Mistral raised ‚Ç¨600M (Jun 2024) at ‚Ç¨6B valuation ‚Üí implies ~$150M ARR expectation<br>
      Blended API price: ~$0.70/M tokens (Mistral pricing, weighted avg)<br>
      Daily implied: ($150M/365) / $0.70/M = 0.59T/day<br>
      <strong>Result: ~0.6T/day</strong><br>
      <span style="color:var(--muted);">‚ö†Ô∏è Mistral is heavily used in European enterprise (GDPR-compliant on-prem deployments). Self-hosted tokens are not included in this estimate.</span>
    </div>
  </details>

  <!-- DeepSeek -->
  <details style="border:1px solid var(--border);border-radius:8px;margin-bottom:10px;overflow:hidden;">
    <summary style="padding:11px 14px;cursor:pointer;font-size:0.78rem;font-weight:700;background:var(--chip);display:flex;justify-content:space-between;align-items:center;">
      <span>üá®üá≥ DeepSeek ‚Äî est. 7.5T/day <span style="font-weight:400;color:var(--muted);font-size:0.73rem;">Confidence: Low</span></span>
      <span style="font-size:0.7rem;color:var(--muted);">‚ñº show formula</span>
    </summary>
    <div style="padding:12px 16px;font-size:0.75rem;line-height:1.7;color:var(--text);">
      <strong>Method: App download proxy + GPU cluster estimate</strong><br>
      DeepSeek app downloads: #1 globally Jan 2026, estimated 50M+ DAU at peak<br>
      Avg tokens per conversation: ~3K (reasoning model, longer chains)<br>
      Estimated DAU in Feb 2026 (post-peak decline): ~25M<br>
      Consumer: 25M √ó 3K = 75B = 0.075T<br>
      Known GPU cluster: ~50K H800s (leaked CNBC, Dec 2025) ‚Üí theoretical max ~45T/day<br>
      Reported utilization ~15-20% ‚Üí 7-9T/day<br>
      <strong>Result: 7.5T/day (midpoint of GPU-utilization method)</strong><br>
      <span style="color:var(--muted);">‚ö†Ô∏è DeepSeek's API pricing is near-zero ($0.014/M tokens). Volume is likely higher than revenue implies.</span>
    </div>
  </details>

  <div style="font-size:0.72rem;color:var(--muted);margin-top:12px;padding:10px;border-top:1px solid var(--border);">
    üîó <a href="https://gf691271.github.io/gatt/data/tci-latest.json" style="color:var(--us);">Full methodology in tci-latest.json</a> ¬∑ 
    <a href="mailto:goghxiang@gmail.com" style="color:var(--us);">Challenge our estimates</a> ‚Äî we update when better data arrives.
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê IN THE PRESS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label" id="press">In the Press &amp; Community</div>
<div class="method-box" style="font-family:-apple-system,sans-serif;">

  <!-- ‚îÄ‚îÄ Launch status banner ‚îÄ‚îÄ -->
  <div style="display:flex;align-items:center;gap:10px;background:var(--chip);border:1px solid var(--border);border-radius:8px;padding:12px 16px;margin-bottom:18px;">
    <span style="font-size:1.4rem;">üöÄ</span>
    <div>
      <div style="font-size:0.8rem;font-weight:700;color:var(--text);margin-bottom:2px;">Launched Feb 2026 ‚Äî First Citations Welcome</div>
      <div style="font-size:0.74rem;color:var(--muted);">GATT is newly public. If you cite this data in a post, article, or tweet, <a href="mailto:goghxiang@gmail.com" style="color:var(--us);">drop us a note</a> ‚Äî we'll feature it here.</div>
    </div>
  </div>

  <!-- ‚îÄ‚îÄ GitHub social proof ‚îÄ‚îÄ -->
  <div style="margin-bottom:18px;display:flex;flex-wrap:wrap;gap:8px;align-items:center;">
    <span style="font-size:0.76rem;color:var(--muted);font-weight:600;">Project on GitHub:</span>
    <a href="https://github.com/gf691271/gatt" target="_blank" rel="noopener"
       style="display:inline-flex;align-items:center;gap:5px;padding:4px 10px;border:1px solid var(--border);border-radius:20px;font-size:0.74rem;color:var(--text);text-decoration:none;background:var(--bg);">
      ‚≠ê Star on GitHub
    </a>
    <a href="https://github.com/gf691271/gatt/issues/new?title=Data+correction&labels=data" target="_blank" rel="noopener"
       style="display:inline-flex;align-items:center;gap:5px;padding:4px 10px;border:1px solid var(--border);border-radius:20px;font-size:0.74rem;color:var(--text);text-decoration:none;background:var(--bg);">
      üêõ Report a data error
    </a>
    <a href="https://twitter.com/frankgaox" target="_blank" rel="noopener"
       style="display:inline-flex;align-items:center;gap:5px;padding:4px 10px;border:1px solid var(--border);border-radius:20px;font-size:0.74rem;color:var(--text);text-decoration:none;background:var(--bg);">
      üê¶ Follow updates @frankgaox
    </a>
  </div>

  <!-- ‚îÄ‚îÄ Distribution toolkit ‚îÄ‚îÄ -->
  <div style="border:1px solid var(--border);border-radius:8px;overflow:hidden;margin-bottom:16px;">
    <div style="padding:10px 14px;background:var(--chip);border-bottom:1px solid var(--border);font-size:0.74rem;font-weight:700;color:var(--text);letter-spacing:0.04em;text-transform:uppercase;">
      üì¢ Share This Data ‚Äî Ready-to-Post Titles
    </div>
    <div style="padding:14px 16px;display:grid;gap:10px;">

      <div style="background:var(--bg);border:1px solid var(--border);border-radius:6px;padding:10px 13px;">
        <div style="font-size:0.68rem;font-weight:700;color:#ff6314;text-transform:uppercase;letter-spacing:0.05em;margin-bottom:5px;">Hacker News</div>
        <div style="font-size:0.81rem;color:var(--text);line-height:1.5;margin-bottom:6px;">"The US generates 214√ó more AI tokens per person per day than India ‚Äî open dataset"</div>
        <button onclick="navigator.clipboard.writeText('The US generates 214√ó more AI tokens per person per day than India ‚Äî open dataset\nhttps://gf691271.github.io/gatt/');this.textContent='Copied ‚úì';setTimeout(()=>this.textContent='Copy',1500);"
          style="font-size:0.7rem;padding:3px 9px;border:1px solid var(--border);border-radius:4px;background:transparent;cursor:pointer;color:var(--muted);">Copy</button>
        <a href="https://news.ycombinator.com/submitlink?u=https%3A%2F%2Fgf691271.github.io%2Fgatt%2F&t=The+US+generates+214%C3%97+more+AI+tokens+per+person+per+day+than+India+%E2%80%94+open+dataset"
           target="_blank" rel="noopener"
           style="margin-left:8px;font-size:0.7rem;padding:3px 9px;border:1px solid var(--border);border-radius:4px;background:transparent;cursor:pointer;color:var(--us);text-decoration:none;">Submit to HN ‚Üí</a>
      </div>

      <div style="background:var(--bg);border:1px solid var(--border);border-radius:6px;padding:10px 13px;">
        <div style="font-size:0.68rem;font-weight:700;color:#ff4500;text-transform:uppercase;letter-spacing:0.05em;margin-bottom:5px;">Reddit r/MachineLearning ¬∑ r/dataisbeautiful</div>
        <div style="font-size:0.81rem;color:var(--text);line-height:1.5;margin-bottom:6px;">"[OC] Open dataset: Global AI Token Economy ‚Äî 29 vendors, 18 countries, daily estimates with methodology"</div>
        <button onclick="navigator.clipboard.writeText('[OC] Open dataset: Global AI Token Economy ‚Äî 29 vendors, 18 countries, daily estimates with methodology\nhttps://gf691271.github.io/gatt/');this.textContent='Copied ‚úì';setTimeout(()=>this.textContent='Copy',1500);"
          style="font-size:0.7rem;padding:3px 9px;border:1px solid var(--border);border-radius:4px;background:transparent;cursor:pointer;color:var(--muted);">Copy</button>
        <a href="https://www.reddit.com/r/MachineLearning/submit?url=https%3A%2F%2Fgf691271.github.io%2Fgatt%2F&title=%5BOC%5D+Open+dataset%3A+Global+AI+Token+Economy+%E2%80%94+29+vendors%2C+18+countries%2C+daily+estimates+with+methodology"
           target="_blank" rel="noopener"
           style="margin-left:8px;font-size:0.7rem;padding:3px 9px;border:1px solid var(--border);border-radius:4px;background:transparent;cursor:pointer;color:var(--us);text-decoration:none;">Submit to r/ML ‚Üí</a>
      </div>

      <div style="background:var(--bg);border:1px solid var(--border);border-radius:6px;padding:10px 13px;">
        <div style="font-size:0.68rem;font-weight:700;color:#1d9bf0;text-transform:uppercase;letter-spacing:0.05em;margin-bottom:5px;">Twitter/X ‚Äî Headline Hook</div>
        <div style="font-size:0.81rem;color:var(--text);line-height:1.5;margin-bottom:6px;">üá∫üá∏ The US generates 135,000 AI tokens per person per day.<br>üáÆüá≥ India: 631.<br><br>That's a 214√ó gap ‚Äî and it's growing.<br><br>I built an open dataset tracking the global AI token economy. Methodology fully transparent.<br>üëâ gf691271.github.io/gatt/ #AI #TokenEconomy</div>
        <button onclick="navigator.clipboard.writeText('üá∫üá∏ The US generates 135,000 AI tokens per person per day.\nüáÆüá≥ India: 631.\n\nThat\'s a 214√ó gap ‚Äî and it\'s growing.\n\nI built an open dataset tracking the global AI token economy. Methodology fully transparent.\nüëâ https://gf691271.github.io/gatt/ #AI #TokenEconomy');this.textContent='Copied ‚úì';setTimeout(()=>this.textContent='Copy',1500);"
          style="font-size:0.7rem;padding:3px 9px;border:1px solid var(--border);border-radius:4px;background:transparent;cursor:pointer;color:var(--muted);">Copy tweet</button>
      </div>

    </div>
  </div>

  <!-- ‚îÄ‚îÄ Citation placeholder grid (honest) ‚îÄ‚îÄ -->
  <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:10px;margin-bottom:16px;">
    <div style="border:1px dashed var(--border);border-radius:8px;padding:14px 16px;display:flex;align-items:center;justify-content:center;min-height:80px;">
      <div style="text-align:center;color:var(--subtle);font-size:0.78rem;">
        <div style="font-size:1.3rem;margin-bottom:4px;">üì∞</div>
        First press citation<br><span style="font-size:0.68rem;">Could be you ‚Üí</span>
      </div>
    </div>
    <div style="border:1px dashed var(--border);border-radius:8px;padding:14px 16px;display:flex;align-items:center;justify-content:center;min-height:80px;">
      <div style="text-align:center;color:var(--subtle);font-size:0.78rem;">
        <div style="font-size:1.3rem;margin-bottom:4px;">üî¨</div>
        First research citation<br><span style="font-size:0.68rem;">arXiv / Substack welcome</span>
      </div>
    </div>
    <div style="border:1px dashed var(--border);border-radius:8px;padding:14px 16px;display:flex;align-items:center;justify-content:center;min-height:80px;">
      <div style="text-align:center;color:var(--subtle);font-size:0.78rem;">
        <div style="font-size:1.3rem;margin-bottom:4px;">üê¶</div>
        First KOL mention<br><span style="font-size:0.68rem;"><a href="mailto:goghxiang@gmail.com" style="color:var(--us);">goghxiang@gmail.com</a></span>
      </div>
    </div>
  </div>

  <div style="padding:12px 14px;background:var(--chip);border-radius:6px;font-size:0.78rem;color:var(--muted);line-height:1.6;">
    üì° <strong>Media Kit:</strong>
    All GATT charts are free to use under CC BY 4.0.
    High-resolution exports available via the <a href="#embed" style="color:var(--us);">Embed &amp; Export</a> section.
    For press inquiries: <a href="mailto:goghxiang@gmail.com" style="color:var(--us);">goghxiang@gmail.com</a>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CHANGELOG ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="section-label">Correction & Update Log ‚Äî Public Data Revision History</div>
<div class="method-box" style="font-family:-apple-system,sans-serif;font-size:0.82rem;">
  <p style="font-size:0.78rem;color:var(--muted);margin-bottom:16px;">All data corrections are logged publicly. Transparency is core to GATT's credibility. If you spot an error, <a href="https://github.com/gf691271/gatt/issues/new?title=Data+correction&labels=data" style="color:var(--us);">submit a correction ‚Üí</a></p>

  <div class="changelog-entry correction">
    <span class="changelog-tag tag-correction">Correction</span>
    <strong>Global Total</strong>
    <span class="correction-date" style="margin-left:8px;">2026-02-26</span><br>
    <span class="correction-old">~136T/day</span> ‚Üí <span class="correction-new">~151T/day</span><br>
    <span style="color:var(--muted);font-size:0.78rem;">Cascade update after individual vendor corrections: Claude (+7.5T), Grok debut (+0.5T), Hunyuan debut (+2T), ERNIE (+0.6T) = +10.6T total adjustment. Global total revised from 136T to ~151T.</span>
  </div>

  <div class="changelog-entry correction">
    <span class="changelog-tag tag-correction">Correction</span>
    <strong>Claude (Anthropic)</strong>
    <span class="correction-date" style="margin-left:8px;">2026-02-20</span><br>
    <span class="correction-old">2.5T/day</span> ‚Üí <span class="correction-new">~10T/day</span><br>
    <span style="color:var(--muted);font-size:0.78rem;">Previous estimate used stale $3B ARR from 2024. Corrected after Bloomberg confirmed $14B ARR (Feb 2026) and Anthropic's own 820M API requests/day stat (Jun 2025). Revenue√∑blended price yields 8‚Äì12T range.</span>
  </div>

  <div class="changelog-entry correction">
    <span class="changelog-tag tag-correction">Correction</span>
    <strong>Doubao (ByteDance)</strong>
    <span class="correction-date" style="margin-left:8px;">2026-01-15</span><br>
    <span class="correction-old">~50T/day</span> ‚Üí <span class="correction-new">63T/day</span><br>
    <span style="color:var(--muted);font-size:0.78rem;">December 2025 figure (50T) replaced with official January 2026 average published by Volcano Engine blog. High-confidence anchor event.</span>
  </div>

  <div class="changelog-entry addition">
    <span class="changelog-tag tag-addition">Promoted</span>
    <strong>Hunyuan/Tencent</strong> ‚Äî Dark Zone ‚Üí Tier 2
    <span class="correction-date" style="margin-left:8px;">2026-02-25</span><br>
    <span class="correction-old">Unknown (dark zone)</span> ‚Üí <span class="correction-new">~2T/day est.</span><br>
    <span style="color:var(--muted);font-size:0.78rem;">Tencent Yuanbao hit 50M DAU + 900 internal corporate deployments (Feb 2026). Sufficient to model: 50M DAU √ó 40K tokens/day avg = ~2T.</span>
  </div>

  <div class="changelog-entry addition">
    <span class="changelog-tag tag-addition">Promoted</span>
    <strong>Grok (xAI)</strong> ‚Äî Dark Zone ‚Üí Tier 2
    <span class="correction-date" style="margin-left:8px;">2026-02-20</span><br>
    <span class="correction-old">Unknown (dark zone)</span> ‚Üí <span class="correction-new">~0.5T/day est.</span><br>
    <span style="color:var(--muted);font-size:0.78rem;">xAI disclosed 134M queries/day (Feb 2026). At avg 3,700 tokens/query ‚Üí ~0.5T/day. Source: Elon Musk post on X.</span>
  </div>

  <div class="changelog-entry update">
    <span class="changelog-tag tag-update">Update</span>
    <strong>ERNIE (Baidu)</strong>
    <span class="correction-date" style="margin-left:8px;">2026-02-10</span><br>
    <span class="correction-old">~1T/day</span> ‚Üí <span class="correction-new">1.6T/day</span><br>
    <span style="color:var(--muted);font-size:0.78rem;">Baidu Q4 2025 earnings confirmed ERNIE 4.5 adoption growth, revised upward from previous estimate.</span>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FOOTER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<footer class="site-footer">
  <div>GATT ¬∑ Global AI Token Tracker ¬∑ Open Data ¬∑ CC BY 4.0 ¬∑ <a href="https://github.com/gf691271/gatt" style="color:inherit">GitHub</a></div>
  <div style="margin:6px 0;">Cite: Gao, F. (2026). GATT: Global AI Token Tracker. <a href="https://gf691271.github.io/gatt/" style="color:inherit">gf691271.github.io/gatt</a></div>
  <div style="margin:4px 0;"><a href="about.html" style="color:inherit">About &amp; Methodology</a> ¬∑ <a href="CHANGELOG.md" style="color:inherit">Data Changelog</a> ¬∑ <span style="color:var(--subtle)">API docs coming soon</span></div>
  <div style="margin-top:6px;">All figures are estimates. Not financial advice. Last updated 2026-02-27.</div>
</footer>

</div><!-- /page -->

<script>
// ‚îÄ‚îÄ TREND DATA (daily interpolation from anchor points) ‚îÄ‚îÄ
// Algorithm: compound daily growth between confirmed anchor events
// CN anchors: Doubao 120B/d (2024-05-01), 4T/d (2024-12-01), 12.7T/d (2025-03-01), 16.4T/d (2025-05-01), 30T/d (2025-09-01), 50T/d (2025-12-01)
// US anchors: ~8T/d (2024-Q2), ~15T/d (2024-Q4), ~20T/d (2025-Q2), OpenAI 8.6T+Azure+OpenRouter ~28T/d (2025-10), ~32T/d (2025-12), ~34T/d (2026-02)
// RoW: EU(Mistral) + CA(Cohere) + independents, growing slower

function interpolateDaily(anchors, targetDates) {
  return targetDates.map(d => {
    const t = new Date(d).getTime();
    for (let i = 0; i < anchors.length - 1; i++) {
      const t0 = new Date(anchors[i].date).getTime();
      const t1 = new Date(anchors[i+1].date).getTime();
      if (t >= t0 && t <= t1) {
        const ratio = (t - t0) / (t1 - t0);
        // compound interpolation
        const v0 = anchors[i].v, v1 = anchors[i+1].v;
        return +(v0 * Math.pow(v1/v0, ratio)).toFixed(2);
      }
    }
    if (t < new Date(anchors[0].date).getTime()) return anchors[0].v;
    return anchors[anchors.length-1].v;
  });
}

// Generate daily dates from 2024-05-01 to today
function genDates(start, end) {
  const dates = [];
  let d = new Date(start);
  const e = new Date(end);
  while (d <= e) {
    dates.push(d.toISOString().slice(0,10));
    d.setDate(d.getDate() + 1);
  }
  return dates;
}

const startDate = '2024-05-01';
const todayStr = '2026-02-26';
const allDates = genDates(startDate, todayStr);

// Thin to ~monthly ticks for display, keep all data
const displayDates = allDates.filter((_, i) => i % 30 === 0 || i === allDates.length - 1);

const cnAnchors = [
  {date:'2024-05-01', v:0.12},
  {date:'2024-12-01', v:4},
  {date:'2025-03-01', v:12.7},
  {date:'2025-05-01', v:16.4},
  {date:'2025-09-01', v:30},
  {date:'2025-12-01', v:50},
  {date:'2026-01-15', v:63},  // Volcano Engine Jan 2026 avg
  {date:'2026-02-26', v:66}   // GATT interpolated
];
const usAnchors = [
  {date:'2024-05-01', v:6},
  {date:'2024-12-01', v:12},
  {date:'2025-03-01', v:17},
  {date:'2025-06-01', v:22},
  {date:'2025-07-01', v:25},  // Google 35T + OpenAI growing
  {date:'2025-10-01', v:30},
  {date:'2025-12-01', v:34},
  {date:'2026-02-26', v:36}   // Google 35T + OpenAI 19T + others
];
const rowAnchors = [
  {date:'2024-05-01', v:1},
  {date:'2024-12-01', v:2.5},
  {date:'2025-06-01', v:5},
  {date:'2025-12-01', v:9},
  {date:'2026-02-26', v:11}
];

// DEC multipliers (tokens √ó avg_price/T_tokens ‚Üí $M/day)
// CN: cheap models ~$0.14/T ‚Üí DEC = tokens*0.14
// US: premium mix ~$1.06/T ‚Üí DEC = tokens*1.06
// RoW: ~$0.5/T
const cnDECAnchors = cnAnchors.map(a => ({date:a.date, v:+(a.v*0.14).toFixed(2)}));
const usDECAnchors = usAnchors.map(a => ({date:a.date, v:+(a.v*1.06).toFixed(2)}));
const rowDECAnchors = rowAnchors.map(a => ({date:a.date, v:+(a.v*0.5).toFixed(2)}));

const cnVals = interpolateDaily(cnAnchors, allDates);
const usVals = interpolateDaily(usAnchors, allDates);
const rowVals = interpolateDaily(rowAnchors, allDates);
const cnDECVals = interpolateDaily(cnDECAnchors, allDates);
const usDECVals = interpolateDaily(usDECAnchors, allDates);
const rowDECVals = interpolateDaily(rowDECAnchors, allDates);

// Thin data for chart performance
const stride = 7; // weekly points
const chartDates = allDates.filter((_,i) => i % stride === 0 || i === allDates.length-1);
const chartCN = cnVals.filter((_,i) => i % stride === 0 || i === cnVals.length-1);
const chartUS = usVals.filter((_,i) => i % stride === 0 || i === usVals.length-1);
const chartROW = rowVals.filter((_,i) => i % stride === 0 || i === rowVals.length-1);
const chartCNd = cnDECVals.filter((_,i) => i % stride === 0 || i === cnDECVals.length-1);
const chartUSd = usDECVals.filter((_,i) => i % stride === 0 || i === usDECVals.length-1);
const chartROWd = rowDECVals.filter((_,i) => i % stride === 0 || i === rowDECVals.length-1);

// Format labels: show month/year at first of month
const chartLabels = chartDates.map((d,i) => {
  if (i === chartDates.length-1) return 'Today';
  const dt = new Date(d);
  if (dt.getDate() <= 7) return dt.toLocaleDateString('en-US',{month:'short',year:'2-digit'});
  return '';
});

let currentView = 'tokens'; // 'tokens' | 'dec'
let showCN = true, showUS = true, showROW = true;
let trendChart;

function makeGradient(ctx, color) {
  const gradient = ctx.createLinearGradient(0, 0, 0, 300);
  gradient.addColorStop(0, color.replace('1)', '0.18)'));
  gradient.addColorStop(1, color.replace('1)', '0.0)'));
  return gradient;
}

function buildDatasets() {
  const isTok = currentView === 'tokens';
  const ctx = document.getElementById('trendChart').getContext('2d');
  return [
    {
      label: 'China üá®üá≥',
      data: isTok ? chartCN : chartCNd,
      borderColor: '#c0392b',
      backgroundColor: makeGradient(ctx, 'rgba(192,57,43,1)'),
      borderWidth: 1.5,
      pointRadius: (c) => c.dataIndex === chartDates.length-1 ? 4 : 0,
      pointBackgroundColor: '#c0392b',
      pointBorderColor: '#fff',
      pointBorderWidth: 1.5,
      tension: 0.4,
      fill: true,
      hidden: !showCN
    },
    {
      label: 'US üá∫üá∏',
      data: isTok ? chartUS : chartUSd,
      borderColor: '#2563eb',
      backgroundColor: makeGradient(ctx, 'rgba(37,99,235,1)'),
      borderWidth: 1.5,
      pointRadius: (c) => c.dataIndex === chartDates.length-1 ? 4 : 0,
      pointBackgroundColor: '#2563eb',
      pointBorderColor: '#fff',
      pointBorderWidth: 1.5,
      tension: 0.4,
      fill: true,
      hidden: !showUS
    },
    {
      label: 'Rest of World üåç',
      data: isTok ? chartROW : chartROWd,
      borderColor: '#6b7280',
      backgroundColor: makeGradient(ctx, 'rgba(107,114,128,1)'),
      borderWidth: 1.5,
      pointRadius: (c) => c.dataIndex === chartDates.length-1 ? 4 : 0,
      pointBackgroundColor: '#6b7280',
      pointBorderColor: '#fff',
      pointBorderWidth: 1.5,
      tension: 0.4,
      fill: true,
      hidden: !showROW
    }
  ];
}

function initChart() {
  const ctx = document.getElementById('trendChart').getContext('2d');
  trendChart = new Chart(ctx, {
    type: 'line',
    data: { labels: chartLabels, datasets: buildDatasets() },
    options: {
      responsive: true,
      interaction: { mode: 'index', intersect: false },
      plugins: {
        legend: {
          display: true,
          position: 'top',
          align: 'start',
          labels: {
            font: { family: '-apple-system, sans-serif', size: 11, weight: '500' },
            boxWidth: 8, boxHeight: 8,
            padding: 18,
            color: '#3a3935',
            usePointStyle: true,
            pointStyle: 'circle'
          }
        },
        tooltip: {
          backgroundColor: 'rgba(255,255,255,0.98)',
          borderColor: '#e6e3dc',
          borderWidth: 1,
          titleColor: '#171715',
          bodyColor: '#6f6d67',
          titleFont: { family: '-apple-system, sans-serif', size: 11, weight: '600' },
          bodyFont: { family: '-apple-system, sans-serif', size: 11 },
          padding: 12,
          boxPadding: 4,
          callbacks: {
            title: items => {
              const d = chartDates[items[0].dataIndex];
              return new Date(d).toLocaleDateString('en-US',{month:'short', day:'numeric', year:'numeric'});
            },
            label: c => {
              const v = c.parsed.y;
              const label = c.dataset.label.replace(/üá®üá≥|üá∫üá∏|üåç/g,'').trim();
              return currentView === 'tokens'
                ? `  ${label}  ${v.toFixed(1)}T / day`
                : `  ${label}  ${v.toFixed(1)}T adj / day`;
            }
          }
        },
        annotation: {
          annotations: {
            doubaoSurge: {
              type: 'line', scaleID: 'x',
              value: chartDates.findIndex(d => d >= '2024-12-01'),
              borderColor: 'rgba(192,57,43,0.25)', borderWidth: 1, borderDash: [4,3],
              label: { display: true, content: 'Doubao 4T', position: 'start',
                font: { size: 9, family: '-apple-system, sans-serif' },
                color: '#c0392b', backgroundColor: 'transparent', padding: 2 }
            },
            deepseekR1: {
              type: 'line', scaleID: 'x',
              value: chartDates.findIndex(d => d >= '2025-01-20'),
              borderColor: 'rgba(37,99,235,0.2)', borderWidth: 1, borderDash: [4,3],
              label: { display: true, content: 'DeepSeek R1', position: 'start',
                font: { size: 9, family: '-apple-system, sans-serif' },
                color: '#2563eb', backgroundColor: 'transparent', padding: 2 }
            },
            doubao50T: {
              type: 'line', scaleID: 'x',
              value: chartDates.findIndex(d => d >= '2025-12-01'),
              borderColor: 'rgba(192,57,43,0.2)', borderWidth: 1, borderDash: [4,3],
              label: { display: true, content: 'Doubao 50-63T', position: 'start',
                font: { size: 9, family: '-apple-system, sans-serif' },
                color: '#c0392b', backgroundColor: 'transparent', padding: 2 }
            }
          }
        }
      },
      scales: {
        x: {
          grid: { color: 'rgba(0,0,0,0.04)', drawBorder: false },
          border: { display: false },
          ticks: {
            font: { family: '-apple-system, sans-serif', size: 10 },
            color: '#9a9791',
            maxRotation: 0,
            maxTicksLimit: 10
          }
        },
        y: {
          grid: { color: 'rgba(0,0,0,0.04)', drawBorder: false },
          border: { display: false },
          ticks: {
            font: { family: '-apple-system, sans-serif', size: 10 },
            color: '#9a9791',
            padding: 8,
            callback: v => currentView === 'tokens' ? v+'T' : '$'+v+'M'
          }
        }
      }
    }
  });
  animateTodayDot();
}

// Blinking today dot
function animateTodayDot() {
  let big = true;
  setInterval(() => {
    if (!trendChart) return;
    trendChart.data.datasets.forEach(ds => {
      ds.pointRadius = (ctx) => ctx.dataIndex === chartDates.length-1 ? (big ? 7 : 4) : 0;
    });
    trendChart.update('none');
    big = !big;
  }, 900);
}

function toggleSeries(region) {
  if (region === 'cn') showCN = !showCN;
  if (region === 'us') showUS = !showUS;
  if (region === 'row') showROW = !showROW;
  document.getElementById('btn-cn').classList.toggle('active', showCN);
  document.getElementById('btn-us').classList.toggle('active', showUS);
  document.getElementById('btn-row').classList.toggle('active', showROW);
  trendChart.data.datasets[0].hidden = !showCN;
  trendChart.data.datasets[1].hidden = !showUS;
  trendChart.data.datasets[2].hidden = !showROW;
  trendChart.update();
}

function setView(v) {
  currentView = v;
  document.getElementById('view-tokens').classList.toggle('active', v === 'tokens');
  document.getElementById('view-dec').classList.toggle('active', v === 'dec');
  document.querySelector('.chart-axis-label').textContent =
    v === 'tokens' ? 'Trillion tokens per day (T)' : 'Dollar-Equivalent Compute ‚Äî $M/day';
  trendChart.data.datasets = buildDatasets();
  trendChart.options.scales.y.ticks.callback = val =>
    v === 'tokens' ? val+'T' : '$'+val+'M';
  trendChart.update();
}

// ‚îÄ‚îÄ METHOD DATA ‚îÄ‚îÄ
const methodData = {
  'doubao': {
    vendor: 'Doubao (ByteDance)',
    sourceValue: '63T/day (Jan 2026 avg)',
    sourceDate: '2026-01-15',
    source: 'Volcano Engine official blog ‚Äî Jan 2026',
    sourceUrl: 'https://www.volcengine.com/news',
    sourceUrl2: 'https://techcrunch.com/2026/01/bytedance-doubao-63-trillion/',
    sourceUrl2Label: 'TechCrunch coverage',
    logic: 'Direct official disclosure from ByteDance/Volcano Engine. Jan 2026 average = 63T/day, up from 50T/day (Dec 2025). Highest-volume AI service globally by raw token count.',
    growthRate: '+8%/mo',
    extrapolated: '~63T/day (Jan 2026 anchor ¬∑ Feb 2026 est. ~66T)',
    confidence: 'high',
    confidenceReason: 'Direct company disclosure, cross-validated with Volcano Engine compute spend'
  },
  'gemini': {
    vendor: 'Google Gemini',
    sourceValue: '1.3 quadrillion tokens/month (Oct 2025, All Surfaces)',
    sourceDate: '2025-Q4 earnings',
    source: 'Alphabet Q3 2025 Earnings Call (Sundar Pichai)',
    sourceUrl: 'https://abc.xyz/investor/earnings/2025/q3/',
    sourceUrl2: 'https://cloud.google.com/blog/products/ai-machine-learning/google-gemini-token-milestones',
    sourceUrl2Label: 'Google Cloud token milestones',
    logic: 'Google disclosed tokens/min in earnings calls. Q3: 10.08B/min ‚Üí Q4: 14.54B/min (All Surfaces incl. Search AI, Workspace, API). Extrapolated at +13%/mo to Feb 2026 ‚Üí ~50T/day.',
    growthRate: '+8%/mo (Jul‚ÜíOct 2025, slowing)',
    extrapolated: '~50T/day (Feb 2026 est., All Surfaces)',
    confidence: 'high',
    confidenceReason: 'Two direct financial disclosure data points with clear growth trend'
  },
  'openai': {
    vendor: 'OpenAI (ChatGPT + API)',
    sourceValue: '~500M API calls/day, $5B ARR',
    sourceDate: '2025-H2',
    source: 'Epoch AI compute analysis + OpenAI revenue reports',
    sourceUrl: 'https://epochai.org/blog/training-compute-of-frontier-ai-models',
    sourceUrl2: 'https://www.theinformation.com/articles/openai-annualized-revenue',
    sourceUrl2Label: 'The Information: OpenAI revenue',
    logic: 'Sep 2025 baseline: ~19T/day (ARR proxy + Epoch AI compute model). Extrapolated at +15%/mo (OpenAI documented MoM growth rate) to Feb 2026 = 19 √ó 1.15^5 ‚âà 38T. Discounted to ~28T for conservative estimate. Confidence: medium-low.',
    growthRate: '+15%/mo',
    extrapolated: '~28T/day (Feb 2026 est. ‚Äî revised from Sep 2025 baseline)',
    confidence: 'medium',
    confidenceReason: 'ARR-derived, sensitive to pricing assumptions. Multiple analyst reports converge on this range.'
  },
  'claude': {
    vendor: 'Claude (Anthropic)',
    sourceValue: '$14B ARR (Feb 2026) + 820M API req/day (Jun 2025)',
    sourceDate: '2026-02',
    source: 'Bloomberg: Anthropic $14B ARR (Feb 2026)',
    sourceUrl: 'https://www.bloomberg.com/news/articles/2026-02/anthropic-14-billion-arr',
    sourceUrl2: 'https://www.anthropic.com/news/api-usage-milestones',
    sourceUrl2Label: 'Anthropic 820M req/day (Jun 2025)',
    logic: 'Anthropic reached $14B ARR by Feb 2026 (up from $1B in Dec 2024). At 70% API revenue share and ~$3/M blended token price: $9.8B/yr √∑ $3/M √∑ 365 = ~9T/day. Cross-validated: 820M API requests/day √ó avg 12K tokens = ~10T/day.',
    growthRate: '+14√ó/year (2024‚Üí2025)',
    extrapolated: '~7‚Äì10T/day (Feb 2026 est.)',
    confidence: 'medium-low',
    confidenceReason: 'Inferred from ARR. Key uncertainty: actual blended pricing ($1.5‚Äì$6/M range gives 3‚Äì18T). Claude Code long-context use likely undercounted.'
  },
  'global': {
    vendor: 'Global Total',
    sourceValue: '~151T/day (revised from 136T after Feb-2026 data corrections)',
    sourceDate: '2026-02-26',
    source: 'GATT synthesis of all vendor estimates',
    logic: 'Revised from 136T to 151T after data corrections: Claude 2.5T‚Üí10T (+7.5T), Grok dark‚Üí0.5T (+0.5T), Hunyuan dark‚Üí2T (+2T), ERNIE 1T‚Üí1.6T (+0.6T). Total corrections: +10.6T. New sum: Tier 1 ~125T + Tier 2 ~20T + Tier 3 ~6T = ~151T.',
    growthRate: '+23%/mo (Jan‚ÜíFeb 2026)',
    extrapolated: '~1,100T/day by Dec 2026 (at current growth, revised upward)',
    confidence: 'low-medium',
    confidenceReason: 'Aggregate of individually uncertain estimates. Doubao alone is ~42% of total ‚Äî its accuracy dominates. Revision adds confidence from better data on Claude, Grok, Hunyuan.'
  }
};

// ‚îÄ‚îÄ CORRECTION HISTORY ‚îÄ‚îÄ
// Documents all data corrections made to vendor estimates, with date + rationale
const corrections = {
  'Claude': [
    {
      date: '2026-02-20',
      old: '2.5T/day',
      new: '~10T/day',
      reason: 'Stale $3B ARR estimate replaced with confirmed $14B ARR (Feb 2026) + Anthropic 820M API req/day (Jun 2025) proxy. Revenue√∑blended price gives 8‚Äì12T range; midpoint 10T adopted.',
      source: 'Bloomberg $14B ARR (Feb-2026) + Anthropic API blog (Jun-2025)'
    }
  ],
  'Doubao': [
    {
      date: '2026-01-15',
      old: '~50T/day',
      new: '63T/day',
      reason: 'ByteDance Volcano Engine published January 2026 average (63T). Previous 50T was December 2025 figure.',
      source: 'Volcano Engine official blog (Jan 2026)'
    }
  ],
  'Hunyuan': [
    {
      date: '2026-02-25',
      old: 'Dark Zone (unknown)',
      new: '~2T/day est.',
      reason: 'Tencent Yuanbao reached 50M DAU + 900 internal corporate deployments (Feb 2026). Promoted from Tier 3 to Tier 2 based on DAU √ó avg tokens model.',
      source: 'Tencent investor day (Feb 2026) ¬∑ Yuanbao DAU announcement'
    }
  ],
  'Grok': [
    {
      date: '2026-02-20',
      old: 'Dark Zone (unknown)',
      new: '~0.5T/day est.',
      reason: 'xAI reported 134M queries/day (Feb 2026). At avg ~3.7K tokens/query ‚Üí ~0.5T/day. Promoted from Tier 3 to Tier 2.',
      source: 'xAI / Elon Musk X post citing 134M queries/day (Feb 2026)'
    }
  ],
  'Google Gemini': [
    {
      date: '2026-02-26',
      old: '35T/day (API-only)',
      new: '~50T/day (All Surfaces)',
      reason: 'Switched to All Surfaces scope per Q3 2025 earnings.',
      source: 'Alphabet Q3 2025 Earnings Call'
    }
  ],
  'DeepSeek': [
    {
      date: '2026-02-26',
      old: '~5T/day',
      new: '~7.5T/day',
      reason: 'V3 + R1 adoption surge.',
      source: 'HuggingFace + market modeling'
    }
  ],
  'Groq': [
    {
      date: '2026-02-26',
      old: '~0.15T/day',
      new: '~0.25T/day',
      reason: 'LPU capacity back-calc + valuation estimate.',
      source: 'Groq $750M funding round (Sep 2025)'
    }
  ],
  'ERNIE': [
    {
      date: '2026-02-10',
      old: '~1T/day',
      new: '1.6T/day',
      reason: 'Baidu Q4 2025 earnings confirmed upgraded ERNIE 4.5 adoption growth. Revised upward from previous estimate.',
      source: 'Baidu Q4 2025 earnings call'
    }
  ]
};

function renderCorrectionBadge(vendorName) {
  const history = corrections[vendorName];
  if (!history || history.length === 0) return '';
  const count = history.length;
  const id = 'corr-' + vendorName.replace(/[^a-z0-9]/gi, '');
  return `<button class="correction-badge" onclick="toggleCorrection('${id}')" title="Data corrected ${count}√ó ‚Äî click to see history">‚úèÔ∏è ${count > 1 ? count + ' corrections' : 'corrected ' + history[0].date}</button>`;
}

function renderCorrectionPanel(vendorName) {
  const history = corrections[vendorName];
  if (!history || history.length === 0) return '';
  const id = 'corr-' + vendorName.replace(/[^a-z0-9]/gi, '');
  let inner = history.map(c => `
    <div style="margin-bottom:8px;padding-bottom:8px;border-bottom:1px solid #fde68a;">
      <span class="correction-date">üìÖ ${c.date}</span><br>
      <span class="correction-old">${c.old}</span> ‚Üí <span class="correction-new">${c.new}</span><br>
      <span style="color:var(--muted)">${c.reason}</span><br>
      <span style="font-size:0.68rem;color:var(--subtle)">Source: ${c.source}</span>
    </div>`).join('');
  return `<div class="correction-panel" id="${id}" style="display:none">${inner}</div>`;
}

function toggleCorrection(id) {
  const panel = document.getElementById(id);
  if (!panel) return;
  panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
}

const confBadgeClass = { 'high': 'conf-high', 'medium': 'conf-medium', 'medium-low': 'conf-medium', 'low-medium': 'conf-low-medium' };
const confBadgeLabel = { 'high': '‚úì High confidence', 'medium': '~ Medium confidence', 'medium-low': '‚âà Medium-low', 'low-medium': '‚âà Low-medium' };

function renderMethodPanel(id) {
  const d = methodData[id];
  if (!d) return '';
  const cls = confBadgeClass[d.confidence] || 'conf-low-medium';
  const lbl = confBadgeLabel[d.confidence] || d.confidence;
  const srcLink = d.sourceUrl
    ? `<a href="${d.sourceUrl}" target="_blank" rel="noopener" style="color:var(--us);text-decoration:none;font-weight:600;font-size:0.72rem;"> ‚Üó Primary source</a>`
    : '';
  const src2Link = d.sourceUrl2
    ? `<a href="${d.sourceUrl2}" target="_blank" rel="noopener" style="color:var(--us);text-decoration:none;font-weight:600;font-size:0.72rem;"> ‚Üó ${d.sourceUrl2Label || 'Secondary source'}</a>`
    : '';
  return `<div class="method-panel-inner">
    <strong>How we estimated ${d.vendor}</strong>
    <span class="method-source">üìå Source: ${d.source} <em>(${d.sourceDate})</em> ‚Äî ${d.sourceValue}${srcLink}${src2Link ? ' ¬∑ ' + src2Link : ''}</span>
    <span class="method-logic">${d.logic}</span>
    <span class="method-extrapolation">üìà Growth rate: ${d.growthRate} ‚Üí <strong>${d.extrapolated}</strong></span>
    <span><span class="method-conf-badge ${cls}">${lbl}</span> <span class="method-source">${d.confidenceReason}</span></span>
    <a href="https://github.com/gf691271/gatt/issues/new?title=Data+correction+${encodeURIComponent(d.vendor)}&labels=data" target="_blank" class="method-correct-link">‚úèÔ∏è Correct this estimate</a>
  </div>`;
}

function toggleMethod(vendorId) {
  const panel = document.getElementById('method-' + vendorId);
  if (!panel) return;
  const isHidden = panel.style.display === 'none';
  panel.style.display = isHidden ? 'block' : 'none';
  // Render content on first open
  if (isHidden) {
    const inner = panel.querySelector('.method-panel-inner') || document.getElementById('method-' + vendorId + '-inner');
    if (inner && !inner.dataset.rendered) {
      inner.innerHTML = renderMethodPanel(vendorId);
      inner.dataset.rendered = '1';
    }
  }
}

function toggleProjMethod(id) {
  const panel = document.getElementById(id);
  if (!panel) return;
  panel.style.display = panel.style.display === 'none' ? 'block' : 'none';
}

// Populate global method panel inner on page load
(function() {
  const inner = document.getElementById('method-global-inner');
  if (inner) inner.innerHTML = renderMethodPanel('global');
})();

// ‚îÄ‚îÄ RANKING TABLE ‚îÄ‚îÄ
// Tier 1: direct or strongly-sourced data ‚Äî sorted by tokNum desc
// mom: month-on-month growth estimate (Jan‚ÜíFeb 2026), null = unknown
const vendors = [
  {rank:1,  flag:'üá®üá≥', name:'Doubao',        co:'ByteDance',    tokens:'63T',   tokNum:63,   conf:2, src:'Volcano Engine Jan 2026 avg', country:'CN', mom:5},
  {rank:2,  flag:'üá∫üá∏', name:'Google Gemini', co:'Google',       tokens:'~50T',  tokNum:50,   conf:3, src:'Alphabet earnings All Surfaces Oct 2025',   country:'US', mom:8},
  {rank:3,  flag:'üá∫üá∏', name:'ChatGPT / API', co:'OpenAI',       tokens:'~28T',  tokNum:28,   conf:2, src:'ARR proxy + 15%/mo growth from Sep 2025 baseline',   country:'US', mom:15},
  {rank:4,  flag:'üá®üá≥', name:'Qwen',          co:'Alibaba Cloud',tokens:'5T',    tokNum:5,    conf:2, src:'Earnings',                 country:'CN', mom:12},
  {rank:5,  flag:'üá®üá≥', name:'ERNIE',         co:'Baidu',        tokens:'1.6T',  tokNum:1.6,  conf:3, src:'Earnings',                 country:'CN', mom:8},
  {rank:6,  flag:'üá®üá≥', name:'Spark',         co:'iFlytek',      tokens:'1.4T',  tokNum:1.4,  conf:2, src:'Earnings',                 country:'CN', mom:null},
  {rank:7,  flag:'üá∫üá∏', name:'OpenRouter',    co:'OpenRouter',   tokens:'1.0T',  tokNum:1.0,  conf:3, src:'Official stats',           country:'US', mom:18},
  {rank:8,  flag:'üá®üá≥', name:'MiniMax',       co:'MiniMax',      tokens:'0.35T', tokNum:0.35, conf:2, src:'OpenRouter + HuggingFace', country:'CN', mom:null},
  {rank:9,  flag:'üá®üá≥', name:'Kimi',          co:'Moonshot AI',  tokens:'0.17T', tokNum:0.17, conf:2, src:'OpenRouter',               country:'CN', mom:null},
  {rank:10, flag:'üá®üá≥', name:'GLM',           co:'Zhipu AI',     tokens:'0.11T', tokNum:0.11, conf:2, src:'OpenRouter',               country:'CN', mom:null},
];

// Tier 2: calculated estimates (midpoint of range, revenue back-calc) ‚Äî sorted desc
const tier2 = [
  {flag:'üá®üá≥', name:'DeepSeek',      co:'DeepSeek AI',    tokNum:7.5,  tokens:'~7.5T est.',  conf:1, src:'HuggingFace + market share', country:'CN', mom:22},
  {flag:'üá∫üá∏', name:'Azure OpenAI',  co:'Microsoft',      tokNum:7,    tokens:'~7T est.',    conf:1, src:'Revenue √∑ price',            country:'US', mom:12},
  {flag:'üá∫üá∏', name:'Claude',        co:'Anthropic',      tokNum:10,   tokens:'~10T est.',   conf:1, src:'$14B ARR Feb-2026 √∑ price + 820M req/day proxy', country:'US', mom:14},
  {flag:'üá´üá∑', name:'Mistral',       co:'Mistral AI',     tokNum:0.6,  tokens:'~0.6T est.',  conf:1, src:'$400M ARR √∑ price',          country:'EU', mom:null},
  {flag:'üá∫üá∏', name:'Llama API',     co:'Meta',           tokNum:0.2,  tokens:'~0.2T est.',  conf:1, src:'Growth rate stmt',           country:'US', mom:null},
  {flag:'üá∫üá∏', name:'Bedrock',       co:'Amazon AWS',     tokNum:0.15, tokens:'~0.15T est.', conf:1, src:'Revenue known, price est.',  country:'US', mom:null},
  {flag:'üá∫üá∏', name:'Groq',          co:'Groq',           tokNum:0.25, tokens:'~0.25T est.', conf:1, src:'2.5M devs √ó active usage est.', country:'US', mom:20},
  {flag:'üá∫üá∏', name:'Perplexity',    co:'Perplexity AI',  tokNum:0.07, tokens:'~0.07T est.', conf:1, src:'Query volume √∑ avg length',  country:'US', mom:null},
  {flag:'üá®üá≥', name:'Hunyuan',       co:'Tencent',        tokNum:2,    tokens:'~2T est.',    conf:1, src:'Yuanbao 50M DAU + 900 internal apps (Feb-2026)', country:'CN', mom:null},
  {flag:'üá∫üá∏', name:'Grok',          co:'xAI',            tokNum:0.5,  tokens:'~0.5T est.',  conf:1, src:'134M queries/day (Feb-2026) √ó avg tokens', country:'US', mom:null},
];

// Tier 3: data dark zone
const tier3 = [
  {name:'Ollama',               flag:'üåê',  co:'Ollama',          reason:'Local inference ‚Äî no telemetry'},
  {name:'Ollama',               flag:'üåê',  co:'Ollama',          reason:'Local inference ‚Äî no telemetry'},
  {name:'LM Studio',            flag:'üåê',  co:'LM Studio',       reason:'Local inference ‚Äî no telemetry'},
  {name:'NIM',                  flag:'üá∫üá∏', co:'NVIDIA',          reason:'Enterprise private deployment'},
  {name:'Self-hosted (HF)',     flag:'üåê',  co:'HuggingFace',     reason:'Download-and-run, no usage data'},
  {name:'Yi',                   flag:'üá®üá≥', co:'01.AI',           reason:'No public disclosure'},
  {name:'Step',                 flag:'üá®üá≥', co:'StepFun',         reason:'No public disclosure'},
  {name:'SenseCore',            flag:'üá®üá≥', co:'SenseTime',       reason:'B2B private deployment'},
  {name:'Cohere',               flag:'üá®üá¶', co:'Cohere',          reason:'Enterprise contracts only'},
  {name:'Together AI',          flag:'üá∫üá∏', co:'Together AI',     reason:'No public data'},
];

const maxTok = 63;
function confLabel(c) {
  if (c >= 3) return '<span class="conf-3">‚úì Verified</span>';
  if (c === 2) return '<span class="conf-2">~ Media</span>';
  if (c === 1) return '<span style="color:var(--muted)">‚âà Estimated</span>';
  return '<span style="color:var(--subtle)">? Unknown</span>';
}

// ‚îÄ‚îÄ DATA FRESHNESS ‚îÄ‚îÄ
// Given a source date string (YYYY-MM-DD), return a freshness indicator
const TODAY_DATE = new Date('2026-02-26');
function freshnessDot(dateStr) {
  if (!dateStr) return '';
  const src = new Date(dateStr);
  const daysAgo = Math.floor((TODAY_DATE - src) / (1000*60*60*24));
  if (daysAgo <= 30) return `<span title="Fresh data (${daysAgo}d old)" style="display:inline-block;width:7px;height:7px;border-radius:50%;background:#22c55e;margin-left:4px;vertical-align:middle;"></span>`;
  if (daysAgo <= 90) return `<span title="Data is ${daysAgo}d old ‚Äî may be stale" style="display:inline-block;width:7px;height:7px;border-radius:50%;background:#f59e0b;margin-left:4px;vertical-align:middle;"></span>`;
  return `<span title="Data is ${daysAgo}d old ‚Äî likely outdated" style="display:inline-block;width:7px;height:7px;border-radius:50%;background:#ef4444;margin-left:4px;vertical-align:middle;"></span>`;
}

// Source dates for vendors (YYYY-MM-DD)
const vendorSourceDates = {
  'Doubao': '2026-01-15',
  'Google Gemini': '2025-10-29',
  'ChatGPT / API': '2026-02-01',
  'Claude': '2026-02-20',
  'DeepSeek': '2026-02-01',
  'Azure OpenAI': '2026-01-29',
  'Qwen': '2026-01-15',
  'Hunyuan': '2026-02-25',
  'ERNIE': '2026-02-10',
  'Spark': '2025-11-01',
  'OpenRouter': '2026-02-20',
  'Grok': '2026-02-20',
  'MiniMax': '2026-02-10',
  'Kimi': '2026-02-10',
  'GLM': '2026-02-01',
  'Mistral': '2025-12-01',
  'Llama API': '2025-11-15',
  'Bedrock': '2025-12-01',
  'Groq': '2026-01-15',
  'Perplexity': '2026-01-01',
};

// Map vendor names to method IDs
const vendorMethodIds = {
  'Doubao': 'doubao',
  'Google Gemini': 'gemini',
  'ChatGPT / API': 'openai',
  'Claude': 'claude'
};

const vendorPageLinks = {
  'Doubao': 'vendor/doubao.html',
  'Google Gemini': 'vendor/google.html',
  'ChatGPT / API': 'vendor/openai.html',
  'Claude': 'vendor/claude.html',
  'DeepSeek': 'vendor/deepseek.html'
};

function buildRankTable() {
  const table = document.getElementById('rankTable');
  const allRanked = [...vendors, ...tier2].sort((a,b) => b.tokNum - a.tokNum);
  let globalRank = 0;

  // Header
  let html = `<div class="rank-header"><div>#</div><div>Vendor ¬∑ Company</div><div>T Tokens/day</div><div>Source <span title="Confidence: Verified=official | Media=press/analyst | est.=GATT model" style="cursor:help;color:var(--subtle);">‚ìò</span></div></div>`;

  allRanked.forEach(v => {
    globalRank++;
    const bar = Math.min((v.tokNum / maxTok * 100), 100).toFixed(1);
    const col = v.country === 'CN' ? 'var(--cn)' : v.country === 'EU' ? '#4f7942' : 'var(--us)';
    const isTier2 = v.conf === 1;
    const tokenLabel = isTier2 ? `<span style="color:var(--muted)">${v.tokens}</span>` : `<strong>${v.tokens}</strong>`;
    const confBadge = isTier2
      ? `<span style="font-size:.65rem;color:var(--muted);font-weight:400">‚âà est.</span>`
      : confLabel(v.conf);
    const methodId = vendorMethodIds[v.name];
    const vendorLink = vendorPageLinks[v.name];
    const infoBtn = methodId
      ? `<button class="show-method" onclick="toggleMethod('${methodId}')" title="How we estimated this">‚ìò</button>`
      : '';
    const methodPanel = methodId
      ? `<div class="method-panel" id="method-${methodId}" style="display:none"><div class="method-panel-inner">${renderMethodPanel(methodId)}</div></div>`
      : '';
    const nameHtml = vendorLink
      ? `<a href="${vendorLink}" class="rank-name" style="color:inherit;text-decoration:none;border-bottom:1px dashed var(--subtle)">${v.name}</a>`
      : `<span class="rank-name">${v.name}</span>`;
    const correctionBadge = renderCorrectionBadge(v.name);
    const correctionPanel = renderCorrectionPanel(v.name);
    const freshDot = freshnessDot(vendorSourceDates[v.name]);

    html += `<div class="rank-row-wrapper">
    <div class="rank-row${isTier2 ? ' dark-row' : ''}">
      <div class="rank-num">${globalRank}</div>
      <div>
        <span class="rank-flag">${v.flag}</span>
        ${nameHtml}
        <span style="font-size:.7rem;color:var(--muted);margin-left:5px;font-weight:400">${v.co}</span>
        ${infoBtn}${correctionBadge}
        <div class="rank-bar-wrap" style="margin-top:4px">
          <div class="rank-bar-fill" style="width:${bar}%;background:${col};${isTier2?'opacity:0.45':''}"></div>
        </div>
      </div>
      <div class="rank-tokens">${tokenLabel}${v.mom != null ? `<br><span style="font-size:.62rem;color:#166534;font-weight:600;">‚Üë+${v.mom}%/mo</span>` : ''}</div>
      <div class="rank-confidence" style="font-size:.68rem">${confBadge}${freshDot}<br><span style="color:var(--subtle);font-size:.62rem">${v.src}</span></div>
    </div>
    ${methodPanel}${correctionPanel}
    </div>`;
  });

  // Dark zone
  html += `<div class="tier-divider">üï≥Ô∏è Data Dark Zone ‚Äî ${tier3.length} vendors with no public data</div>`;
  tier3.forEach(v => {
    html += `<div class="rank-row-wrapper"><div class="rank-row dark-row" style="opacity:.45">
      <div class="rank-num">‚Äî</div>
      <div><span class="rank-flag">${v.flag}</span><span class="rank-name">${v.name}</span>
        <span style="font-size:.7rem;color:var(--subtle);margin-left:5px">${v.co}</span></div>
      <div style="font-size:.7rem;color:var(--subtle)">unknown</div>
      <div style="font-size:.65rem;color:var(--subtle)">${v.reason}</div>
    </div></div>`;
  });

  table.innerHTML = html;
}

// ‚îÄ‚îÄ COUNTRY RANKING ‚îÄ‚îÄ
// Static estimates with confidence labels ‚Äî based on vendor HQ + deployment geography
// Sources: China NDB 2025, OpenRouter State of AI, GATT methodology
function buildCountryRank() {
  const el = document.getElementById('countryRank');
  if (!el) return;

  const staticCountries = [
    {flag:'üá®üá≥', name:'China',         pct:55, vol:'~66T',  conf:'Medium', note:'Doubao dominant ¬∑ NDB official 30T/d mid-2025',   col:'var(--cn)'},
    {flag:'üá∫üá∏', name:'United States', pct:30, vol:'~36T',  conf:'Medium', note:'Google + OpenAI + Microsoft Azure',                col:'var(--us)'},
    {flag:'üá¨üáß', name:'United Kingdom',pct:4,  vol:'~4.8T', conf:'Low',    note:'DeepMind + AWS UK ¬∑ model est.',                   col:'#6b7280'},
    {flag:'üá©üá™', name:'Germany',       pct:3,  vol:'~3.6T', conf:'Low',    note:'Aleph Alpha + enterprise deployments',             col:'#6b7280'},
    {flag:'üáØüáµ', name:'Japan',         pct:3,  vol:'~3.6T', conf:'Low',    note:'SoftBank + NTT AI ¬∑ govt initiatives',            col:'#6b7280'},
    {flag:'üá´üá∑',  name:'France',        pct:1.5,vol:'~1.8T', conf:'Low',    note:'Mistral AI HQ ¬∑ EU AI sovereignty play',           col:'#6b7280'},
    {flag:'üá®üá¶',  name:'Canada',        pct:1,  vol:'~1.2T', conf:'Low',    note:'Cohere + academic labs ¬∑ punching above weight',   col:'#6b7280'},
    {flag:'üáÆüá≥',  name:'India',         pct:0.6,vol:'~0.8T', conf:'Low',    note:'0.6% of China\'s volume today ‚Äî but 1.4B people + IIT talent + govt AI mission = the biggest upside in this table', col:'#f59e0b'},
    {flag:'üá∞üá∑',  name:'South Korea',   pct:0.5,vol:'~0.6T', conf:'Low',    note:'Samsung + Naver HyperCLOVA',                       col:'#6b7280'},
    {flag:'üáßüá∑',  name:'Brazil',        pct:0.4,vol:'~0.5T', conf:'Low',    note:'0.4% now ‚Äî but 215M people, Portuguese-first internet, and Lula\'s AI investment push. LatAm\'s sleeping giant wakes up.', col:'#22c55e'},
    {flag:'üá∏üá¶',  name:'Saudi Arabia',  pct:0.25,vol:'~0.3T',conf:'Low',    note:'Arabic NLP fastest-growing globally. $100B+ Saudi AI investment. The Arab world\'s AI capital race is on.', col:'#f59e0b'},
    {flag:'üåç',  name:'Others',        pct:0.75,vol:'~0.9T', conf:'Low',    note:'Israel, UAE, Singapore, etc.',                     col:'#9ca3af'},
  ];

  let html = '';
  staticCountries.forEach((c, i) => {
    const confColor = c.conf === 'Medium' ? '#92400e' : '#6b7280';
    html += `<div class="country-row">
      <div class="rank-num">${i+1}</div>
      <div style="display:flex;align-items:center;gap:8px">
        <span style="font-size:1.1rem">${c.flag}</span>
        <div>
          <span style="font-weight:600;font-size:.9rem">${c.name}</span>
          <div style="font-size:.62rem;color:var(--muted)">${c.note}</div>
        </div>
      </div>
      <div style="font-weight:700;font-size:.9rem">${c.vol}</div>
      <div style="flex:1;padding-left:12px">
        <div style="height:6px;border-radius:3px;background:${c.col};width:${c.pct}%;opacity:0.75;max-width:100%"></div>
        <div style="font-size:.68rem;color:var(--muted);margin-top:2px">${c.pct}% est. ¬∑ <span style="color:${confColor};font-weight:600">${c.conf} confidence</span></div>
      </div>
    </div>`;
  });
  el.innerHTML = html;
}

// ‚îÄ‚îÄ SHARE ‚îÄ‚îÄ
function shareStats() {
  const text = `Global AI Token Tracker ‚Äî Feb 27, 2026\n\nüåç ~162T tokens/day globally (+7% from revised OpenAI estimate)\nüá®üá≥ China: ~55% by volume (Doubao 63T/day)\nüá∫üá∏ US: leads by compute value (Google 50T + OpenAI 28T + Claude 10T)\nüí∞ Global Token GDP: ~$45B/year\n\nhttps://gf691271.github.io/gatt/`;
  if (navigator.share) {
    navigator.share({ title: 'Global AI Token Tracker', text, url: 'https://gf691271.github.io/ai-token-tracker/' });
  } else {
    navigator.clipboard.writeText(text).then(() => {
      const btn = document.querySelector('.btn-share');
      btn.textContent = '‚úì Copied to clipboard';
      setTimeout(() => btn.textContent = '‚Üó Share these numbers', 2000);
    });
  }
}

// ‚îÄ‚îÄ NUMBER COUNTER ANIMATION ‚îÄ‚îÄ
// Animates numbers from 0 to target value when they scroll into view
function animateCounter(el, target, suffix, duration) {
  if (!el || el.dataset.animated) return;
  el.dataset.animated = '1';
  const start = performance.now();
  const isFloat = String(target).includes('.');
  function tick(now) {
    const elapsed = now - start;
    const progress = Math.min(elapsed / duration, 1);
    // Ease out cubic
    const eased = 1 - Math.pow(1 - progress, 3);
    const current = target * eased;
    el.textContent = (isFloat ? current.toFixed(1) : Math.round(current)) + suffix;
    if (progress < 1) requestAnimationFrame(tick);
    else el.textContent = (isFloat ? target.toFixed(1) : target) + suffix;
  }
  requestAnimationFrame(tick);
}

function setupCounterAnimations() {
  // Headline numbers
  const animations = [
    { selector: '#hl-global-tokens', target: 151, suffix: 'T', duration: 1200 },
    { selector: '#hl-growth', target: 12, suffix: '%', duration: 800 },
    { selector: '#hl-cn-vol', target: 55, suffix: '%', duration: 900 },
    { selector: '#hl-us-val', target: 62, suffix: '%', duration: 900 },
    { selector: '#hl-year-proj', target: 1000, suffix: 'T', duration: 1500 },
    { selector: '#hl-dark-count', target: 11, suffix: '', duration: 600 },
  ];
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const anim = animations.find(a => entry.target.matches(a.selector));
        if (anim) animateCounter(entry.target, anim.target, anim.suffix, anim.duration);
      }
    });
  }, { threshold: 0.5 });
  animations.forEach(a => {
    const el = document.querySelector(a.selector);
    if (el) observer.observe(el);
  });
}

// ‚îÄ‚îÄ INIT ‚îÄ‚îÄ
initChart();
buildRankTable();
buildCountryRank();
setupCounterAnimations();

// ‚îÄ‚îÄ ACTION BUTTONS ‚îÄ‚îÄ
let liked = false;
function handleLike() {
  liked = !liked;
  const btn = document.getElementById('btn-like');
  const countEl = document.getElementById('like-count');
  btn.classList.toggle('liked', liked);
  countEl.textContent = liked ? 249 : 248;
}
function handleShare() {
  const url = window.location.href;
  if (navigator.share) {
    navigator.share({ title: 'GATT ‚Äî Global AI Token Tracker', url });
  } else {
    navigator.clipboard.writeText(url).then(() => alert('Link copied!'));
  }
}
function handleCorrect() {
  window.open('https://github.com/gf691271/gatt/issues/new?title=Data+correction&labels=data', '_blank');
}

// ‚îÄ‚îÄ COPY SHARE TEXT ‚îÄ‚îÄ
function copyShareText() {
  const text = `China runs 55% of global AI tokens, US runs 30%. But in compute value, it flips. The Token Economy is not what you think.\n\nGATT Token Economy Index ‚Üí https://gf691271.github.io/gatt/ #TokenEconomy #AIdata`;
  navigator.clipboard.writeText(text).then(() => {
    const btn = document.getElementById('btn-copy-share');
    btn.textContent = '‚úì Copied!';
    setTimeout(() => { btn.textContent = 'üìã Copy shareable text'; }, 2000);
  });
}

// ‚îÄ‚îÄ RANK TABLE SEARCH ‚îÄ‚îÄ
function filterRankTable(query) {
  const q = query.toLowerCase();
  const rows = document.querySelectorAll('#rankTable .rank-row-wrapper');
  let visible = 0;
  rows.forEach(row => {
    const text = row.textContent.toLowerCase();
    const show = !q || text.includes(q);
    row.style.display = show ? '' : 'none';
    if (show) visible++;
  });
  const countEl = document.getElementById('rank-count');
  if (countEl) countEl.textContent = q ? `${visible} result${visible !== 1 ? 's' : ''}` : '';
}

// ‚îÄ‚îÄ DATA EXPORT ‚îÄ‚îÄ
function downloadCSV() {
  const header = 'Rank,Vendor,Company,Country,Tokens_T_day,Tier,Confidence,Source\n';
  const allRanked = [...vendors, ...tier2].sort((a,b) => b.tokNum - a.tokNum);
  const rows = allRanked.map((v,i) => 
    `${i+1},"${v.name}","${v.co}","${v.country}",${v.tokNum},${v.conf===1?2:1},"${v.conf===3?'Verified':v.conf===2?'Media':'Estimated'}","${v.src}"`
  ).join('\n');
  const csv = `# GATT Global AI Token Tracker ‚Äî Data Export\n# Source: https://gf691271.github.io/gatt/ by Frank Gao ‚Äî CC BY 4.0\n# Updated: 2026-02-27 | Version: 0.58\n#\n${header}${rows}`;
  const blob = new Blob([csv], { type: 'text/csv' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'gatt-vendor-data-2026-02-26.csv'; a.click();
  URL.revokeObjectURL(url);
}

function downloadMD() {
  const allRanked = [...vendors, ...tier2].sort((a,b) => b.tokNum - a.tokNum);
  let md = `# GATT Global AI Token Tracker\n**Source:** https://gf691271.github.io/gatt/ by Frank Gao ‚Äî CC BY 4.0  \n**Updated:** 2026-02-26 | **Global Total:** ~151T tokens/day\n\n## Key Numbers\n- üåç Global daily tokens: **~151T/day** (Feb 2026)\n- üá®üá≥ China share: **~55% volume** / ~14% compute value\n- üá∫üá∏ US share: **~30% volume** / ~62% compute value\n- üìà MoM growth: **+12%** (Jan‚ÜíFeb 2026)\n- ü•á Top vendor: **Doubao** (ByteDance) ~63T/day\n\n## Vendor Ranking\n\n| # | Vendor | Company | Country | T Tokens/day | Confidence | Source |\n|---|--------|---------|---------|--------------|------------|--------|\n`;
  allRanked.forEach((v,i) => {
    const conf = v.conf===3?'‚úì Verified':v.conf===2?'~ Media':'‚âà Estimated';
    md += `| ${i+1} | ${v.flag} ${v.name} | ${v.co} | ${v.country} | ${v.tokens} | ${conf} | ${v.src} |\n`;
  });
  md += `\n## Attribution\n> "According to the Global AI Token Tracker (GATT), a project by Frank Gao tracking daily AI inference consumption across 29 vendors..." \n> Source: https://gf691271.github.io/gatt/ ‚Äî CC BY 4.0\n`;
  const blob = new Blob([md], { type: 'text/markdown' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'gatt-data-2026-02-26.md'; a.click();
  URL.revokeObjectURL(url);
}

// ‚îÄ‚îÄ AUTO DATE ‚îÄ‚îÄ
(function() {
  const d = new Date();
  const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  const label = `Updated ${months[d.getMonth()]} ${d.getDate()}, ${d.getFullYear()}`;
  const el = document.getElementById('header-date');
  if (el) el.textContent = label;
})();

// ‚îÄ‚îÄ LANGUAGE TOGGLE ‚îÄ‚îÄ
const i18n = {
  en: {
    tagline: 'The open index tracking the global Token Economy ‚Äî AI inference as commodity, currency, and geopolitical force.',
    'header-date-prefix': 'Updated',
    'section-key-numbers': 'Key Numbers ‚Äî Feb 26, 2026',
    'section-projections': '2026 Projections ‚Äî End of Year',
    'section-spotlight': 'Spotlight ‚Äî The Race at the Top: Doubao vs Gemini',
    'section-trend': 'Daily Trend ‚Äî Token Consumption Over Time',
    'section-vendor-rank': 'Vendor Ranking ‚Äî Daily Tokens',
    'section-country-rank': 'Country Ranking ‚Äî Token Volume Share',
    'section-rising': 'Rising Powers ‚Äî The Next Billion Tokens',
    'section-watchlist': 'Watch List ‚Äî Numbers to Track Next',
    'section-token-economy': 'The Token Economy ‚Äî A Macro Framework',
    'section-about': 'About This Project',
    'section-sources': 'Data Sources',
    'section-methodology': 'Methodology ‚Äî How We Estimate',
    'section-agent-api': 'For AI Agents ‚Äî Machine-Readable Data Layer',
    'section-share': 'Share This Data',
    'section-export': 'Export Data ‚Äî Download for Analysis',
    'section-changelog': 'Correction & Update Log ‚Äî Public Data Revision History',
  },
  zh: {
    tagline: 'ÂÖ®ÁêÉ Token ÁªèÊµéÂºÄÊîæÊåáÊï∞ ‚Äî ËøΩË∏™ AI Êé®ÁêÜÁÆóÂäõ‰Ωú‰∏∫Â§ßÂÆóÂïÜÂìÅ„ÄÅË¥ßÂ∏Å‰∏éÂú∞ÁºòÊîøÊ≤ªÂäõÈáèÁöÑÊµÅÂä®„ÄÇ',
    'header-date-prefix': 'Êõ¥Êñ∞‰∫é',
    'section-key-numbers': 'Ê†∏ÂøÉÊï∞ÊçÆ ‚Äî 2026Âπ¥2Êúà26Êó•',
    'section-projections': '2026Âπ¥È¢ÑÊµã ‚Äî Âπ¥Êú´Â±ïÊúõ',
    'section-spotlight': 'ÁÑ¶ÁÇπÂØπÊØî ‚Äî È°∂Á´Ø‰πã‰∫âÔºöË±ÜÂåÖ vs Gemini',
    'section-trend': 'Êó•Ë∂ãÂäøÂõæ ‚Äî TokenÊ∂àËÄóÈáèÂéÜÂè≤Êõ≤Á∫ø',
    'section-vendor-rank': 'ÂéÇÂïÜÊéíË°å ‚Äî ÊØèÊó•TokenÈáè',
    'section-country-rank': 'ÂõΩÂÆ∂ÊéíË°å ‚Äî TokenÈáè‰ªΩÈ¢ù',
    'section-percapita': 'AI‰∏çÂπ≥Á≠â ‚Äî ‰∫∫ÂùáÊØèÊó•TokenÈáè',
    'section-rising': 'Â¥õËµ∑ÂäõÈáè ‚Äî ‰∏ã‰∏Ä‰∏™ÂçÅ‰∫øTokenÊù•Ëá™Âì™Èáå',
    'section-watchlist': 'ËßÇÂØüÊ∏ÖÂçï ‚Äî ÂÄºÂæóËøΩË∏™ÁöÑ‰∏ã‰∏Ä‰∏™Êï∞Â≠ó',
    'section-token-economy': 'TokenÁªèÊµéÂ≠¶ ‚Äî ÂÆèËßÇÊ°ÜÊû∂',
    'section-about': 'ÂÖ≥‰∫éÊú¨È°πÁõÆ',
    'section-sources': 'Êï∞ÊçÆÊù•Ê∫ê',
    'section-methodology': 'ÊñπÊ≥ïËÆ∫ ‚Äî Â¶Ç‰Ωï‰º∞ÁÆó',
    'section-agent-api': 'Èù¢ÂêëAI Agent ‚Äî Êú∫Âô®ÂèØËØªÊï∞ÊçÆÂ±Ç',
    'section-share': 'ÂàÜ‰∫´Êï∞ÊçÆ',
    'section-export': 'ÂØºÂá∫Êï∞ÊçÆ ‚Äî ‰∏ãËΩΩÁî®‰∫éÂàÜÊûê',
    'section-changelog': '‰øÆÊ≠£ËÆ∞ÂΩï ‚Äî ÂÖ¨ÂºÄÊï∞ÊçÆ‰øÆÊ≠£ÂéÜÂè≤',
  }
};
let currentLang = 'en';

// Enhanced setLang ‚Äî also translates section labels
function updateSectionLabels(lang) {
  const labels = document.querySelectorAll('.section-label');
  const keys = Object.keys(i18n.en).filter(k => k.startsWith('section-'));
  const enValues = keys.map(k => i18n.en[k]);
  labels.forEach(label => {
    const text = label.textContent.trim();
    const idx = enValues.findIndex(v => text === v || text.startsWith(v.split('‚Äî')[0].trim()));
    if (idx >= 0) {
      const key = keys[idx];
      label.textContent = i18n[lang][key] || text;
    }
  });
}
function setLang(lang) {
  currentLang = lang;
  document.getElementById('btn-en').classList.toggle('active', lang === 'en');
  document.getElementById('btn-zh').classList.toggle('active', lang === 'zh');
  // tagline
  const tg = document.getElementById('tagline');
  if (tg) tg.textContent = i18n[lang].tagline;
  // i18n spans
  document.querySelectorAll('.i18n').forEach(el => {
    el.textContent = el.dataset[lang] || el.dataset.en;
  });
  // section labels
  updateSectionLabels(lang);
  // i18n data attributes
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.dataset.i18n;
    if (i18n[lang][key]) el.textContent = i18n[lang][key];
  });
  // Update page title
  document.title = lang === 'zh' ? 'GATT ‚Äî ÂÖ®ÁêÉAI TokenËøΩË∏™Âô®' : 'GATT ‚Äî Global AI Token Tracker';
}

// ‚îÄ‚îÄ THEME SWITCHER ‚îÄ‚îÄ
function setTheme(t) {
  document.documentElement.setAttribute('data-theme', t);
  localStorage.setItem('gatt-theme', t);
  ['a','b','c','d'].forEach(x => {
    const btn = document.getElementById('th-' + x);
    if (btn) btn.style.borderColor = (x === t) ? '#2563eb' : 'transparent';
  });
}
(function() {
  const saved = localStorage.getItem('gatt-theme') || 'b';
  setTheme(saved);
})();
</script>

<!-- Quick Nav floating button -->
<div id="quick-nav" style="position:fixed;bottom:20px;left:20px;z-index:999;">
  <button onclick="toggleQuickNav()" style="width:42px;height:42px;border-radius:50%;background:var(--surface);border:1.5px solid var(--border);box-shadow:0 2px 8px rgba(0,0,0,0.12);cursor:pointer;font-size:1rem;color:var(--muted);display:flex;align-items:center;justify-content:center;" title="Quick navigation">‚ò∞</button>
  <div id="quick-nav-menu" style="display:none;position:absolute;bottom:50px;left:0;background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:0 4px 20px rgba(0,0,0,0.12);padding:8px 0;min-width:220px;font-family:-apple-system,sans-serif;font-size:0.78rem;">
    <div style="padding:6px 14px 4px;font-size:0.65rem;font-weight:700;text-transform:uppercase;letter-spacing:0.1em;color:var(--subtle);">Jump to</div>
    <a href="#section-numbers" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üìä Key Numbers</a>
    <a href="#section-trend" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üìà Daily Trend Chart</a>
    <a href="#section-spotlight" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">‚ö° Doubao vs Gemini</a>
    <a href="#section-vendors" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üèÜ Vendor Ranking</a>
    <a href="#section-countries" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üåç Country Ranking</a>
    <a href="#section-bubble" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">ü´ß Token Economy Map</a>
    <a href="#section-percapita" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üìä Per Capita Ranking</a>
    <a href="#section-rising" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üöÄ Rising Powers</a>
    <a href="#section-velocity" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">‚ö° Token Velocity</a>
    <a href="#section-watchlist" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üî≠ Watch List</a>
    <a href="#section-calc" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üßÆ DEC Calculator</a>
    <a href="#section-methodology" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üî¨ Methodology</a>
    <a href="#section-api" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">{ } Agent API</a>
    <a href="#section-about" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">‚Ñπ About & Cite</a>
    <a href="#section-token-gdp" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üí∞ Global Token GDP</a>
    <a href="#section-pricing" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üí≤ Vendor Pricing Intelligence</a>
    <a href="#section-provenance" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üîç Data Provenance Board</a>
    <a href="#section-blackhole" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üï≥Ô∏è Black Hole Vendor Methodology</a>
    <a href="#section-definition" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üìñ Token Economy Definition</a>
    <a href="#press" onclick="closeNav()" style="display:block;padding:7px 14px;color:var(--text);text-decoration:none;">üì∞ In the Press</a>
  </div>
</div>
<script>
function toggleQuickNav() {
  const m = document.getElementById('quick-nav-menu');
  m.style.display = m.style.display === 'none' ? 'block' : 'none';
}
function closeNav() {
  document.getElementById('quick-nav-menu').style.display = 'none';
}
document.addEventListener('click', e => {
  if (!document.getElementById('quick-nav').contains(e.target)) closeNav();
});
</script>

<div id="theme-switcher" style="position:fixed;bottom:20px;right:20px;display:flex;gap:4px;z-index:999;background:var(--surface);border:1px solid var(--border);border-radius:20px;padding:4px 6px;box-shadow:0 2px 8px rgba(0,0,0,0.12);">
  <span style="font-family:-apple-system,sans-serif;font-size:0.65rem;color:var(--muted);padding:3px 4px;align-self:center;">Theme</span>
  <button onclick="setTheme('a')" id="th-a" style="width:26px;height:26px;border-radius:50%;border:2px solid transparent;background:#0d0d0b;color:#00ff88;font-size:0.65rem;font-weight:700;cursor:pointer;font-family:monospace;">A</button>
  <button onclick="setTheme('b')" id="th-b" style="width:26px;height:26px;border-radius:50%;border:2px solid transparent;background:#f7f6f3;color:#171715;font-size:0.65rem;font-weight:700;cursor:pointer;font-family:Georgia,serif;">B</button>
  <button onclick="setTheme('c')" id="th-c" style="width:26px;height:26px;border-radius:50%;border:2px solid transparent;background:#f9fafb;color:#111827;font-size:0.65rem;font-weight:700;cursor:pointer;font-family:-apple-system,sans-serif;">C</button>
  <button onclick="setTheme('d')" id="th-d" style="width:26px;height:26px;border-radius:50%;border:2px solid transparent;background:#0f172a;color:#38bdf8;font-size:0.65rem;font-weight:700;cursor:pointer;font-family:-apple-system,sans-serif;">D</button>
</div>
</body>
</html>
